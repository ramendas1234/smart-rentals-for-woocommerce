/* New version: Update "allowTime" option */
!function(){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function r(n){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?t(Object(s),!0).forEach(function(e){var t,i;t=n,i=s[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))})}return n}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function f(e,t){var i,n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){var i;if(e)return"string"==typeof e?l(e,t):"Map"===(i="Object"===(i=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,s=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw s}}}}var g=86400,m={bubbles:!0,cancelable:!1,detail:null};function v(e,t){return e==g&&t.show2400?e:e%g}var e,d={appendTo:"body",className:null,closeOnWindow:!1,closeOnScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,lang:{},listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;for(var i=0,n=0;n<e;)n+=60*t.step(++i);var s=n-60*t.step(i-1);return v(e-s<n-e?s:n,t)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,scrollSelect:!1,wrapHours:!0,allowTimes:[]},a={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},h=function(){function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,n=s;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");this._handleFormatValue=this._handleFormatValue.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this.targetEl=e;i=s.extractAttrOptions(e,Object.keys(d));this.settings=this.parseSettings(r(r(r({},d),t),i))}var e,t,i;return e=s,i=[{key:"extractAttrOptions",value:function(e,t){var i,n={},s=f(t);try{for(s.s();!(i=s.n()).done;){var r=i.value;r in e.dataset&&(n[r]=e.dataset[r])}}catch(e){s.e(e)}finally{s.f()}return n}},{key:"isVisible",value:function(e){e=e[0];return 0<e.offsetWidth&&0<e.offsetHeight}},{key:"hideAll",value:function(){var e,t=f(document.getElementsByClassName("ui-timepicker-input"));try{for(t.s();!(e=t.n()).done;){var i=e.value.timepickerObj;i&&i.hideMe()}}catch(e){t.e(e)}finally{t.f()}}}],(t=[{key:"hideMe",value:function(){var e;this.settings.useSelect?this.targetEl.blur():this.list&&s.isVisible(this.list)&&(this.settings.selectOnBlur&&this._selectValue(),this.list.hide(),e=new CustomEvent("hideTimepicker",m),this.targetEl.dispatchEvent(e))}},{key:"_findRow",value:function(n){var s;return!(!n&&0!==n||(s=!1,n=this.settings.roundingFunction(n,this.settings),!this.list))&&(this.list.find("li").each(function(e,t){var i=parseInt(t.dataset.time);return!isNaN(i)&&i==n?(s=t,!1):void 0}),s)}},{key:"_hideKeyboard",value:function(){return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.settings.disableTouchKeyboard}},{key:"_setTimeValue",value:function(e,t){"INPUT"===this.targetEl.nodeName&&(null===e&&""==this.targetEl.value||(this.targetEl.value=e),(n=this).settings.useSelect)&&"select"!=t&&n.list&&n.list.val(n._roundAndFormatTime(n.anytime2int(e)));var i,n=new CustomEvent("selectTime",m);return this.selectedValue!=e?(this.selectedValue=e,e=new CustomEvent("changeTime",m),i=new CustomEvent("change",Object.assign(m,{detail:"timepicker"})),"select"==t?(this.targetEl.dispatchEvent(n),this.targetEl.dispatchEvent(e),this.targetEl.dispatchEvent(i)):-1==["error","initial"].indexOf(t)&&this.targetEl.dispatchEvent(e),!0):(-1==["error","initial"].indexOf(t)&&this.targetEl.dispatchEvent(n),!1)}},{key:"_getTimeValue",value:function(){return"INPUT"===this.targetEl.nodeName?this.targetEl.value:this.selectedValue}},{key:"_selectValue",value:function(){this.settings;var e,t=this.list.find(".ui-timepicker-selected");return!t.hasClass("ui-timepicker-disabled")&&(t.length&&((t=t.get(0).dataset.time)&&(e=parseInt(t),isNaN(e)||(t=e)),null!==t)&&("string"!=typeof t&&(t=this._int2time(t)),this._setTimeValue(t,"select")),!0)}},{key:"anytime2int",value:function(e){return"number"==typeof e?e:"string"==typeof e?this.time2int(e):"object"===c(e)&&e instanceof Date?3600*e.getHours()+60*e.getMinutes()+e.getSeconds():"function"==typeof e?e():null}},{key:"time2int",value:function(e){if(""===e||null==e)return null;if("now"===e)return this.anytime2int(new Date);if("string"!=typeof e)return e;e=e.toLowerCase().replace(/[\s\.]/g,""),"am"!==this.settings.lang.am||"a"!=e.slice(-1)&&"p"!=e.slice(-1)||(e+="m");var t=/^(([^0-9]*))?([0-9]?[0-9])(([0-5][0-9]))?(([0-5][0-9]))?(([^0-9]*))$/,i=e.match(/\W/),e=e.match(t=i?/^(([^0-9]*))?([0-9]?[0-9])(\W+([0-5][0-9]?))?(\W+([0-5][0-9]))?(([^0-9]*))$/:t);if(!e)return null;var i=parseInt(+e[3],10),t=e[2]||e[9],n=this.parseMinuteString(e[5]),s=+e[7]||0,e=(t||2!=e[3].length||"0"!=e[3][0]||(t="am"),24<i&&!n&&(i=+e[3][0],n=this.parseMinuteString(e[3][1])),i);if(i<=12&&t)var r=(t=t.trim())==this.settings.lang.pm||t==this.settings.lang.PM,e=12==i?r?12:0:i+(r?12:0);else if(3600*i+60*n+s>=g+(this.settings.show2400?1:0)){if(!1===this.settings.wrapHours)return null;e=i%24}r=3600*e+60*n+s;return r=i<12&&!t&&this.settings._twelveHourTime&&this.settings.scrollDefault()&&(e=r-this.settings.scrollDefault())<0&&g/-2<=e?(r+g/2)%g:r}},{key:"parseMinuteString",value:function(e){var t=1;return 1==(e=e||0).length&&(t=10),parseInt(e)*t||0}},{key:"intStringDateOrFunc2func",value:function(e){var t=this;return null==e?function(){return null}:"function"==typeof e?function(){return t.anytime2int(e())}:function(){return t.anytime2int(e)}}},{key:"parseSettings",value:function(e){var t;return e.lang=r(r({},a),e.lang),(this.settings=e).listWidth&&(e.listWidth=this.anytime2int(e.listWidth)),e.minTime=this.intStringDateOrFunc2func(e.minTime),e.maxTime=this.intStringDateOrFunc2func(e.maxTime),e.durationTime=this.intStringDateOrFunc2func(e.durationTime),e.scrollDefault?e.scrollDefault=this.intStringDateOrFunc2func(e.scrollDefault):e.scrollDefault=e.minTime,"string"==typeof e.timeFormat&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),"function"!=typeof e.step&&(t=e.step,e.step=function(){return t}),e.disableTimeRanges=this._parseDisableTimeRanges(e.disableTimeRanges),e.allowTimes=this._allowTimes(e.allowTimes),e.scrollSelect&&(e.scrollSelect=this.anytime2int(e.scrollSelect)),e.closeOnWindowScroll&&!e.closeOnScroll&&(e.closeOnScroll=e.closeOnWindowScroll),!0===e.closeOnScroll&&(e.closeOnScroll=window.document),e}},{key:"_allowTimes",value:function(e){if(!e||0==e.length)return[];var t,i=[];for(t in e){var n=this.anytime2int(e[t]);null!=n&&(i[t]=n)}return i}},{key:"_parseDisableTimeRanges",value:function(e){if(!e||0==e.length)return[];for(var t in e)e[t]=[this.anytime2int(e[t][0]),this.anytime2int(e[t][1])];for(t=(e=e.sort(function(e,t){return e[0]-t[0]})).length-1;0<t;t--)e[t][0]<=e[t-1][1]&&(e[t-1]=[Math.min(e[t][0],e[t-1][0]),Math.max(e[t][1],e[t-1][1])],e.splice(t,1));return e}},{key:"_disableTextInputHandler",value:function(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}},{key:"_int2duration",value:function(e,t){e=Math.abs(e);var i,e=Math.round(e/60),n=[];return e<60?n=[e,this.settings.lang.mins]:(i=Math.floor(e/60),e=e%60,30==t&&30==e&&(i+=this.settings.lang.decimal+5),n.push(i),n.push(1==i?this.settings.lang.hr:this.settings.lang.hrs),30!=t&&e&&(n.push(e),n.push(this.settings.lang.mins))),n.join(" ")}},{key:"_roundAndFormatTime",value:function(e){if(null!==(e=this.settings.roundingFunction(e,this.settings)))return this._int2time(e)}},{key:"_int2time",value:function(e){if("number"!=typeof e)return null;var t=parseInt(e%60),i=parseInt(e/60%60),n=parseInt(e/3600%24),s=new Date(1970,0,2,n,i,t,0);if(isNaN(s.getTime()))return null;if("function"==typeof this.settings.timeFormat)return this.settings.timeFormat(s);for(var r,a,l="",o=0;o<this.settings.timeFormat.length;o++)switch(a=this.settings.timeFormat.charAt(o)){case"a":l+=11<s.getHours()?this.settings.lang.pm:this.settings.lang.am;break;case"A":l+=11<s.getHours()?this.settings.lang.PM:this.settings.lang.AM;break;case"g":l+=0===(r=s.getHours()%12)?"12":r;break;case"G":r=s.getHours(),l+=r=e===g?this.settings.show2400?24:0:r;break;case"h":l+=0===(r=0!==(r=s.getHours()%12)&&r<10?"0"+r:r)?"12":r;break;case"H":r=s.getHours(),l+=9<(r=e===g?this.settings.show2400?24:0:r)?r:"0"+r;break;case"i":l+=9<(i=s.getMinutes())?i:"0"+i;break;case"s":l+=9<(t=s.getSeconds())?t:"0"+t;break;case"\\":o++,l+=this.settings.timeFormat.charAt(o);break;default:l+=a}return l}},{key:"_setSelected",value:function(){var e,t,i,n,s=this.list,r=(s.find("li").removeClass("ui-timepicker-selected"),this.anytime2int(this._getTimeValue()));null!==r&&(e=this._findRow(r))&&(t=e.getBoundingClientRect(),n=s.get(0).getBoundingClientRect(),((i=t.top-n.top)+t.height>n.height||i<0)&&(i=s.scrollTop()+(t.top-n.top)-t.height,s.scrollTop(i)),n=parseInt(e.dataset.time),!this.settings.forceRoundTime&&n!==r||e.classList.add("ui-timepicker-selected"))}},{key:"_isFocused",value:function(e){return e===document.activeElement}},{key:"_handleFormatValue",value:function(e){e&&"timepicker"==e.detail||this._formatValue(e)}},{key:"_formatValue",value:function(e,t){var i,n;""===this.targetEl.value?this._setTimeValue(null,t):(!this._isFocused(this.targetEl)||e&&"change"==e.type)&&(e=this.settings,null===(n=this.anytime2int(this.targetEl.value))?(i=new CustomEvent("timeFormatError",m),this.targetEl.dispatchEvent(i)):(i=this._isTimeRangeError(n,e),e.forceRoundTime&&(e=e.roundingFunction(n,e))!=n&&(n=e,t=null),e=this._int2time(n),i?(this._setTimeValue(e),n=new CustomEvent("timeRangeError",m),this.targetEl.dispatchEvent(n)):this._setTimeValue(e,t)))}},{key:"_isTimeRangeError",value:function(e,t){if(null!==t.minTime&&null!==t.maxTime&&(e<t.minTime()||e>t.maxTime()))return!0;var i,n=f(t.disableTimeRanges);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(e>=s[0]&&e<s[1])return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"_generateNoneElement",value:function(e,t){var i,n,s,r;return"object"==c(e)?(i=e.label,n=e.className,s=e.value):"string"==typeof e?(i=e,s=""):$.error("Invalid noneOption value"),t?(r=document.createElement("option")).value=s:(r=document.createElement("li")).dataset.time=String(s),r.innerText=i,r.classList.add(n),r}},{key:"_handleKeyUp",value:function(e){var t=this;if(!this.list||!s.isVisible(this.list)||this.settings.disableTextInput)return!0;if("paste"===e.type||"cut"===e.type)setTimeout(function(){t.settings.typeaheadHighlight?t._setSelected():t.list.hide()},0);else switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:this.settings.typeaheadHighlight?this._setSelected():this.list.hide()}}}])&&n(e.prototype,t),i&&n(e,i),s}();function o(e){return Array.isArray(e)?e.map(o):!0===e?{label:"None",value:""}:"object"===c(e)?e:{label:e,value:""}}function u(e){var t,i,n,s,r=document.createElement("ul"),a=(r.classList.add("ui-timepicker-list"),f(e));try{for(a.s();!(t=a.n()).done;){var l=t.value,o=(i=l,s=n=void 0,(s=document.createElement("li")).dataset.time=i.value,i.className&&s.classList.add(i.className),s.className=i.className,s.appendChild(document.createTextNode(i.label)),i.duration&&((n=document.createElement("span")).appendChild(document.createTextNode("("+i.duration+")")),n.classList.add("ui-timepicker-duration"),s.appendChild(n)),i.disabled&&s.classList.add("ui-timepicker-disabled"),s);r.appendChild(o)}}catch(e){a.e(e)}finally{a.f()}e=document.createElement("div");return e.classList.add("ui-timepicker-wrapper"),e.tabIndex=-1,e.style.display="none",e.style.position="absolute",e.appendChild(r),e}function p(e,t,i){var n,s,r,a,l=document.createElement("select"),o=(l.classList.add("ui-timepicker-select"),t&&(l.name="ui-timepicker-"+t),f(e));try{for(o.s();!(n=o.n()).done;){var u=n.value,c=(s=u,r=i,a=void 0,(a=document.createElement("option")).value=s.value||s.label,r.settings.scrollSelect&&r.settings.scrollSelect==a.value&&(a.selected=!0),s.duration?a.appendChild(document.createTextNode(s.label+" ("+s.duration+")")):a.appendChild(document.createTextNode(s.label)),s.disabled&&(a.disabled=!0),a);l.appendChild(c)}}catch(e){o.e(e)}finally{o.f()}return l}function y(e){var t,i=[].concat((i=e.settings).noneOption?(t=o(i.noneOption),Array.isArray(i.noneOption)?t:[t]):[],function(e){for(var t,i=e.settings,n=null!=(n=i.minTime())?n:0,s=null!=(t=i.maxTime())?t:n+g-1,r=(s<n&&(s+=g),s===g-1&&"string"==typeof i.timeFormat&&i.show2400&&(s=g),i.allowTimes),a=[],l=n,o=0;l<=s;l+=60*i.step(++o))if(!(0<r.length)||r.includes(l)){var u,c,m=l,d={label:e._int2time(m),value:v(m,i),className:m%g<g/2?"ui-timepicker-am":"ui-timepicker-pm"},h=(null===i.minTime()&&null===i.durationTime()||!i.showDuration||(l<(u=null!=(u=i.durationTime())?u:i.minTime())&&(u-=g),u=e._int2duration(l-u,i.step()),d.duration=u),f(i.disableTimeRanges));try{for(h.s();!(c=h.n()).done;){var p=c.value;if(m%g>=p[0]&&m%g<p[1]){d.disabled=!0;break}}}catch(e){h.e(e)}finally{h.f()}a.push(d)}return a}(e)),n=e.settings.useSelect?p(i,e.targetEl.name,e):u(i);if(e.settings.className){var s,r=f(e.settings.className.split(" "));try{for(r.s();!(s=r.n()).done;){var a=s.value;n.classList.add(a)}}catch(e){r.e(e)}finally{r.f()}}return!e.settings.showDuration||null===e.settings.minTime&&null===e.settings.durationTime||(n.classList.add("ui-timepicker-with-duration"),n.classList.add("ui-timepicker-step-"+e.settings.step())),n}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{},t=Object.assign(m,t);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}),e=function(a){var r={init:function(s){return this.each(function(){var e=a(this),t=new h(this,s),i=t.settings;if(i.lang,this.timepickerObj=t,e.addClass("ui-timepicker-input"),i.useSelect)l(e);else{if(e.prop("autocomplete","off"),i.showOn)for(var n in i.showOn)e.on(i.showOn[n]+".timepicker",r.show);e.on("change.timepicker",t._handleFormatValue),e.on("keydown.timepicker",u),e.on("keyup.timepicker",t._handleKeyUp),i.disableTextInput&&e.on("keydown.timepicker",t._disableTextInputHandler),e.on("cut.timepicker",t._handleKeyUp),e.on("paste.timepicker",t._handleKeyUp),t._formatValue(null,"initial")}})},show:function(e){var t=a(this),i=t[0].timepickerObj,n=i.settings;if(e&&e.preventDefault(),n.useSelect)i.list.trigger("focus");else{i._hideKeyboard()&&t.trigger("blur");var s,r,e=i.list;if(!t.prop("readonly"))if(l(t),e=i.list,!h.isVisible(e))return t.is("input")&&(i.selectedValue=t.val()),i._setSelected(),h.hideAll(),"number"==typeof n.listWidth&&e.width(t.outerWidth()*n.listWidth),e.show(),s={},n.orientation.match(/r/)?s.left=t.offset().left+t.outerWidth()-e.outerWidth()+parseInt(e.css("marginLeft").replace("px",""),10):n.orientation.match(/l/)?s.left=t.offset().left+parseInt(e.css("marginLeft").replace("px",""),10):n.orientation.match(/c/)&&(s.left=t.offset().left+(t.outerWidth()-e.outerWidth())/2+parseInt(e.css("marginLeft").replace("px",""),10)),"t"==(n.orientation.match(/t/)||!n.orientation.match(/b/)&&t.offset().top+t.outerHeight(!0)+e.outerHeight()>a(window).height()+a(window).scrollTop()?"t":"b")?(e.addClass("ui-timepicker-positioned-top"),s.top=t.offset().top-e.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)):(e.removeClass("ui-timepicker-positioned-top"),s.top=t.offset().top+t.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)),e.offset(s),(s=e.find(".ui-timepicker-selected")).length||(null!==(r=i.anytime2int(i._getTimeValue()))?s=a(i._findRow(r)):n.scrollDefault()&&(s=a(i._findRow(n.scrollDefault())))),(s=s.length&&!s.hasClass("ui-timepicker-disabled")?s:e.find("li:not(.ui-timepicker-disabled):first"))&&s.length?(r=e.scrollTop()+s.position().top-s.outerHeight(),e.scrollTop(r)):e.scrollTop(0),n.stopScrollPropagation&&a(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var t=a(this).scrollTop();a(this).scrollTop(t+e.originalEvent.deltaY)}),a(document).on("mousedown.ui-timepicker",o),window.addEventListener("resize",o),n.closeOnScroll&&a(n.closeOnScroll).on("scroll.ui-timepicker",o),t.trigger("showTimepicker"),this}},hide:function(e){var t=this[0].timepickerObj;return t&&t.hideMe(),h.hideAll(),this},option:function(s,r){return"string"==typeof s&&void 0===r?this[0].timepickerObj.settings[s]:this.each(function(){var e=a(this),t=e[0].timepickerObj,i=t.settings,n=t.list;"object"==c(s)?i=a.extend(i,s):"string"==typeof s&&(i[s]=r),i=t.parseSettings(i),t.settings=i,t._formatValue({type:"change"},"initial"),n&&(n.remove(),t.list=null),i.useSelect&&l(e)})},getSecondsFromMidnight:function(){var e=this[0].timepickerObj;return e.anytime2int(e._getTimeValue())},getTimeString:function(){var e=this[0].timepickerObj,t=e._getTimeValue();return isNaN(parseInt(t))?null:e._int2time(parseInt(t))},getTime:function(e){var t=this[0].timepickerObj,i=t._getTimeValue();if(!i)return null;t=t.anytime2int(i);if(null===t)return null;e=e||new Date;i=new Date(e);return i.setHours(t/3600),i.setMinutes(t%3600/60),i.setSeconds(t%60),i.setMilliseconds(0),i},isVisible:function(){var e=this[0].timepickerObj;return!!(e&&e.list&&h.isVisible(e.list))},setTime:function(e){var t,i=this[0].timepickerObj,n=i.settings,s=i.anytime2int(e);return i._isTimeRangeError(s,n)&&(t=new CustomEvent("timeRangeError",m),i.targetEl.dispatchEvent(t)),t=n.forceRoundTime?i._roundAndFormatTime(s):i._int2time(s),e&&null===t&&n.noneOption&&(t=e),i._setTimeValue(t,"initial"),i._formatValue({type:"change"},"initial"),i&&i.list&&i._setSelected(),this},remove:function(){var e,t,i=this;if(i.hasClass("ui-timepicker-input"))return t=(e=i[0].timepickerObj).settings,i.removeAttr("autocomplete","off"),i.removeClass("ui-timepicker-input"),i.removeData("timepicker-obj"),i.off(".timepicker"),e.list&&e.list.remove(),t.useSelect&&i.show(),e.list=null,this}};function l(t){var i=t[0].timepickerObj,n=i.list,e=i.settings,s=(n&&n.length&&(n.remove(),i.list=null),a(y(i))),n=e.useSelect?s:s.children("ul");s.data("timepicker-input",t),i.list=s,e.useSelect?(t.val()&&n.val(i._roundAndFormatTime(i.anytime2int(t.val()))),n.on("focus",function(){a(this).data("timepicker-input").trigger("showTimepicker")}),n.on("blur",function(){a(this).data("timepicker-input").trigger("hideTimepicker")}),n.on("change",function(){i._setTimeValue(a(this).val(),"select")}),i._setTimeValue(n.val(),"initial"),t.hide().after(n)):("string"==typeof(e=e.appendTo)?e=a(e):"function"==typeof e&&(e=e(t)),e.append(s),i._setSelected(),n.on("mousedown click","li",function(e){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",r.show)}),i._hideKeyboard()||t[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),a(this).addClass("ui-timepicker-selected"),i._selectValue()&&(t.trigger("hideTimepicker"),n.on("mouseup.timepicker click.timepicker","li",function(e){n.off("mouseup.timepicker click.timepicker"),s.hide()}))}))}function o(e){"focus"==e.type&&e.target==window||(e=a(e.target)).closest(".ui-timepicker-input").length||e.closest(".ui-timepicker-wrapper").length||(h.hideAll(),a(document).off(".ui-timepicker"),a(window).off(".ui-timepicker"))}function u(e){var t=a(this),i=t[0].timepickerObj,n=i.list;if(!n||!h.isVisible(n)){if(40!=e.keyCode)return!0;r.show.call(t.get(0)),n=i.list,i._hideKeyboard()||t.trigger("focus")}switch(e.keyCode){case 13:return i._selectValue()&&(i._formatValue({type:"change"}),i.hideMe()),e.preventDefault(),!1;case 38:var s=n.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.prev().position().top<s.outerHeight()&&n.scrollTop(n.scrollTop()-s.outerHeight())):(n.find("li").each(function(e,t){if(0<a(t).position().top)return s=a(t),!1}),s.addClass("ui-timepicker-selected")),!1;case 40:return 0===(s=n.find(".ui-timepicker-selected")).length?(n.find("li").each(function(e,t){if(0<a(t).position().top)return s=a(t),!1}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>n.outerHeight()&&n.scrollTop(n.scrollTop()+s.outerHeight())),!1;case 27:n.find("li").removeClass("ui-timepicker-selected"),i.hideMe();break;case 9:i.hideMe();break;default:return!0}}a.fn.timepicker=function(e){return this.length?r[e]?this.hasClass("ui-timepicker-input")?r[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!==c(e)&&e?void a.error("Method "+e+" does not exist on jQuery.timepicker"):r.init.apply(this,arguments):this},a.fn.timepicker.defaults=d},"object"===("undefined"==typeof exports?"undefined":c(exports))&&exports&&"object"===("undefined"==typeof module?"undefined":c(module))&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}();