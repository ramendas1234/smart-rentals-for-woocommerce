!function(q){"use strict";var A={init:function(){this.descriptionPopup(),this.datepicker(),this.datetimepicker(),this.locationFields(),this.quantityFields(),this.guestsPicker(),this.taxiLocations(),this.calculateTotal(),this.bookingForm(),this.submitForm(),this.slideImage(),this.loadingProductName(),this.loadingProductTag(),this.searchFields(),this.searchMap(),this.searchAjax(),this.searchTaxi(),this.searchAjaxShortcode(),this.tablePrice(),this.modernTemplate(),this.selectFields(),this.productMap(),this.addToCart()},descriptionPopup:function(){q(document).find(".ovabrw-description").each(function(){var a=q(this).attr("aria-label");a&&tippy(q(this)[0],{content:'<span class="ovabrw-tippy">'+a+"</span>",animation:"scale",allowHTML:!0,arrow:!0,theme:"ovabrw-tippy-description",zIndex:999999})})},datepicker:function(){if(q(document).find(".ovabrw-datepicker.pickup-date").each(function(){q(this).closest(".single-product").find("div.product").css("overflow","visible");var b,w,_,k,a,y=q(this),P=y.closest("form");0<P.length&&(b=P.find(".ovabrw-loader-date"),a=(a=P.find('input[name="car_id"]').val())||P.find('input[name="product_id"]').val(),w=y.attr("id"),_=P.find(".ovabrw-datepicker.dropoff-date"),k="",0<_.length&&(k=_.attr("id")),a)&&(b.show(),y.prop("disabled",!0),0<_.length&&_.prop("disabled",!0),a={action:"ovabrw_loading_datetimepicker",security:ajax_object.security,product_id:a},q.ajax({url:ajax_object.ajax_url,type:"POST",data:a,success:function(a){if(a){var e=JSON.parse(a);if(e.datePickerOptions){var t=w,i=k,n=P,o=e.datePickerOptions;if("object"==typeof easepick&&t&&0<n.length&&0<Object.keys(o).length){-1!==o.plugins.indexOf("PresetPlugin")&&q.each(o.PresetPlugin.customPreset,function(t,a){q.isArray(a)&&q.each(a,function(a,e){o.PresetPlugin.customPreset[t][a]=new Date(e)})});var r=[],s=(o.disableWeekDays&&(r=o.disableWeekDays),[]),l=(o.disableDates&&(s=o.disableDates),[]),c=(o.bookedDates&&(l=o.bookedDates),[]),d=(o.allowedDates&&(c=o.allowedDates),""),p=(o.regularPrice&&(d=o.regularPrice),[]),u=(o.specialPrices&&(p=o.specialPrices),[]),m=(o.dailyPrices&&(u=o.dailyPrices),"");switch(o.format){case"Y-m-d":m="YYYY-MM-DD";break;case"Y/m/d":m="YYYY/MM/DD";break;case"m/d/Y":m="MM/DD/YYYY";break;default:m="DD-MM-YYYY"}var f,h,v,g="";o.startDate&&(g=o.startDate),i?(h=n.find("#"+t),f=n.find("#"+i),v=new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:parseInt(o.grid),calendars:parseInt(o.calendars),format:m,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,RangePlugin:{elementEnd:"#"+i,repick:o.RangePlugin.repick,strict:o.RangePlugin.strict,tooltip:o.RangePlugin.tooltip,locale:o.RangePlugin.locale,tooltipNumber(a){return("day"==o.rentalType&&"hotel"==o.chargedBy||"hotel"==o.rentalType)&&--a,wp.hooks.applyFilters("loaderDatePicker.tooltipNumber",a,v,o)}},LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,minDays:o.LockPlugin.minDays,maxDays:o.LockPlugin.maxDays,selectForward:o.LockPlugin.selectForward,selectBackward:o.LockPlugin.selectBackward,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(a,e){if(q.isArray(r)&&0<r.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),r))return!0}return!!(q.isArray(s)&&0<s.length&&s.includes(a.format(m)))||!!(q.isArray(l)&&0<l.length&&l.includes(a.format(m)))||!(!(q.isArray(c)&&0<c.length)||c.includes(a.format(m)))||void 0}},PresetPlugin:o.PresetPlugin,plugins:o.plugins,setup(i){i.on("render",a=>{var e=a.detail["view"];if("Container"==e){const t=q(a.target);t.hasClass("show")&&(A.datePickerRangeResponse(t,i),q(window).resize(function(){A.datePickerRangeResponse(t,i)}));e=i.startDate,a=((e=e||h.attr("data-date"))&&(h.val(e),g=e),i.endDate);(a=a||f.attr("data-date"))&&f.val(a)}}),i.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),i.currentInput=q(a.detail.target),i.calendarWrapper=q("#"+t).next(".easepick-wrapper"),i.renderAll()}),i.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),i.on("click",function(a){a.target.classList.contains("reset-button")&&(g?i.gotoDate(g):i.gotoDate(new Date),h.val(""),h.attr("data-date",""),i.startDate="",f.val(""),f.attr("data-date",""),i.endDate="",i.clear(),h.trigger("change"),n.find(".ajax_show_total").hide(),n.find(".show_ajax_content").removeClass("active"),n.find(".ovabrw-total-amount").html(""),n.find(".ovabrw-insurance-amount").hide(),n.find(".ajax-show-error").html("").hide(),n.find('button[type="submit"]').prop("disabled",!0))}),i.on("select",a=>{var e=C(a.detail.start,m),a=C(a.detail.end,m);e&&a&&(h.val(e),h.attr("data-date",e),i.startDate=e,f.val(a),f.attr("data-date",a),i.endDate=a,A.calculateTotal(n))}),i.on("view",e=>{const{view:a,date:t,target:i}=e.detail;if("CalendarDay"===a){var e=t.format(m),n=new Date(t.format("YYYY-MM-DD")).getTime()/1e3;l.includes(e)?i.classList.add("booked-day"):s.includes(e)?i.classList.add("disabled-day"):c.includes(e)&&i.classList.add("available-day");let a=u[M(t)]||d;for(const o of a)if(n>=o.from&&n<=o.to){a=o.dailyPrices[M(t)]||a;break}for(const r of p)if(r.from<=n&&r.to>=n){a=r.price;break}a&&((e=i.querySelector(".day-price")||document.createElement("span")).className="day-price",e.innerHTML=a,["booked-day","disabled-day","locked"].some(a=>i.classList.contains(a))||i.append(e))}})}}),g&&v.gotoDate(g),h.on("ovabrwCalendarClickDate",function(a,e){v.clear(),v.setStartDate(e.startDate),v.setEndDate(e.endDate),v.show(),v.hide(),e.startDate&&e.endDate&&A.calculateTotal(n)})):(h=n.find("#"+t),v=new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:1,calendars:1,format:m,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(a,e){if(q.isArray(r)&&0<r.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),r))return!0}return!!(q.isArray(s)&&0<s.length&&s.includes(a.format(m)))||!!(q.isArray(l)&&0<l.length&&l.includes(a.format(m)))||!(!(q.isArray(c)&&0<c.length)||c.includes(a.format(m)))||void 0}},plugins:["AmpPlugin","LockPlugin"],setup(i){i.on("render",a=>{var e=a.detail["view"];if("Container"==e){const t=q(a.target);t.hasClass("show")&&(A.datePickerResponse(t,i),q(window).resize(function(){A.datePickerResponse(t,i)}));e=i.startDate;(e=e||h.attr("data-date"))&&(h.val(e),g=e)}}),i.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),i.currentInput=q(a.detail.target),i.calendarWrapper=q("#"+t).next(".easepick-wrapper"),i.renderAll()}),i.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),i.on("click",function(a){a.target.classList.contains("reset-button")&&(g?i.gotoDate(g):i.gotoDate(new Date),h.val(""),h.attr("data-date",""),i.startDate="",i.clear(),h.trigger("change"),n.find(".ovabrw-time-slots-location-field").hide(),n.find(".ovabrw-time-slots-location").html(""),n.find(".ovabrw-time-slots-field").hide(),n.find(".ovabrw-time-slots").html(""),n.find('input[name="ovabrw_pickoff_date"]').val(""),n.find('input[name="pickup_date"]').val(""),n.find(".ajax_show_total").hide(),n.find(".show_ajax_content").removeClass("active"),n.find(".ovabrw-total-amount").html(""),n.find(".ovabrw-insurance-amount").hide(),n.find(".ajax-show-error").html("").hide(),n.find('button[type="submit"]').prop("disabled",!0))}),i.on("select",a=>{var e,a=C(a.detail.date,m);a&&(h.val(a),h.attr("data-date",a),i.startDate=a,a=n.find('select[name="ovabrw_package_id"]'),e=n.find(".ovabrw-time-slots"),0<a.length?A.loadingPackages(n):0<e.length?A.timeSlots(n):A.calculateTotal(n))}),i.on("view",e=>{const{view:a,date:t,target:i}=e.detail;if("CalendarDay"===a){var e=t.format(m),n=new Date(t.format("YYYY-MM-DD")).getTime()/1e3;l.includes(e)?i.classList.add("booked-day"):s.includes(e)?i.classList.add("disabled-day"):c.includes(e)&&i.classList.add("available-day");let a=u[M(t)]||d;for(const o of a)if(n>=o.from&&n<=o.to){a=o.dailyPrices[M(t)]||a;break}for(const r of p)if(r.from<=n&&r.to>=n){a=r.price;break}a&&((e=i.querySelector(".day-price")||document.createElement("span")).className="day-price",e.innerHTML=a,["booked-day","disabled-day","locked"].some(a=>i.classList.contains(a))||i.append(e))}})}}),g&&v.gotoDate(g),h.on("ovabrwCalendarClickDate",function(a,e){var t;v.clear(),v.setDate(e.startDate),v.show(),v.hide(),e.startDate&&(e=n.find('select[name="ovabrw_package_id"]'),t=n.find(".ovabrw-time-slots"),0<e.length?A.loadingPackages(n):0<t.length?A.timeSlots(n):A.calculateTotal(n))}))}}}y.prop("disabled",!1),0<_.length&&_.prop("disabled",!1),b.hide();e=P.find('select[name="ovabrw_package_id"]'),i=P.find(".ovabrw-time-slots");y.val()&&(0<e.length&&!e.val()?A.loadingPackages(P):0<i.length?A.timeSlots(P):A.calculateTotal(P)),wp.hooks.doAction("ovabrwFrontend.afterLoaderDatePicker",a,P)}}))}),"object"==typeof easepick&&"object"==typeof datePickerOptions&&0<Object.keys(datePickerOptions).length){var d=[],p=(datePickerOptions.disableWeekDays&&(d=datePickerOptions.disableWeekDays),[]),u=(datePickerOptions.disableDates&&(p=datePickerOptions.disableDates),[]),m=(datePickerOptions.bookedDates&&(u=datePickerOptions.bookedDates),[]),f=(datePickerOptions.allowedDates&&(m=datePickerOptions.allowedDates),"");switch(datePickerOptions.format){case"Y-m-d":f="YYYY-MM-DD";break;case"Y/m/d":f="YYYY/MM/DD";break;case"m/d/Y":f="MM/DD/YYYY";break;default:f="DD-MM-YYYY"}q(document).find(".ovabrw-datepicker-start").each(function(){var e,a,t,n=q(this),i=n.data("min-date"),o=n.data("max-date"),r=n.closest("form"),s=n.attr("id"),r=r.find(".ovabrw-datepicker-end"),l="",c=(0<r.length&&(l=r.attr("id")),"");datePickerOptions.startDate&&(c=datePickerOptions.startDate),i&&(c=i),t=l?(e=n.data("rental-type"),r=(r=n.data("locale-one"))&&(datePickerOptions.RangePlugin.locale.one=r),a=n.data("locale-other"),r=r&&(datePickerOptions.RangePlugin.locale.other=a),new easepick.create({element:"#"+s,css:datePickerOptions.css,firstDay:parseInt(datePickerOptions.firstDay),lang:datePickerOptions.lang,zIndex:parseInt(datePickerOptions.zIndex),grid:parseInt(datePickerOptions.grid),calendars:parseInt(datePickerOptions.calendars),format:f,readonly:datePickerOptions.readonly,header:datePickerOptions.header,autoApply:datePickerOptions.autoApply,AmpPlugin:datePickerOptions.AmpPlugin,locale:datePickerOptions.locale,RangePlugin:{elementEnd:"#"+l,repick:datePickerOptions.RangePlugin.repick,strict:datePickerOptions.RangePlugin.strict,tooltip:datePickerOptions.RangePlugin.tooltip,locale:datePickerOptions.RangePlugin.locale,tooltipNumber(a){return"hotel"==e&&--a,wp.hooks.applyFilters("datePicker.tooltipNumber",a,t,datePickerOptions)}},LockPlugin:{minDate:i||datePickerOptions.LockPlugin.minDate,maxDate:o||datePickerOptions.LockPlugin.maxDate,minDays:datePickerOptions.LockPlugin.minDays,maxDays:datePickerOptions.LockPlugin.maxDays,selectForward:datePickerOptions.LockPlugin.selectForward,selectBackward:datePickerOptions.LockPlugin.selectBackward,presets:datePickerOptions.LockPlugin.presets,inseparable:datePickerOptions.LockPlugin.inseparable,filter(a,e){if(q.isArray(d)&&0<d.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),d))return!0}return!!(q.isArray(p)&&0<p.length&&p.includes(a.format(f)))||!!(q.isArray(u)&&0<u.length&&u.includes(a.format(f)))||!(!(q.isArray(m)&&0<m.length)||m.includes(a.format(f)))||void 0}},PresetPlugin:datePickerOptions.PresetPlugin,plugins:datePickerOptions.plugins,setup(i){i.on("render",a=>{var e=a.detail["view"];if("Container"==e){const t=q(a.target);t.hasClass("show")&&(A.datePickerRangeResponse(t,i),q(window).resize(function(){A.datePickerRangeResponse(t,i)}))}}),i.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),i.currentInput=q(a.detail.target),i.calendarWrapper=q("#"+s).next(".easepick-wrapper"),i.renderAll()}),i.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),i.on("click",function(a){a.target.classList.contains("reset-button")&&(c?i.gotoDate(c):i.gotoDate(new Date),i.clear(),n.trigger("change"))}),i.on("select",a=>{var e=C(a.detail.start,f),a=C(a.detail.end,f);q("#"+s).removeAttr("readonly").val(e).attr("value",e),q("#"+l).removeAttr("readonly").val(a).attr("value",a),e&&a&&n.trigger("change")})}})):new easepick.create({element:"#"+s,css:datePickerOptions.css,firstDay:parseInt(datePickerOptions.firstDay),lang:datePickerOptions.lang,zIndex:parseInt(datePickerOptions.zIndex),grid:1,calendars:1,format:f,readonly:datePickerOptions.readonly,header:datePickerOptions.header,autoApply:datePickerOptions.autoApply,AmpPlugin:datePickerOptions.AmpPlugin,locale:datePickerOptions.locale,LockPlugin:{minDate:i||datePickerOptions.LockPlugin.minDate,maxDate:o||datePickerOptions.LockPlugin.maxDate,minDays:datePickerOptions.LockPlugin.minDays,maxDays:datePickerOptions.LockPlugin.maxDays,selectForward:datePickerOptions.LockPlugin.selectForward,selectBackward:datePickerOptions.LockPlugin.selectBackward,presets:datePickerOptions.LockPlugin.presets,inseparable:datePickerOptions.LockPlugin.inseparable,filter(a,e){if(q.isArray(d)&&0<d.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),d))return!0}return!!(q.isArray(p)&&0<p.length&&p.includes(a.format("DD-MM-YYYY")))||!!(q.isArray(u)&&0<u.length&&u.includes(a.format("DD-MM-YYYY")))||!(!(q.isArray(m)&&0<m.length)||m.includes(a.format("DD-MM-YYYY")))||void 0}},plugins:["AmpPlugin","LockPlugin"],setup(i){i.on("render",a=>{var e=a.detail["view"];if("Container"==e){const t=q(a.target);t.hasClass("show")&&(A.datePickerResponse(t,i),q(window).resize(function(){A.datePickerResponse(t,i)}))}}),i.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),i.currentInput=q(a.detail.target),i.calendarWrapper=q("#"+s).next(".easepick-wrapper"),i.renderAll()}),i.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),i.on("click",function(a){a.target.classList.contains("reset-button")&&(c?i.gotoDate(c):i.gotoDate(new Date),i.clear(),n.trigger("change"))}),i.on("select",a=>{C(a.detail.date,f)&&n.trigger("change")})}}),c&&t.gotoDate(c)}),q(document).find(".ovabrw-datepicker-field").each(function(){var e=q(this),a=e.data("min-date"),t=e.data("max-date"),n=e.attr("id"),o="",a=(a&&(o=a),new easepick.create({element:"#"+n,css:datePickerOptions.css,firstDay:parseInt(datePickerOptions.firstDay),lang:datePickerOptions.lang,zIndex:parseInt(datePickerOptions.zIndex),grid:1,calendars:1,format:f,readonly:datePickerOptions.readonly,header:datePickerOptions.header,autoApply:datePickerOptions.autoApply,AmpPlugin:datePickerOptions.AmpPlugin,locale:datePickerOptions.locale,LockPlugin:{minDate:a||"",maxDate:t||"",minDays:datePickerOptions.LockPlugin.minDays,maxDays:datePickerOptions.LockPlugin.maxDays,selectForward:datePickerOptions.LockPlugin.selectForward,selectBackward:datePickerOptions.LockPlugin.selectBackward,presets:datePickerOptions.LockPlugin.presets,inseparable:datePickerOptions.LockPlugin.inseparable},plugins:["AmpPlugin","LockPlugin"],setup(i){i.on("render",a=>{var e=a.detail["view"];if("Container"==e){const t=q(a.target);t.hasClass("show")&&(A.datePickerResponse(t,i),q(window).resize(function(){A.datePickerResponse(t,i)}))}}),i.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),i.currentInput=q(a.detail.target),i.calendarWrapper=q("#"+n).next(".easepick-wrapper"),i.renderAll()}),i.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),i.on("click",function(a){a.target.classList.contains("reset-button")&&(o?i.gotoDate(o):i.gotoDate(new Date),i.clear(),e.trigger("change"))})}}));o&&a.gotoDate(o)})}},datetimepicker:function(){if(q(document).find(".ovabrw-datetimepicker.pickup-date").each(function(){q(this).closest(".single-product").find("div.product").css("overflow","visible");var x,D,O,I,a,T=q(this),j=T.closest("form");0<j.length&&(x=j.find(".ovabrw-loader-date"),a=(a=j.find('input[name="car_id"]').val())||j.find('input[name="product_id"]').val(),D=T.attr("id"),O=j.find(".ovabrw-datetimepicker.dropoff-date"),I="",0<O.length&&(I=O.attr("id")),j.find('button[type="submit"]'),a)&&(x.show(),T.prop("disabled",!0),0<O.length&&O.prop("disabled",!0),a={action:"ovabrw_loading_datetimepicker",security:ajax_object.security,product_id:a},q.ajax({url:ajax_object.ajax_url,type:"POST",data:a,success:function(a){if(a){var e=JSON.parse(a);if(e.datePickerOptions&&e.timePickerOptions){var t=D,i=I,n=j,o=e.datePickerOptions,p=e.timePickerOptions;if("object"==typeof easepick&&t&&0<n.length&&0<Object.keys(o).length&&0<Object.keys(p).length){var u='<svg enable-background="new 0 0 512 512" viewBox="0 0 512 512" width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g><path d="m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.05 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"></path><circle cx="128.721" cy="383.279" r="15"></circle><circle cx="383.279" cy="128.721" r="15"></circle><path d="m118.114 118.114c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213c-5.857-5.858-15.355-5.858-21.213 0z"></path><path d="m372.673 372.673c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213-15.356-5.858-21.213 0z"></path><path d="m256 121c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"></path><path d="m256 391c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"></path><path d="m121 256c0-8.284-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15s6.716 15 15 15h30c8.284 0 15-6.716 15-15z"></path><path d="m391 256c0 8.284 6.716 15 15 15h30c8.284 0 15-6.716 15-15s-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15z"></path><path d="m271 249.787v-83.787c0-8.284-6.716-15-15-15s-15 6.716-15 15v90c0 3.978 1.581 7.793 4.394 10.607l90 90c5.857 5.857 15.355 5.858 21.213 0s5.858-15.355 0-21.213z"></path></g></svg>',m=(p.useSelect=!0,p.defaultStartTime),f=p.defaultEndTime,h=p.allowStartTimes,v=p.allowEndTimes,r=(o.autoApply=!1,void 0!==o.plugins&&q.isArray(o.plugins)&&o.plugins.push("TimePlugin"),-1!==o.plugins.indexOf("PresetPlugin")&&q.each(o.PresetPlugin.customPreset,function(t,a){q.isArray(a)&&q.each(a,function(a,e){o.PresetPlugin.customPreset[t][a]=new Date(e)})}),[]),s=(o.disableWeekDays&&(r=o.disableWeekDays),[]),l=(o.disableDates&&(s=o.disableDates),[]),c=(o.bookedDates&&(l=o.bookedDates),[]),g=(o.allowedDates&&(c=o.allowedDates),""),b=(o.regularPrice&&(g=o.regularPrice),[]),w=(o.specialPrices&&(b=o.specialPrices),[]),_=(o.dailyPrices&&(w=o.dailyPrices),"");switch(o.format){case"Y-m-d":_="YYYY-MM-DD";break;case"Y/m/d":_="YYYY/MM/DD";break;case"m/d/Y":_="MM/DD/YYYY";break;default:_="DD-MM-YYYY"}var k,y,d,P="";o.startDate&&(P=o.startDate),i?(y=n.find("#"+t),k=n.find("#"+i),d=new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:parseInt(o.grid),calendars:parseInt(o.calendars),format:_,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,RangePlugin:{elementEnd:"#"+i,repick:o.RangePlugin.repick,strict:o.RangePlugin.strict,tooltip:o.RangePlugin.tooltip,locale:o.RangePlugin.locale,tooltipNumber(a){var e=d.timeContainer,t=q(e).find(".timepicker-wrap.pickup-time .ui-timepicker-select").val(),e=q(e).find(".timepicker-wrap.dropoff-time .ui-timepicker-select").val();return t&&e&&("day"==o.rentalType&&"hour"==o.chargedBy?e<=t&&--a:"hour"!=o.rentalType&&"mixed"!=o.rentalType||(a=24*--a+(e/3600-t/3600))),wp.hooks.applyFilters("loaderDateTimePicker.tooltipNumber",a,d,o)}},LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,minDays:o.LockPlugin.minDays,maxDays:o.LockPlugin.maxDays,selectForward:o.LockPlugin.selectForward,selectBackward:o.LockPlugin.selectBackward,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(a,e){if(q.isArray(r)&&0<r.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),r))return!0}return!!(q.isArray(s)&&0<s.length&&s.includes(a.format(_)))||!!(q.isArray(l)&&0<l.length&&l.includes(a.format(_)))||!(!(q.isArray(c)&&0<c.length)||c.includes(a.format(_)))||void 0}},PresetPlugin:o.PresetPlugin,plugins:o.plugins,setup(d){d.on("render",a=>{var e=a.detail["view"];if("Container"==e){const c=q(a.target);c.hasClass("show")&&(A.datePickerRangeResponse(c,d),q(window).resize(function(){A.datePickerRangeResponse(c,d)}));var t=(t=d.startDate)||y.attr("data-date"),i=(i=d.startTime)||y.attr("data-time");q.isArray(h)&&!h.includes(i)&&(i=m),t&&i&&(y.val(t+" "+i),P=t);var n,o,r,s=(s=d.endDate)||k.attr("data-date"),l=(l=d.endTime)||k.attr("data-time"),e=(q.isArray(v)&&!v.includes(l)&&(l=f),s&&l&&k.val(s+" "+l),a.target.querySelectorAll(".time-plugin-container"));d.timeContainer=e,"function"==typeof q.fn.timepicker&&e&&(a=(a='<div class="timepicker-wrap pickup-time">')+u+'<span class="timepicker-label">'+p.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',r=(r='<div class="timepicker-wrap dropoff-time">')+u+'<span class="timepicker-label">'+p.lang.dropOff+'</span><span class="ovabrw-timepicker end-time"></span></div>',q(e).html(""),a&&q(e).append(a),r&&q(e).append(r),n=q(e).find(".ovabrw-timepicker.start-time"),a=Object.assign({},p),h&&(a.allowTimes=h),a.scrollSelect=i||m,n.timepicker(a),o=q(e).find(".ovabrw-timepicker.end-time"),r=Object.assign({},p),v&&(r.allowTimes=v),r.scrollSelect=l||f,o.timepicker(r),n.on("selectTime",function(){i=n.timepicker("getTimeString"),d.startTime=i,y.attr("data-time",i),t&&i&&y.val(t+" "+i),t&&s&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}),o.on("selectTime",function(){l=o.timepicker("getTimeString"),d.endTime=l,k.attr("data-time",l),s&&l&&k.val(s+" "+l),t&&s&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),d.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),d.currentInput=q(a.detail.target),d.calendarWrapper=q("#"+t).next(".easepick-wrapper");a=y.attr("data-date"),a&&(d.startDate=a),a=y.attr("data-time"),a&&(d.startTime=a),a=k.attr("data-date"),a&&(d.endDate=a),a=k.attr("data-time");a&&(d.endTime=a),d.renderAll()}),d.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),d.on("click",function(a){a.target.classList.contains("reset-button")&&(P?d.gotoDate(P):d.gotoDate(new Date),y.val(""),k.val(""),d.startDate="",d.endDate="",y.attr("data-date",""),k.attr("data-date",""),d.startTime="",d.endTime="",y.attr("data-time",""),k.attr("data-time",""),d.clear(),y.trigger("change"),n.find(".ajax_show_total").hide(),n.find(".show_ajax_content").removeClass("active"),n.find(".ovabrw-total-amount").html(""),n.find(".ovabrw-insurance-amount").hide(),n.find(".ajax-show-error").html("").hide(),n.find('button[type="submit"]').prop("disabled",!0))}),d.on("select",a=>{var e=C(a.detail.start,_),t=(e&&(d.startDate=e,y.attr("data-date",e),d.startTime||(d.startTime=m,y.attr("data-time",d.startTime)),t=d.startTime,y.val(e+" "+t)),C(a.detail.end,_));t&&(d.endDate=t,k.attr("data-date",t),d.endTime||(d.endTime=f,k.attr("data-time",d.endTime)),a=d.endTime,k.val(t+" "+a)),e&&t&&A.calculateTotal(n)}),d.on("view",e=>{const{view:a,date:t,target:i}=e.detail;if("CalendarDay"===a){var e=t.format(_),n=new Date(t.format("YYYY-MM-DD")).getTime()/1e3;l.includes(e)?i.classList.add("booked-day"):s.includes(e)?i.classList.add("disabled-day"):c.includes(e)&&i.classList.add("available-day");let a=w[M(t)]||g;for(const o of a)if(n>=o.from&&n<=o.to){a=o.dailyPrices[M(t)]||a;break}for(const r of b)if(r.from<=n&&r.to>=n){a=r.price;break}a&&((e=i.querySelector(".day-price")||document.createElement("span")).className="day-price",e.innerHTML=a,["booked-day","disabled-day","locked"].some(a=>i.classList.contains(a))||i.append(e))}})}}),P&&d.gotoDate(P),y.on("ovabrwCalendarClickDate",function(a,e){d.clear(),d.setStartDate(e.startDate),d.setEndDate(e.endDate),d.show(),d.hide(),e.startDate&&e.endDate&&A.calculateTotal(n)})):(y=n.find("#"+t),d=new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:1,calendars:1,format:_,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(a,e){if(q.isArray(r)&&0<r.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),r))return!0}return!!(q.isArray(s)&&0<s.length&&s.includes(a.format(_)))||!!(q.isArray(l)&&0<l.length&&l.includes(a.format(_)))||!(!(q.isArray(c)&&0<c.length)||c.includes(a.format(_)))||void 0}},plugins:["AmpPlugin","LockPlugin","TimePlugin"],setup(r){r.on("render",a=>{var e=a.detail["view"];if("Container"==e){const o=q(a.target);o.hasClass("show")&&(A.datePickerResponse(o,r),q(window).resize(function(){A.datePickerResponse(o,r)}));var t,i=(i=r.startDate)||y.attr("data-date"),n=(n=r.startTime)||y.attr("data-time"),e=(q.isArray(h)&&!h.includes(n)&&(n=m),i&&n&&(y.val(i+" "+n),P=i),a.target.querySelectorAll(".time-plugin-container"));"function"==typeof q.fn.timepicker&&e&&(a=(a='<div class="timepicker-wrap pickup-time">')+u+'<span class="timepicker-label">'+p.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',q(e).html(""),a&&q(e).append(a),t=q(e).find(".ovabrw-timepicker.start-time"),a=Object.assign({},p),h&&(a.allowTimes=h),a.scrollSelect=n||m,t.timepicker(a),t.on("selectTime",function(){n=t.timepicker("getTimeString"),r.startTime=n,y.attr("data-time",n),i&&n&&y.val(i+" "+n),i&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),r.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),r.currentInput=q(a.detail.target),r.calendarWrapper=q("#"+t).next(".easepick-wrapper");a=y.attr("data-date"),a&&(r.startDate=a),a=y.attr("data-time");a&&(r.startTime=a),r.renderAll()}),r.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),r.on("click",function(a){a.target.classList.contains("reset-button")&&(P?r.gotoDate(P):r.gotoDate(new Date),y.val(""),r.startDate="",y.attr("data-date",""),r.startTime="",y.attr("data-time",""),r.clear(),y.trigger("change"),n.find(".ajax_show_total").hide(),n.find(".show_ajax_content").removeClass("active"),n.find(".ovabrw-total-amount").html(""),n.find(".ovabrw-insurance-amount").hide(),n.find(".ajax-show-error").html("").hide(),n.find('button[type="submit"]').prop("disabled",!0))}),r.on("select",a=>{var e,a=C(a.detail.date,_);a&&(r.startDate=a,y.attr("data-date",a),r.startTime||(r.startTime=m,y.attr("data-time",r.startTime)),e=r.startTime,y.val(a+" "+e),0<n.find('select[name="ovabrw_package_id"]').length?A.loadingPackages(n):A.calculateTotal(n))}),r.on("view",e=>{const{view:a,date:t,target:i}=e.detail;if("CalendarDay"===a){var e=t.format(_),n=new Date(t.format("YYYY-MM-DD")).getTime()/1e3;l.includes(e)?i.classList.add("booked-day"):s.includes(e)?i.classList.add("disabled-day"):c.includes(e)&&i.classList.add("available-day");let a=w[M(t)]||g;for(const o of a)if(n>=o.from&&n<=o.to){a=o.dailyPrices[M(t)]||a;break}for(const r of b)if(r.from<=n&&r.to>=n){a=r.price;break}a&&((e=i.querySelector(".day-price")||document.createElement("span")).className="day-price",e.innerHTML=a,["booked-day","disabled-day","locked"].some(a=>i.classList.contains(a))||i.append(e))}})}}),P&&d.gotoDate(P),y.on("ovabrwCalendarClickDate",function(a,e){d.clear(),d.setDate(e.startDate),d.show(),d.hide(),e.startDate&&(0<n.find('select[name="ovabrw_package_id"]').length?A.loadingPackages(n):A.calculateTotal(n))}))}}}T.prop("disabled",!1),0<O.length&&O.prop("disabled",!1),x.hide();e=j.find('select[name="ovabrw_package_id"]');T.val()&&(0<e.length&&!e.val()?A.loadingPackages(j):A.calculateTotal(j)),wp.hooks.doAction("ovabrwFrontend.afterLoaderDateTimePicker",a,j)}}))}),"object"==typeof easepick&&"object"==typeof datePickerOptions&&0<Object.keys(datePickerOptions).length&&"object"==typeof timePickerOptions&&0<Object.keys(timePickerOptions).length){var m='<svg enable-background="new 0 0 512 512" viewBox="0 0 512 512" width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g><path d="m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.05 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"></path><circle cx="128.721" cy="383.279" r="15"></circle><circle cx="383.279" cy="128.721" r="15"></circle><path d="m118.114 118.114c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213c-5.857-5.858-15.355-5.858-21.213 0z"></path><path d="m372.673 372.673c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213-15.356-5.858-21.213 0z"></path><path d="m256 121c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"></path><path d="m256 391c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"></path><path d="m121 256c0-8.284-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15s6.716 15 15 15h30c8.284 0 15-6.716 15-15z"></path><path d="m391 256c0 8.284 6.716 15 15 15h30c8.284 0 15-6.716 15-15s-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15z"></path><path d="m271 249.787v-83.787c0-8.284-6.716-15-15-15s-15 6.716-15 15v90c0 3.978 1.581 7.793 4.394 10.607l90 90c5.857 5.857 15.355 5.858 21.213 0s5.858-15.355 0-21.213z"></path></g></svg>',f=(timePickerOptions.useSelect=!0,timePickerOptions.defaultStartTime),h=timePickerOptions.defaultEndTime,v=timePickerOptions.allowStartTimes,g=timePickerOptions.allowEndTimes,r=(datePickerOptions.autoApply=!1,void 0!==datePickerOptions.plugins&&q.isArray(datePickerOptions.plugins)&&datePickerOptions.plugins.push("TimePlugin"),-1!==datePickerOptions.plugins.indexOf("PresetPlugin")&&q.each(datePickerOptions.PresetPlugin.customPreset,function(t,a){q.isArray(a)&&q.each(a,function(a,e){datePickerOptions.PresetPlugin.customPreset[t][a]=new Date(e)})}),[]),s=(datePickerOptions.disableWeekDays&&(r=datePickerOptions.disableWeekDays),[]),l=(datePickerOptions.disableDates&&(s=datePickerOptions.disableDates),[]),c=(datePickerOptions.bookedDates&&(l=datePickerOptions.bookedDates),[]),b=(datePickerOptions.allowedDates&&(c=datePickerOptions.allowedDates),"");switch(datePickerOptions.format){case"Y-m-d":b="YYYY-MM-DD";break;case"Y/m/d":b="YYYY/MM/DD";break;case"m/d/Y":b="MM/DD/YYYY";break;default:b="DD-MM-YYYY"}q(document).find(".ovabrw-datetimepicker-start").each(function(){var i,p=q(this),a=p.data("min-date"),e=p.data("max-date"),t=p.closest("form"),n=p.attr("id"),u=t.find(".ovabrw-datetimepicker-end"),t="",o=(0<u.length&&(t=u.attr("id")),"");datePickerOptions.startDate&&(o=datePickerOptions.startDate),a&&(o=a),i=t?new easepick.create({element:"#"+n,css:datePickerOptions.css,firstDay:parseInt(datePickerOptions.firstDay),lang:datePickerOptions.lang,zIndex:parseInt(datePickerOptions.zIndex),grid:parseInt(datePickerOptions.grid),calendars:parseInt(datePickerOptions.calendars),format:b,readonly:datePickerOptions.readonly,header:datePickerOptions.header,autoApply:datePickerOptions.autoApply,AmpPlugin:datePickerOptions.AmpPlugin,locale:datePickerOptions.locale,RangePlugin:{elementEnd:"#"+t,repick:datePickerOptions.RangePlugin.repick,strict:datePickerOptions.RangePlugin.strict,tooltip:datePickerOptions.RangePlugin.tooltip,locale:datePickerOptions.RangePlugin.locale,tooltipNumber(a){var e=i.timeContainer,t=q(e).find(".timepicker-wrap.pickup-time .ui-timepicker-select").val(),e=q(e).find(".timepicker-wrap.dropoff-time .ui-timepicker-select").val();return t&&e&&e<=t&&--a,wp.hooks.applyFilters("dateTimePicker.tooltipNumber",a,i,datePickerOptions)}},LockPlugin:{minDate:a||datePickerOptions.LockPlugin.minDate,maxDate:e||datePickerOptions.LockPlugin.maxDate,minDays:datePickerOptions.LockPlugin.minDays,maxDays:datePickerOptions.LockPlugin.maxDays,selectForward:datePickerOptions.LockPlugin.selectForward,selectBackward:datePickerOptions.LockPlugin.selectBackward,presets:datePickerOptions.LockPlugin.presets,inseparable:datePickerOptions.LockPlugin.inseparable,filter(a,e){if(q.isArray(r)&&0<r.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),r))return!0}return!!(q.isArray(s)&&0<s.length&&s.includes(a.format(b)))||!!(q.isArray(l)&&0<l.length&&l.includes(a.format(b)))||!(!(q.isArray(c)&&0<c.length)||c.includes(a.format(b)))||void 0}},PresetPlugin:datePickerOptions.PresetPlugin,plugins:datePickerOptions.plugins,setup(d){d.on("render",a=>{var e=a.detail["view"];if("Container"==e){const c=q(a.target);c.hasClass("show")&&(A.datePickerRangeResponse(c,d),q(window).resize(function(){A.datePickerRangeResponse(c,d)}));var t=(t=d.startDate)||p.attr("data-date"),i=(i=d.startTime)||p.attr("data-time");t&&i&&p.val(t+" "+i);var n,o,r,s=(s=d.endDate)||u.attr("data-date"),l=(l=d.endTime)||u.attr("data-time"),e=(s&&l&&u.val(s+" "+l),a.target.querySelectorAll(".time-plugin-container"));d.timeContainer=e,"function"==typeof q.fn.timepicker&&e&&(a='<div class="timepicker-wrap pickup-time">',a=(a+=m)+'<span class="timepicker-label">'+timePickerOptions.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',r='<div class="timepicker-wrap dropoff-time">',r=(r+=m)+'<span class="timepicker-label">'+timePickerOptions.lang.dropOff+'</span><span class="ovabrw-timepicker end-time"></span></div>',q(e).html(""),a&&q(e).append(a),r&&q(e).append(r),n=q(e).find(".ovabrw-timepicker.start-time"),a=Object.assign({},timePickerOptions),v&&(a.allowTimes=v),a.scrollSelect=i||f,n.timepicker(a),o=q(e).find(".ovabrw-timepicker.end-time"),r=Object.assign({},timePickerOptions),g&&(r.allowTimes=g),r.scrollSelect=l||h,o.timepicker(r),n.on("selectTime",function(){i=n.timepicker("getTimeString"),d.startTime=i,p.attr("data-time",i),t&&i&&p.val(t+" "+i),t&&s&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}),o.on("selectTime",function(){l=o.timepicker("getTimeString"),d.endTime=l,u.attr("data-time",l),s&&l&&u.val(s+" "+l),t&&s&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),d.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),d.currentInput=q(a.detail.target),d.calendarWrapper=q("#"+n).next(".easepick-wrapper");a=p.attr("data-date"),a&&(d.startDate=a),a=p.attr("data-time"),a&&(d.startTime=a),a=u.attr("data-date"),a&&(d.endDate=a),a=u.attr("data-time");a&&(d.endTime=a),d.renderAll()}),d.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),d.on("click",function(a){a.target.classList.contains("reset-button")&&(o?d.gotoDate(o):d.gotoDate(new Date),p.val(""),u.val(""),d.startDate="",d.endDate="",p.attr("data-date",""),u.attr("data-date",""),d.startTime="",d.endTime="",p.attr("data-time",""),u.attr("data-time",""),d.clear(),p.trigger("change"))}),d.on("select",a=>{var e=C(a.detail.start,b),t=(e&&(d.startDate=e,p.attr("data-date",e),d.startTime||(d.startTime=f,p.attr("data-time",d.startTime)),t=d.startTime,p.val(e+" "+t)),C(a.detail.end,b));t&&(d.endDate=t,u.attr("data-date",t),d.endTime||(d.endTime=h,u.attr("data-time",d.endTime)),a=d.endTime,u.val(t+" "+a)),e&&t&&p.trigger("change")})}}):new easepick.create({element:"#"+n,css:datePickerOptions.css,firstDay:parseInt(datePickerOptions.firstDay),lang:datePickerOptions.lang,zIndex:parseInt(datePickerOptions.zIndex),grid:1,calendars:1,format:b,readonly:datePickerOptions.readonly,header:datePickerOptions.header,autoApply:datePickerOptions.autoApply,AmpPlugin:datePickerOptions.AmpPlugin,locale:datePickerOptions.locale,LockPlugin:{minDate:a||datePickerOptions.LockPlugin.minDate,maxDate:e||datePickerOptions.LockPlugin.maxDate,presets:datePickerOptions.LockPlugin.presets,inseparable:datePickerOptions.LockPlugin.inseparable,filter(a,e){if(q.isArray(r)&&0<r.length){var t=a.getDay();if(-1!==q.inArray((t=0===t?7:t).toString(),r))return!0}return!!(q.isArray(s)&&0<s.length&&s.includes(a.format(b)))||!!(q.isArray(l)&&0<l.length&&l.includes(a.format(b)))||!(!(q.isArray(c)&&0<c.length)||c.includes(a.format(b)))||void 0}},plugins:["AmpPlugin","LockPlugin","TimePlugin"],setup(r){r.on("render",a=>{var e=a.detail["view"];if("Container"==e){const o=q(a.target);o.hasClass("show")&&(A.datePickerResponse(o,r),q(window).resize(function(){A.datePickerResponse(o,r)}));var t,i=(i=r.startDate)||p.attr("data-date"),n=(n=r.startTime)||p.attr("data-time"),e=(i&&n&&p.val(i+" "+n),a.target.querySelectorAll(".time-plugin-container"));"function"==typeof q.fn.timepicker&&e&&(a='<div class="timepicker-wrap pickup-time">',a=(a+=m)+'<span class="timepicker-label">'+timePickerOptions.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',q(e).html(""),a&&q(e).append(a),t=q(e).find(".ovabrw-timepicker.start-time"),a=Object.assign({},timePickerOptions),v&&(a.allowTimes=v),a.scrollSelect=n||f,t.timepicker(a),t.on("selectTime",function(){n=t.timepicker("getTimeString"),r.startTime=n,p.attr("data-time",n),i&&n&&p.val(i+" "+n),i&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),r.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),r.currentInput=q(a.detail.target),r.calendarWrapper=q("#"+n).next(".easepick-wrapper");a=p.attr("data-date"),a&&(r.startDate=a),a=p.attr("data-time");a&&(r.startTime=a),r.renderAll()}),r.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),r.on("click",function(a){a.target.classList.contains("reset-button")&&(o?r.gotoDate(o):r.gotoDate(new Date),p.val(""),r.startDate="",p.attr("data-date",""),r.startTime="",p.attr("data-time",""),r.clear(),p.trigger("change"))}),r.on("select",a=>{var e,a=C(a.detail.date,b);a&&(r.startDate=a,p.attr("data-date",a),r.startTime||(r.startTime=f,p.attr("data-time",r.startTime)),e=r.startTime,p.val(a+" "+e),p.trigger("change"))})}}),o&&i.gotoDate(o)}),q(document).find(".ovabrw-datetimepicker-field").each(function(){var s=q(this),a=s.data("min-date"),e=s.data("max-date"),t=s.attr("id"),i="",a=(a&&(i=a),new easepick.create({element:"#"+t,css:datePickerOptions.css,firstDay:parseInt(datePickerOptions.firstDay),lang:datePickerOptions.lang,zIndex:parseInt(datePickerOptions.zIndex),grid:1,calendars:1,format:b,readonly:datePickerOptions.readonly,header:datePickerOptions.header,autoApply:datePickerOptions.autoApply,AmpPlugin:datePickerOptions.AmpPlugin,locale:datePickerOptions.locale,LockPlugin:{minDate:a||datePickerOptions.LockPlugin.minDate,maxDate:e||datePickerOptions.LockPlugin.maxDate,presets:datePickerOptions.LockPlugin.presets,inseparable:datePickerOptions.LockPlugin.inseparable},plugins:["AmpPlugin","LockPlugin","TimePlugin"],setup(r){r.on("render",a=>{var e=a.detail["view"];if("Container"==e){const o=q(a.target);o.hasClass("show")&&(A.datePickerResponse(o,r),q(window).resize(function(){A.datePickerResponse(o,r)}));var t,i=(i=r.startDate)||s.attr("data-date"),n=(n=r.startTime)||s.attr("data-time"),e=(i&&n&&s.val(i+" "+n),a.target.querySelectorAll(".time-plugin-container"));"function"==typeof q.fn.timepicker&&e&&(a='<div class="timepicker-wrap pickup-time">',a=(a+=m)+'<span class="timepicker-label">'+timePickerOptions.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',q(e).html(""),a&&q(e).append(a),t=q(e).find(".ovabrw-timepicker.start-time"),a=Object.assign({},timePickerOptions),v&&(a.allowTimes=v),a.scrollSelect=n||f,t.timepicker(a),t.on("selectTime",function(){n=t.timepicker("getTimeString"),r.startTime=n,s.attr("data-time",n),i&&n&&s.val(i+" "+n),i&&q(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),r.on("show",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").hide(),q(document).find("#scrollUp").hide()),r.currentInput=q(a.detail.target),r.calendarWrapper=q("#"+t).next(".easepick-wrapper");a=s.attr("data-date"),a&&(r.startDate=a),a=s.attr("data-time");a&&(r.startTime=a),r.renderAll()}),r.on("hide",a=>{q(window).width()<=768&&(q(document).find(".ovabrw-product-sticky").show(),q(document).find("#scrollUp").show())}),r.on("click",function(a){a.target.classList.contains("reset-button")&&(i?r.gotoDate(i):r.gotoDate(new Date),s.val(""),r.startDate="",s.attr("data-date",""),r.startTime="",s.attr("data-time",""),r.clear(),s.trigger("change"))}),r.on("select",a=>{var e,a=C(a.detail.date,b);a&&(r.startDate=a,s.attr("data-date",a),r.startTime||(r.startTime=f,s.attr("data-time",r.startTime)),e=r.startTime,s.val(a+" "+e),s.trigger("change"))})}}));i&&a.gotoDate(i)})}},datePickerResponse:function(a=null,e=null){var t,i,n,o=q(window).width();480<o&&a&&e&&(t=e.currentInput,e=e.calendarWrapper,t)&&0<t.length&&e&&0<e.length&&(i=t.outerWidth(),n=t.outerHeight(),n=t.offset().top-e.offset().top+n,a.css("top",n),n=t.offset().left-e.offset().left,a.css("left",n),o-t.offset().left<355)&&a.css("left",-(n=326-i-n))},datePickerRangeResponse:function(a=null,e=null){var t,i,n,o=q(window).width();480<o&&a&&e&&(t=e.currentInput,e=e.calendarWrapper,t)&&0<t.length&&e&&0<e.length&&(i=t.outerWidth(),n=t.outerHeight(),n=t.offset().top-e.offset().top+n,a.css("top",n),n=t.offset().left-e.offset().left,a.css("left",n),680<(e=o-t.offset().left)?a.find(".calendars").removeClass("grid-1").addClass("grid-2"):(a.find(".calendars").removeClass("grid-2").addClass("grid-1"),e<355&&a.css("left",-(n=326-i-n))))},locationFields:function(){function a(a=null){var e,t,i,n;a&&0<a.length&&((e=a.closest(".ovabrw-form").find('select[name="ovabrw_dropoff_location"]')).empty(),t=(t=a.find('option[value=""]').text())&&q.trim(t),n="",(i=a.find('option[value="'+a.val()+'"]').data("dropoff"))?(i.forEach(function(a){a&&(n+='<option value="'+a+'">'+a+"</option>")}),n=n||'<option value="">'+t+"</option>",e.closest(".rental_item").find(".ovabrw-other-location").empty()):"other_location"===a.val()?(i=a.find("option:selected").text(),n='<option value="other_location">'+(i=i&&q.trim(i))+"</option>",e.closest(".rental_item").find(".ovabrw-other-location").append('<input style="margin-top: 10px;" class="ovabrw-input-required" id="dropoff-location" name="ovabrw_dropoff_location" type="text" placeholder="'+i+'">'),o()):(n='<option value="">'+t+"</option>",e.closest(".rental_item").find(".ovabrw-other-location").empty()),a.closest(".ovabrw-form").find('select[name="ovabrw_dropoff_location"]').append(n))}function o(){var a,e;function t(e){if(e){const t=new google.maps.places.Autocomplete(e);t.addListener("place_changed",function(){var a=t.getPlace();a.geometry&&(q(e).attr("data-name",a.name),q(e).attr("data-address",a.formatted_address))})}}"object"==typeof google&&"object"==typeof google.maps&&"object"==typeof google.maps.places&&(a=document.querySelector("#pickup-location"),e=document.querySelector("#dropoff-location"),t(a),t(e))}q('.ovabrw-form select[name="ovabrw_pickup_location"].autocomplete-location').each(function(){a(q(this)),q(this).on("change",function(){a(q(this))})}),q(".ovabrw-form").on("change",'select[name="ovabrw_pickup_location"]',function(){var a=q.trim(q(this).find("option:selected").text());"other_location"===q(this).val()?(q(this).closest(".rental_item").find(".ovabrw-other-location").append('<input style="margin-top: 10px;" class="ovabrw-input-required" id="pickup-location" name="ovabrw_pickup_location" type="text" placeholder="'+a+'">'),q(this).closest(".rental_item").find('input[name="ovabrw_pickup_location"]').focus(),o()):q(this).closest(".rental_item").find(".ovabrw-other-location").empty()}),q(".ovabrw-form").on("change",'select[name="ovabrw_dropoff_location"]',function(){var a=q.trim(q(this).find("option:selected").text());"other_location"===q(this).val()?(q(this).closest(".rental_item").find(".ovabrw-other-location").append('<input style="margin-top: 10px;" class="ovabrw-input-required" id="dropoff-location"  name="ovabrw_dropoff_location" type="text" placeholder="'+a+'">'),q(this).closest(".rental_item").find('input[name="ovabrw_dropoff_location"]').focus(),o()):q(this).closest(".rental_item").find(".ovabrw-other-location").empty()})},quantityFields:function(){var a,i=(i=(a="undefined"!=typeof ovabrwErrorMessages?ovabrwErrorMessages:a).minQty)||"Minimum quantity: [number]",n=(n=a.maxQty)||"Maximum quantity: [number]";q('.ovabrw_resource input[type="checkbox"]').on("change",function(){q(this).is(":checked")?q(this).closest(".item").find(".checkbox-item-qty").addClass("active"):q(this).closest(".item").find(".checkbox-item-qty").removeClass("active"),q(this).closest(".item").find(".brwicon2-down-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".checkbox-item-qty").find("input.checkbox-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("min");if(t&&e<=parseInt(t))return g(a,i.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e-=1,q(this).closest(".ovabrw-checkbox-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".checkbox-item-qty").find(".checkbox-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}}),q(this).closest(".item").find(".brwicon2-up-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".checkbox-item-qty").find("input.checkbox-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("max");if(t&&e>=parseInt(t))return g(a,n.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e+=1,q(this).closest(".ovabrw-checkbox-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".checkbox-item-qty").find(".checkbox-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}})}),q(".ovabrw-checkbox").each(function(){q(this).on("change",'input[type="checkbox"]',function(){q(this).prop("checked")?q(this).closest(".checkbox-item").find(".checkbox-item-qty").addClass("active"):q(this).closest(".checkbox-item").find(".checkbox-item-qty").removeClass("active")}),q(this).find(".brwicon2-down-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".checkbox-item-qty").find("input.checkbox-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("min");if(t&&e<=parseInt(t))return g(a,i.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e-=1,q(this).closest(".ovabrw-checkbox-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".checkbox-item-qty").find(".checkbox-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}}),q(this).find(".brwicon2-up-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".checkbox-item-qty").find("input.checkbox-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("max");if(t&&e>=parseInt(t))return g(a,n.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e+=1,q(this).closest(".ovabrw-checkbox-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".checkbox-item-qty").find(".checkbox-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}})}),q(".ovabrw-radio").each(function(){q(this).on("change",'input[type="radio"]',function(){q(this).closest(".ovabrw-radio").find(".radio-item-qty").removeClass("active"),q(this).closest(".radio-item").find(".radio-item-qty").addClass("active"),q(this).closest(".ovabrw-radio").find(".ovabrw-remove-checked").removeClass("active"),q(this).closest(".radio-item").find(".ovabrw-remove-checked").addClass("active")}),q(this).find(".brwicon2-down-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".radio-item-qty").find("input.radio-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("min");if(t&&e<=parseInt(t))return g(a,i.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e-=1,q(this).closest(".ovabrw-radio-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".radio-item-qty").find(".radio-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}}),q(this).find(".brwicon2-up-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".radio-item-qty").find("input.radio-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("max");if(t&&e>=parseInt(t))return g(a,n.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e+=1,q(this).closest(".ovabrw-radio-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".radio-item-qty").find(".radio-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}}),q(this).find(".ovabrw-remove-checked").on("click",function(){q(this).closest(".radio-item").find('input[type="radio"]').prop("checked",!1),q(this).closest(".radio-item").find(".radio-item-qty").removeClass("active"),q(this).removeClass("active");var a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)})}),q(".ovabrw-select").each(function(){q(this).on("change","select",function(){q(this).closest(".ovabrw-select").find(".select-item-qty").removeClass("active"),q(this).val()&&q(this).closest(".ovabrw-select").find('.select-item-qty[data-option="'+q(this).val()+'"]').addClass("active")}),q(this).find(".brwicon2-down-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".select-item-qty").find("input.select-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("min");if(t&&e<=parseInt(t))return g(a,i.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e-=1,q(this).closest(".ovabrw-select-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".select-item-qty").find(".select-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}}),q(this).find(".brwicon2-up-arrow").off("click").on("click",function(){if(q(this).hasClass("ovabrw-disabled"))return!1;var a=q(this).closest(".select-item-qty").find("input.select-input-qty");if(a.length){if(!(e=a.val()))return!1;var e=parseInt(e),t=a.attr("max");if(t&&e>=parseInt(t))return g(a,n.replace(/\[number\]/g,t),!1),q(this).addClass("ovabrw-disabled"),!1;e+=1,q(this).closest(".ovabrw-select-icon").find("i").removeClass("ovabrw-disabled"),a.val(e),q(this).closest(".select-item-qty").find(".select-qty").text(e),e===parseInt(t)&&q(this).addClass("ovabrw-disabled");a=q(this).closest("form#booking_form");a.length&&a.find('input[name="ovabrw_pickup_date"]').val()&&A.calculateTotal(a)}})})},timeSlots:function(e=null){function o(t=null){t&&0<t.length&&t.find('input[name="ovabrw_start_time"]').on("change",function(){q(this).closest(".ovabrw-time-slots").find(".time-slot").removeClass("active"),q(this).closest(".time-slot").addClass("active");var a=q(this).data("end-date"),e=t.find('input[name="ovabrw_dropoff_date"]');0<a.length&&0<e.length&&e.val(a),A.calculateTotal(t)})}var t,r,a,i,s;e&&0<e.length&&(e.find(".ovabrw-loader-date").show(),e.find('input[name="ovabrw_dropoff_date"]').val(""),e.find(".show_ajax_content").removeClass("active"),e.find(".ovabrw-total-amount").html(""),t=e.find(".ovabrw-time-slots-location"),r=e.find(".ovabrw-time-slots"),a=e.find('input[name="product_id"]').val(),i=e.find('input[name="ovabrw_pickup_date"]').val(),s=e.find('input[name="ovabrw_dropoff_date"]'),q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_get_time_slots",security:ajax_object.security,product_id:a,pickup_date:i},success:function(a){var i,n;a&&(a=JSON.parse(a),0<t.length&&a.timeslots_location&&(t.html("").append(a.timeslots_location),e.find(".ovabrw-time-slots-location-field").fadeIn("slow")),r.html("").append(a.timeslots_html),0<s.length&&a.dropoff_date&&s.val(a.dropoff_date),a.error?(r.append('<span class="ovabrw-error">'+a.error+"</span>"),0<s.length&&s.val(""),e.find(".ajax_show_total").hide(),e.find(".show_ajax_content").removeClass("active"),e.find(".ovabrw-total-amount").html(""),e.find(".ovabrw-insurance-amount").hide(),e.find('button[type="submit"]').prop("disabled",!0)):(A.calculateTotal(e),[i=null]=[e],i&&0<i.length&&(n=i.find(".ovabrw-time-slots"),i.find('select[name="ovabrw_location"]').on("change",function(){var a=i.find('input[name="product_id"]').val(),e=q(this).data("timeslots"),t=i.find('input[name="ovabrw_dropoff_date"]');q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_time_slots_location",security:ajax_object.security,product_id:a,location:q(this).val(),time_slots:e},success:function(a){a=JSON.parse(a);n.html("").append(a.timeslots_html),0<t.length&&a.dropoff_date&&t.val(a.dropoff_date),a.error?(n.append('<span class="ovabrw-error">'+a.error+"</span>"),0<t.length&&t.val(""),i.find(".ajax_show_total").hide(),i.find(".show_ajax_content").removeClass("active"),i.find(".ovabrw-total-amount").html(""),i.find(".ovabrw-insurance-amount").hide(),i.find('button[type="submit"]').prop("disabled",!0)):(A.calculateTotal(i),o(i))}})})),o(e)),e.find(".ovabrw-time-slots-field").fadeIn("slow"),e.find(".ovabrw-loader-date").hide())}}))},loadingPackages:function(e=null){var a,t,i,n,o;e&&0<e.length&&(e.find(".ovabrw-loader-date").show(),e.find(".show_ajax_content").removeClass("active"),e.find(".ovabrw-total-amount").html(""),a=e.find('input[name="product_id"]').val(),"other_location"===(t=e.find('select[name="ovabrw_pickup_location"]').val())&&(t=e.find('input[name="ovabrw_pickup_location"]').val()),"other_location"===(i=e.find('select[name="ovabrw_dropoff_location"]').val())&&(i=e.find('input[name="ovabrw_dropoff_location"]').val()),n=e.find('input[name="ovabrw_pickup_date"]').val(),(o=e.find('select[name="ovabrw_package_id"]')).prop("disabled",!0),q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_get_packages",security:ajax_object.security,product_id:a,pickup_location:t,dropoff_location:i,pickup_date:n},success:function(a){o.find("option").remove(),a&&(a=q.parseJSON(a)).options&&o.append(a.options),o.prop("disabled",!1),e.find(".ovabrw-loader-date").hide(),A.selectFields(),o.val()&&A.calculateTotal(e)}}))},guestsPicker:function(){var h;function i(a,e,t="booking"){var i,n=a.closest("form#booking_form"),o=(a.closest("form#request_booking"),a.closest(".guests-button").find('input[type="text"]')),a=a.closest(".ovabrw-wrapper-guestspicker"),r=(a.find(".ovabrw-gueste-error").html("").remove(),a.find('input[name="ovabrw_min_guests"]').val()),s=(void 0!==r&&r||(r=0),a.find('input[name="ovabrw_max_guests"]').val()),l=(void 0!==s&&s||(s=0),a.find('input[name="ovabrw_min_adults"]').val()),c=(void 0!==l&&l||(l=0),a.find('input[name="ovabrw_max_adults"]').val()),d=(void 0!==c&&c||(c=0),a.find('input[name="ovabrw_min_children"]').val()),p=(void 0!==d&&d||(d=0),a.find('input[name="ovabrw_max_children"]').val()),u=(void 0!==p&&p||(p=0),a.find('input[name="ovabrw_min_babies"]').val()),m=(void 0!==u&&u||(u=0),a.find('input[name="ovabrw_max_babies"]').val());if(void 0!==m&&m||(m=0),"sub"==e){if(!parseInt(o.val()))return;if("ovabrw_adults"===o.attr("name")||"adults"===o.attr("name"))if(parseInt(l)&&parseInt(l)==parseInt(o.val()))return i=o.closest(".guests-buttons").find(".guests-label label").text(),void g(o,(h.minGuest||"Minimum number of [guest]: [number].").replace(/\[guest\]/g,i).replace(/\[number\]/g,l),!1);if("ovabrw_children"===o.attr("name")||"children"===o.attr("name"))if(parseInt(d)&&parseInt(d)==parseInt(o.val()))return i=o.closest(".guests-buttons").find(".guests-label label").text(),void g(o,(h.minGuest||"Minimum number of [guest]: [number].").replace(/\[guest\]/g,i).replace(/\[number\]/g,d),!1);if("ovabrw_babies"===o.attr("name")||"babies"===o.attr("name"))if(parseInt(u)&&parseInt(u)==parseInt(o.val()))return i=o.closest(".guests-buttons").find(".guests-label label").text(),void g(o,(h.minGuest||"Minimum number of [guest]: [number].").replace(/\[guest\]/g,i).replace(/\[number\]/g,u),!1);var f=v(a);if(parseInt(r)&&(f==parseInt(r)||f<parseInt(r)))return void g(o,(h.minGuests||"Minimum number of guests: [number].").replace(/\[number\]/g,r),!1);o.val(parseInt(o.val())-1),"booking"===t&&A.calculateTotal(n)}if("sum"==e){if("ovabrw_adults"===o.attr("name")||"adults"===o.attr("name"))if(parseInt(c)&&parseInt(c)==parseInt(o.val()))return i=o.closest(".guests-buttons").find(".guests-label label").text(),void g(o,(h.maxGuest||"Maximum number of [guest]: [number].").replace(/\[guest\]/g,i).replace(/\[number\]/g,c),!1);if("ovabrw_children"===o.attr("name")||"children"===o.attr("name"))if(parseInt(p)&&parseInt(p)==parseInt(o.val()))return i=o.closest(".guests-buttons").find(".guests-label label").text(),void g(o,(h.maxGuest||"Maximum number of [guest]: [number].").replace(/\[guest\]/g,i).replace(/\[number\]/g,p),!1);if("ovabrw_babies"===o.attr("name")||"babies"===o.attr("name"))if(parseInt(m)&&parseInt(m)==parseInt(o.val()))return i=o.closest(".guests-buttons").find(".guests-label label").text(),void g(o,(h.maxGuest||"Maximum number of [guest]: [number].").replace(/\[guest\]/g,i).replace(/\[number\]/g,m),!1);f=v(a),f=v(a);if(parseInt(s)&&(f==parseInt(s)||f>parseInt(s)))return void g(o,(h.maxGuests||"Maximum number of guests: [number].").replace(/\[number\]/g,s),!1);o.val(parseInt(o.val())+1),"booking"===t&&A.calculateTotal(n)}f=v(a),l=a.find(".gueststotal");l&&l.text(f)}function v(a=null){var e,t;return 0<a.length?(void 0!==(t=a.find(".ovabrw_adults").val())&&t||(t=0),void 0!==(e=a.find(".ovabrw_children").val())&&e||(e=0),void 0!==(a=a.find(".ovabrw_babies").val())&&a||(a=0),t=parseInt(t)+parseInt(e)+parseInt(a),parseInt(t)):0}"undefined"!=typeof ovabrwErrorMessages&&(h=ovabrwErrorMessages),q(".ovabrw-wrapper-guestspicker").each(function(){var a=q(this),e=a.find(".ovabrw-guestspicker"),t=a.find(".ovabrw-guestspicker-content");e.on("click",function(){t.toggle()}),q(window).click(function(a){e.is(a.target)||0!==e.has(a.target).length||t.is(a.target)||0!==t.has(a.target).length||t.hide()}),a.find(".minus").on("click",function(){0<a.closest("#booking_form").length?i(q(this),"sub","booking"):i(q(this),"sub","")}),a.find(".plus").on("click",function(){0<a.closest("#booking_form").length?i(q(this),"sum","booking"):i(q(this),"sum","")})})},taxiLocations:async function(){if(await Y()&&0<q('input[name="ovabrw_data_location"]').length){v();var a=q('#booking_form input[name="ovabrw_data_location"]'),n=a.data("waypoint-text"),o=a.data("max-waypoint"),r=0,s=[],e={fields:["formatted_address","geometry"]},h=a.data("price-by"),t=a.data("map-types"),i=a.data("bounds"),l=a.data("bounds-lat"),c=a.data("bounds-lng"),d=a.data("bounds-radius"),a=a.data("restrictions");if(t&&(e.types=t),"on"==i&&l&&c&&d&&(t=new google.maps.Circle({center:new google.maps.LatLng(l,c),radius:d}),e.bounds=t.getBounds(),e.strictBounds=!0),a&&q.isArray(a)&&(e.componentRestrictions={country:a}),!function i(){q(document).find(".btn-add-waypoint").off().on("click",function(){var a=q(this).closest("form");if(o&&r==o)return!1;for(var e=u(16);-1!==q.inArray(e,s);)e=u(16);var t='<div class="rental_item form-location-field">';t=(t=(t='<div class="rental_item form-location-field"><label>'+n+'</label><input type="text" id="ovabrw_waypoint_location_'+e+'" class="ovabrw-input-required" name="ovabrw_waypoint_address[]" autocomplete="off">')+'<input type="hidden" class="ovabrw-input-required" name="ovabrw_waypoint_data[]" value=""><i aria-hidden="true" class="flaticon-substract btn-remove-waypoint"></i>')+'<i aria-hidden="true" class="flaticon-add btn-add-waypoint"></i></div>',q(this).closest(".form-location-field").after(t),o&&(r+=1)==o&&(a.find(".form-location-field .btn-add-waypoint").hide(),a.find("body.rtl.ovabrw-modern").length?a.find(".form-location-field .btn-remove-waypoint").css("left","13px"):a.find(".form-location-field .btn-remove-waypoint").css("right","13px")),i(),m(),f()})}(),m(),q("#ovabrw_pickup_location").length&&q("#ovabrw_dropoff_location").length){var i=document.getElementById("ovabrw_pickup_location"),l=document.getElementById("ovabrw_dropoff_location"),p=q(i).closest("form");const I=new google.maps.places.Autocomplete(i,e),T=(I.addListener("place_changed",function(){var a=I.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};p.find('input[name="ovabrw_origin"]').val(JSON.stringify(a)),p.find('input[name="ovabrw_dropoff_location"]').focus(),v()}),new google.maps.places.Autocomplete(l,e));T.addListener("place_changed",function(){var a=T.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};p.find('input[name="ovabrw_destination"]').val(JSON.stringify(a)),v()})}function u(a){let e="",t=0;for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length;t<a;)e+=i.charAt(Math.floor(Math.random()*n)),t+=1;return e}function m(){q(document).find(".btn-remove-waypoint").off().on("click",function(){var a=q(this).closest("form");o&&--r<o&&(a.find(".form-location-field .btn-add-waypoint").show(),a.find("body.rtl.ovabrw-modern").length?a.find(".form-location-field .btn-remove-waypoint").css("left","45px"):a.find(".form-location-field .btn-remove-waypoint").css("right","45px")),q(this).closest(".form-location-field").remove(),v()})}function f(){q("#booking_form").find('input[name="ovabrw_waypoint_address[]"]').each(function(){var t=q(this),a=t.attr("id"),a=document.getElementById(a),i=new google.maps.places.Autocomplete(a,e);i.addListener("place_changed",function(){var a=i.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};t.closest(".form-location-field").find('input[name="ovabrw_waypoint_data[]"]').val(JSON.stringify(a)),v()})})}function v(){var s=q("#booking_form .ovabrw-directions"),a=q('#booking_form input[name="ovabrw_data_location"]').data("lat"),e=q('#booking_form input[name="ovabrw_data_location"]').data("lng"),l=q('#booking_form input[name="ovabrw_data_location"]').data("zoom"),c=q('#booking_form input[name="ovabrw_origin"]').val(),d=q('#booking_form input[name="ovabrw_destination"]').val(),p=q('#booking_form select[name="ovabrw_extra_time"]').val(),u=[],p=p||0;if(q('#booking_form input[name="ovabrw_waypoint_data[]"]').each(function(){u.push({location:q(this).val(),stopover:!0})}),c&&d){s.css("display","block");let t=0,i=0,n,o,r;var m=new google.maps.DirectionsService;const f=new google.maps.DirectionsRenderer;l=new google.maps.Map(document.getElementById("ovabrw_map"),{zoom:l,center:{lat:a,lng:e}});f.setMap(l),m.route({origin:c,destination:d,waypoints:u,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING}).then(a=>{f.setDirections(a);var e=a.routes[0];for(let a=0;a<e.legs.length;a++)t+=e.legs[a].distance.value,i+=e.legs[a].duration.value;t=t||0,i=i||0,q('#booking_form input[name="ovabrw_distance"]').val(t),q('#booking_form input[name="ovabrw_duration_map"]').val(i),n=parseFloat(3600*p)+parseInt(i),q('#booking_form input[name="ovabrw_duration"]').val(n),o=parseInt(n/3600),r=Math.round(n%3600/60),"km"===h?s.find(".distance-value").html("").append((t/1e3).toFixed(2)):s.find(".distance-value").html("").append((t/1609.34).toFixed(2)),s.find(".hour").html("").append(o),s.find(".minute").html("").append(r),A.calculateTotal(q("#booking_form"))}).catch(a=>window.alert("Directions request failed!"))}else s.hide()}q('#booking_form select[name="ovabrw_extra_time"]').on("change",function(){var a=(a=q(this).val())||0,e=(e=q('#booking_form input[name="ovabrw_duration_map"]').val())||0,a=parseFloat(3600*a)+parseInt(e),e=parseInt(a/3600),t=Math.round(a%3600/60);q('#booking_form input[name="ovabrw_duration"]').val(a),q("#booking_form .ovabrw-directions .hour").html("").append(e),q("#booking_form .ovabrw-directions .minute").html("").append(t),A.calculateTotal(q("#booking_form"))}),O();var c=q('#request_booking input[name="ovabrw_data_location"]'),g=c.data("waypoint-text"),b=c.data("max-waypoint"),w=0,_=[],d={fields:["formatted_address","geometry"]},k=c.data("price-by"),t=c.data("map-types"),a=c.data("bounds"),i=c.data("bounds-lat"),l=c.data("bounds-lng"),y=c.data("bounds-radius"),c=c.data("restrictions");if(t&&(d.types=t),"on"==a&&i&&l&&y&&(t=new google.maps.Circle({center:new google.maps.LatLng(i,l),radius:y}),d.bounds=t.getBounds(),d.strictBounds=!0),c&&q.isArray(c)&&(d.componentRestrictions={country:c}),!function i(){q(document).find(".btn-req-add-waypoint").off().on("click",function(){var a=q(this).closest("form");if(b&&w==b)return!1;for(var e=u(16);-1!==q.inArray(e,_);)e=u(16);var t='<div class="rental_item form-location-field">';t=(t=(t='<div class="rental_item form-location-field"><label>'+g+'</label><input type="text" id="ovabrw_waypoint_location_'+e+'" class="ovabrw-input-required" name="ovabrw_waypoint_address[]" autocomplete="off">')+'<input type="hidden" class="ovabrw-input-required" name="ovabrw_waypoint_data[]" value=""><i aria-hidden="true" class="flaticon-substract btn-req-remove-waypoint"></i>')+'<i aria-hidden="true" class="flaticon-add btn-req-add-waypoint"></i></div>',q(this).closest(".form-location-field").after(t),b&&(w+=1)==b&&(a.find(".form-location-field .btn-req-add-waypoint").hide(),a.find("body.rtl.ovabrw-modern").length?a.find(".form-location-field .btn-req-remove-waypoint").css("left","13px"):a.find(".form-location-field .btn-req-remove-waypoint").css("right","13px")),i(),x(),D()})}(),x(),q("#ovabrw_req_pickup_location").length&&q("#ovabrw_req_dropoff_location").length){var a=document.getElementById("ovabrw_req_pickup_location"),i=document.getElementById("ovabrw_req_dropoff_location"),P=q(a).closest("form");const j=new google.maps.places.Autocomplete(a,d),C=(j.addListener("place_changed",function(){var a=j.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};P.find('input[name="ovabrw_origin"]').val(JSON.stringify(a)),P.find('input[name="ovabrw_dropoff_location"]').focus(),O()}),new google.maps.places.Autocomplete(i,d));C.addListener("place_changed",function(){var a=C.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};P.find('input[name="ovabrw_destination"]').val(JSON.stringify(a)),O()})}function x(){q(document).find(".btn-req-remove-waypoint").off().on("click",function(){var a=q(this).closest("form");b&&--w<b&&(a.find(".form-location-field .btn-req-add-waypoint").show(),a.find("body.rtl.ovabrw-modern").length?a.find(".form-location-field .btn-req-remove-waypoint").css("left","45px"):a.find(".form-location-field .btn-req-remove-waypoint").css("right","45px")),q(this).closest(".form-location-field").remove(),O()})}function D(){q("#request_booking").find('input[name="ovabrw_waypoint_address[]"]').each(function(){var t=q(this),a=t.attr("id"),a=document.getElementById(a),i=new google.maps.places.Autocomplete(a,e);i.addListener("place_changed",function(){var a=i.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};t.closest(".form-location-field").find('input[name="ovabrw_waypoint_data[]"]').val(JSON.stringify(a)),v()})})}function O(){var s=q("#request_booking .ovabrw-req-directions"),a=q('#request_booking input[name="ovabrw_data_location"]').data("lat"),e=q('#request_booking input[name="ovabrw_data_location"]').data("lng"),l=q('#request_booking input[name="ovabrw_data_location"]').data("zoom"),c=q('#request_booking input[name="ovabrw_origin"]').val(),d=q('#request_booking input[name="ovabrw_destination"]').val(),p=q('#request_booking select[name="ovabrw_extra_time"]').val(),u=[],p=p||0;if(q('#request_booking input[name="ovabrw_waypoint_data[]"]').each(function(){u.push({location:q(this).val(),stopover:!0})}),c&&d){s.css("display","block");let t=0,i=0,n,o,r;var m=new google.maps.DirectionsService;const f=new google.maps.DirectionsRenderer;l=new google.maps.Map(document.getElementById("ovabrw_req_map"),{zoom:l,center:{lat:a,lng:e}});f.setMap(l),m.route({origin:c,destination:d,waypoints:u,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING}).then(a=>{f.setDirections(a);var e=a.routes[0];for(let a=0;a<e.legs.length;a++)t+=e.legs[a].distance.value,i+=e.legs[a].duration.value;t=t||0,i=i||0,q('#request_booking input[name="ovabrw_distance"]').val(t),q('#request_booking input[name="ovabrw_duration_map"]').val(i),n=parseFloat(3600*p)+parseInt(i),q('#request_booking input[name="ovabrw_duration"]').val(n),o=parseInt(n/3600),r=Math.round(n%3600/60),"km"===k?s.find(".distance-value").html("").append((t/1e3).toFixed(2)):s.find(".distance-value").html("").append((t/1609.34).toFixed(2)),s.find(".hour").html("").append(o),s.find(".minute").html("").append(r)}).catch(a=>window.alert("Directions request failed!"))}else s.hide()}q('#request_booking select[name="ovabrw_extra_time"]').on("change",function(){var a=(a=q(this).val())||0,e=(e=q('#request_booking input[name="ovabrw_duration_map"]').val())||0,a=parseFloat(3600*a)+parseInt(e),e=parseInt(a/3600),t=Math.round(a%3600/60);q('#request_booking input[name="ovabrw_duration"]').val(a),q("#request_booking .ovabrw-req-directions .hour").html("").append(e),q("#request_booking .ovabrw-req-directions .minute").html("").append(t)})}},calculateTotal:function(o=null){if(o&&0<o.length&&!o.is("#request_booking")){o.find(".ajax_loading").addClass("active");var a=o.find('input[name="product_id"]').val(),e=o.find('select[name="ovabrw_pickup_location"]').val(),t=(e=(e=(e="other_location"===e?o.find('input[name="ovabrw_pickup_location"]').val():e)||o.find('select[name="ovabrw_location"]').val())||o.find('input[name="ovabrw_pickup_location"]').val(),o.find('select[name="ovabrw_dropoff_location"]').val()),i=(t=(t="other_location"===e?o.find('input[name="ovabrw_dropoff_location"]').val():t)||o.find('input[name="ovabrw_dropoff_location"]').val(),o.find('input[name="ovabrw_pickup_date"]').val());if(!i)return o.find(".ajax_loading").removeClass("active"),!1;var n=o.find('input[name="ovabrw_start_time"]:checked').val(),n=(n&&(i=i+" "+n),o.find('input[name="ovabrw_dropoff_date"]').val()),r=o.find('select[name="ovabrw_package_id"]').val(),s=o.find('input[name="ovabrw_adults"]').val(),l=o.find('input[name="ovabrw_children"]').val(),c=o.find('input[name="ovabrw_babies"]').val(),d=o.find('input[name="ovabrw_quantity"]').val(),p=o.find('input[name="ovabrw_type_deposit"]:checked').val(),u=o.find('input[name="ovabrw_duration_map"]').val(),m=o.find('input[name="ovabrw_duration"]').val(),f=o.find('input[name="ovabrw_distance"]').val(),h=o.find('select[name="ovabrw_extra_time"]').val(),v={},g={},b=o.find('input[name="ovabrw_product_cckf"]').val(),w=(b&&(b=JSON.parse(b),q.each(b,function(e,a){var t,i,n;"radio"===a.type?0<(i=o.find('input[name="'+e+'"]:checked')).length&&(v[e]=i.val(),n=i.closest(".ovabrw-radio").find('input[name="'+e+"_qty["+i.val()+']"]').val(),parseInt(n))&&(g[e]=parseInt(n)):"checkbox"===a.type?(t=[],o.find(".ovabrw-checkbox input[type=checkbox]:checked").each(function(){t.push(q(this).val());var a=q(this).closest(".ovabrw-checkbox").find('input[name="'+e+"_qty["+q(this).val()+']"]').val();parseInt(a)&&(g[q(this).val()]=parseInt(a))}),0<t.length&&(v[e]=t)):"select"===a.type&&(i=o.find('select[name="'+e+'"]').val())&&(v[e]=i,n=o.find('input[name="'+e+"_qty["+i+']"]').val(),parseInt(n))&&(g[i]=parseInt(n))})),[]),_=[],k=(o.find(".ovabrw_resource input[type=checkbox]:checked").each(function(){var a=q(this).data("id"),e=q(this).val();a&&e&&(w[a]=e,e=q(this).closest(".item").find('input[name="ovabrw_resource_quantity['+a+']"]').val(),parseInt(e))&&(_[a]=parseInt(e))}),w=q.extend({},w),_=q.extend({},_),[]),y=[],b=(o.find('select[name="ovabrw_service[]"]').each(function(){var a,e=q(this).val();e&&(k.push(e),a=q(this).closest(".ovabrw-select").find('input[name="ovabrw_service_qty['+e+']"]').val(),parseInt(a))&&(y[e]=parseInt(a))}),k=q.extend({},k),y=q.extend({},y),{action:"ovabrw_calculate_total",security:ajax_object.security,product_id:a,pickup_location:e,dropoff_location:t,pickup_date:i,dropoff_date:n,package_id:r,quantity:d,deposit:p,cckf:JSON.stringify(v),cckf_qty:JSON.stringify(g),resources:JSON.stringify(w),resources_qty:JSON.stringify(_),services:JSON.stringify(k),services_qty:JSON.stringify(y),duration_map:u,duration:m,distance:f,extra_time:h});parseInt(s)&&(b.adults=parseInt(s)),parseInt(l)&&(b.children=parseInt(l)),parseInt(c)&&(b.babies=parseInt(c)),q.ajax({url:ajax_object.ajax_url,type:"POST",data:wp.hooks.applyFilters("ovabrwFrontend.calculateTotalAjaxData",b,o),success:function(a){var e;a?(e=JSON.parse(a),o.find(".ajax_show_total").show(),e.insurance_amount?(o.find(".ovabrw-insurance-amount").show(),o.find(".show-amount-insurance").html("").append(e.insurance_amount)):(o.find(".ovabrw-insurance-amount").hide(),o.find(".show-amount-insurance").html("")),e.error?(o.find(".show_ajax_content").removeClass("active"),o.find(".ovabrw-total-amount").html(""),o.find(".ajax-show-error").html("").append(e.error).show(),o.find('button[type="submit"]').prop("disabled",!0)):0<e.items_available?(o.find(".ajax-show-error").html("").hide(),o.find('input[name="ovabrw_quantity"]').attr("max",e.items_available),o.find(".show_ajax_content").addClass("active"),o.find(".ovabrw-total-amount").html("").append(e.line_total),o.find(".number-available").html("").append(e.items_available),o.find('button[type="submit"]').prop("disabled",!1)):(o.find(".ajax-show-error").html("").hide(),o.find('input[name="ovabrw_quantity"]').attr("max",1),o.find(".show_ajax_content").addClass("active"),o.find(".number-available").html("").append(0),o.find('button[type="submit"]').prop("disabled",!0))):(o.find(".ajax_show_total").hide(),o.find(".show_ajax_content").removeClass("active"),o.find(".ovabrw-total-amount").html(""),o.find(".ovabrw-insurance-amount").hide(),o.find(".ajax-show-error").html("").hide(),o.find('button[type="submit"]').prop("disabled",!0)),o.find(".ajax_loading").removeClass("active"),wp.hooks.doAction("ovabrwFrontend.afterCalculateTotal",a,o)}})}},bookingForm:function(){q("form#booking_form").each(function(){var a=q(this),e=a.data("run_ajax"),t=a.find('input[name="ovabrw_pickup_date"]').val(),i=a.find('input[name="ovabrw_dropoff_date"]').val(),n=a.find('select[name="ovabrw_package_id"]').val();0!=e&&t&&(i||n)&&A.calculateTotal(a),q(this).find('select[name="ovabrw_pickup_location"]').on("change",function(){A.calculateTotal(a)}),q(this).find('input[name="ovabrw_pickup_location"]').on("change",function(){A.calculateTotal(a)}),q(this).find('select[name="ovabrw_dropoff_location"]').on("change",function(){A.calculateTotal(a)}),q(this).find('input[name="ovabrw_dropoff_location"]').on("change",function(){A.calculateTotal(a)}),q(this).find('select[name="ovabrw_package_id"]').on("change",function(){A.calculateTotal(a)}),q(this).find('input[name="ovabrw_quantity"]').on("change",function(){A.calculateTotal(a)}),q(this).find(".ovabrw-radio input").on("change",function(){A.calculateTotal(a)}),q(this).find(".ovabrw-checkbox input").on("change",function(){A.calculateTotal(a)}),q(this).find(".ovabrw-select select").on("change",function(){A.calculateTotal(a)}),q(this).find(".ovabrw-select input").on("change",function(){A.calculateTotal(a)}),q(this).find(".ovabrw_resource input").on("change",function(){A.calculateTotal(a)}),q(this).find('input[name="ovabrw_type_deposit"]').on("change",function(){"full"==q(this).val()?(q(this).closest(".ovabrw-modern-deposit").find(".deposit-label").removeClass("active"),q(this).closest(".ovabrw-modern-deposit").find(".deposit-label.pay-full").addClass("active")):"deposit"==q(this).val()&&(q(this).closest(".ovabrw-modern-deposit").find(".deposit-label").removeClass("active"),q(this).closest(".ovabrw-modern-deposit").find(".deposit-label.pay-deposit").addClass("active")),A.calculateTotal(a)})})},submitForm:function(){var r;function o(a=null){var o=!0;return 0<a.length&&a.find(".ovabrw-input-required").each(function(){if(q(this).hasClass("ovabrw-radio")){if(!q(this).find('input[type="radio"]:checked').val())return g(q(this),r.required,!1),o=!1}else if(q(this).hasClass("ovabrw-time-slots")){if(!q(this).find('input[type="radio"]:checked').val())return g(q(this),r.required,!1),o=!1}else if(q(this).hasClass("ovabrw-checkbox")){if(!q(this).find('input[type="checkbox"]:checked').val())return g(q(this),r.required,!1),o=!1}else if("ovabrw_adults"==q(this).attr("name")||"ovabrw_children"==q(this).attr("name")||"ovabrw_babies"==q(this).attr("name")){var a=q(this).closest(".rental_item").find(".ovabrw_adults").val(),e=(void 0!==a&&a||(a=0),q(this).closest(".rental_item").find(".ovabrw_children").val()),t=(void 0!==e&&e||(e=0),q(this).closest(".rental_item").find(".ovabrw_babies").val());if(void 0!==t&&t||(t=0),parseInt(a)+parseInt(e)+parseInt(t)<=0)return g(q(this).closest(".ovabrw-wrapper-guestspicker"),r.required,!1),o=!1}else if("ovabrw_origin"==q(this).attr("name")){if(!q(this).val())return g(q(this).closest(".form-location-field").find('input[name="ovabrw_pickup_location"]'),r.mapAPI,!1),o=!1}else if("ovabrw_destination"==q(this).attr("name")){if(!q(this).val())return g(q(this).closest(".form-location-field").find('input[name="ovabrw_dropoff_location"]'),r.mapAPI,!1),o=!1}else if("ovabrw_waypoint_data[]"==q(this).attr("name")){if(!q(this).val())return g(q(this).closest(".form-location-field").find('input[name="ovabrw_waypoint_address[]"]'),r.mapAPI,!1),o=!1}else{var i,n;if(!q(this).val())return"ovabrw-recaptcha-token"==q(this).attr("name")?(a=q(this).attr("data-error"),g(q(this),a||r.reCAPTCHA,!1)):g(q(this),r.required),o=!1;if(q(this).hasClass("ovabrw-datepicker")||q(this).hasClass("ovabrw-datepicker-field")){if(!s(q(this).val(),r.dateFormat))return g(q(this),r.date),o=!1}else if(q(this).hasClass("ovabrw-datetimepicker")||q(this).hasClass("ovabrw-datetimepicker-field")){if(e=q(this).val(),t=r.dateFormat,!e||!t||([e,a]=e.split(" "),!e)||!a||!s(e,t))return g(q(this),r.date),o=!1}else{if(q(this).hasClass("ovabrw-conditions")&&!q(this).prop("checked"))return g(q(this),r.conditions),o=!1;if("number"==q(this).attr("type"))return i=parseInt(q(this).val()),isNaN(i)?(g(q(this),r.digits,!1),o=!1):(n=parseInt(q(this).attr("min")),!isNaN(n)&&i<n?(g(q(this),r.min.replace(/\[number\]/g,n),!1),o=!1):(n=parseInt(q(this).attr("max")),!isNaN(n)&&n<i?(g(q(this),r.max.replace(/\[number\]/g,n),!1),o=!1):void 0));if("email"==q(this).attr("type")){if(!function(a){if(a)if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a))return;return a}(q(this).val()))return g(q(this),r.email,!1),o=!1}else if("tel"==q(this).attr("type")&&!function(a){if(a)if(!/^\(?\+?\)?[\d\s()\-]*[^\(\)]$/.test(a))return;return a}(q(this).val()))return g(q(this),r.phone,!1),o=!1}}}),o}function s(a,e){var t,i,n,o;return!(!a||!e||!a.match(function(a){var e="";"Y-m-d"===a?e=/^\d{4}-\d{2}-\d{2}$/:"Y/m/d"===a?e=/^\d{4}\/\d{2}\/\d{2}$/:"m/d/Y"===a?e=/^\d{2}\/\d{2}\/\d{4}$/:"d-m-Y"===a&&(e=/^\d{2}-\d{2}-\d{4}$/);return e}(e))||("Y-m-d"===e?(t=a.split("-"),i=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10)):"Y/m/d"===e?(t=a.split("/"),i=parseInt(t[0],10),n=parseInt(t[1],10),o=parseInt(t[2],10)):"m/d/Y"===e?(t=a.split("/"),i=parseInt(t[2],10),n=parseInt(t[0],10),o=parseInt(t[1],10)):"d-m-Y"===e&&(t=a.split("-"),i=parseInt(t[2],10),n=parseInt(t[1],10),o=parseInt(t[0],10)),n<1)||12<n||o<1||31<o||(e=new Date(i,n-1,o),!((a=e)instanceof Date))||isNaN(a)||e.getFullYear()!==i||e.getMonth()+1!==n||e.getDate()!==o)}"undefined"!=typeof ovabrwErrorMessages&&(r=ovabrwErrorMessages),q('form#booking_form button[type="submit"]').on("click",function(a){var e=q(this).closest("form"),t=e.find('button[type="submit"]');if(t.hasClass("disabled")&&a.preventDefault(),t.addClass("disabled"),e.find(".ajax_loading").css("opacity","1"),!o(e))return a.preventDefault(),t.removeClass("disabled"),e.find(".ajax_loading").css("opacity","0"),!1;var i,n=e.find('input[name="ovabrw-recaptcha-token"]');0<n.length&&((i=n.val())&&(t.addClass("disabled"),e.find(".ajax_loading").css("opacity","1"),q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_verify_recaptcha",security:ajax_object.security,token:i},success:function(a){a?g(n,a,!1):e.submit(),t.removeClass("disabled"),e.find(".ajax_loading").css("opacity","0")}})),a.preventDefault())}),q('form#request_booking button[type="submit"]').on("click",function(a){var e=q(this).closest("form"),t=e.find('button[type="submit"]');if(t.hasClass("disabled")&&a.preventDefault(),t.addClass("disabled"),e.find(".ajax_loading").css("opacity","1"),!o(e))return a.preventDefault(),t.removeClass("disabled"),e.find(".ajax_loading").css("opacity","0"),!1;var i,n=e.find('input[name="ovabrw-recaptcha-token"]');0<n.length&&((i=n.val())&&(t.addClass("disabled"),e.find(".ajax_loading").css("opacity","1"),q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_verify_recaptcha",security:ajax_object.security,token:i},success:function(a){a?g(n,a,!1):e.submit(),t.removeClass("disabled"),e.find(".ajax_loading").css("opacity","0")}})),a.preventDefault())}),q(".ovabrw_btn_submit").on("click",function(a){!function(i=null){var n=!0;i&&0<i.length&&i.find(".ovabrw-input-required").each(function(){if("ovabrw_adults"==q(this).attr("name")||"ovabrw_children"==q(this).attr("name")||"ovabrw_babies"==q(this).attr("name")){var a=i.find('input[name="ovabrw_adults"]').val(),e=(void 0!==a&&a||(a=0),i.find('input[name="ovabrw_children"]').val()),t=(void 0!==e&&e||(e=0),i.find('input[name="ovabrw_babies"]').val());if(void 0!==t&&t||(t=0),parseInt(a)+parseInt(e)+parseInt(t)<=0)return g(q(this).closest(".ovabrw-wrapper-guestspicker"),r.required,!1),n=!1}else if(!q(this).val())return g(q(this),r.required),n=!1});return n}(q(this).closest("form"))&&a.preventDefault()}),q('.ovabrw-file input[type="file"]').each(function(){q(this).on("change",function(a){a.preventDefault();var a=q(this),e=a.data("max-file-size"),t=a.data("file-mimes"),i=[],t=("object"==typeof t&&q.each(t,function(a,e){i.push(e)}),a.closest(".ovabrw-file").find(".ovabrw-file-name").html(""),this.files[0].name),n=this.files[0].size,o=this.files[0].type;if(t&&n&&o)return a.closest(".ovabrw-file").find(".ovabrw-file-name").html(t),e<(n/1048576).toFixed(2)?(a=(a=r.size)||"Please select a file less than [size] MB",g(q(this),a.replace(/\[size\]/g,e)),!1):-1==q.inArray(o,i)?(t=r.fileType,g(q(this),t),!1):void 0})}),q('.ovabrw-modern-file input[type="file"]').each(function(){q(this).on("change",function(a){a.preventDefault();var a=q(this),e=a.data("max-file-size"),t=a.data("file-mimes"),i=[];if("object"==typeof t&&q.each(t,function(a,e){i.push(e)}),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .name").html("").hide(),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .placeholder").show(),this.files[0]){var t=this.files[0].name,n=this.files[0].size,o=this.files[0].type;if(t&&n&&o)return a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .placeholder").hide(),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .name").html(t).css("display","block"),e<(n/1048576).toFixed(2)?(t=(t=r.size)||"Please select a file less than [size] MB",g(q(this),t.replace(/\[size\]/g,e)),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .name").html("").hide(),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .placeholder").show(),q(this).val(""),!1):-1==q.inArray(o,i)?(n=r.fileType,g(q(this),n),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .name").html("").hide(),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .placeholder").show(),q(this).val(""),!1):void 0}else a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .name").html("").hide(),a.closest(".ovabrw-modern-file").find(".ovabrw-file-name .placeholder").show(),q(this).val("")})})},slideImage:function(){q(".ovabrw-gallery-popup .ovabrw-gallery-slideshow").each(function(){var a=q(this),e=a.data("options")?a.data("options"):{};a.owlCarousel({autoWidth:e.autoWidth,margin:e.margin,items:e.items,loop:e.loop,autoplay:e.autoplay,autoplayTimeout:e.autoplayTimeout,center:e.center,lazyLoad:e.lazyLoad,nav:e.nav,dots:e.dots,dotsEach:e.dotsEach,autoplayHoverPause:e.autoplayHoverPause,slideBy:e.slideBy,smartSpeed:e.smartSpeed,rtl:e.rtl,navText:['<i aria-hidden="true" class="'+e.nav_left+'"></i>','<i aria-hidden="true" class="'+e.nav_right+'"></i>'],responsive:e.responsive}),a.find(".gallery-fancybox").off("click").on("click",function(){var a=q(this).data("index"),e=q(this).closest(".ovabrw-gallery-popup").find(".ovabrw-data-gallery").data("gallery");Fancybox.show(e,{Image:{Panzoom:{zoomFriction:.7,maxScale:function(){return 3}}},startIndex:a})})}),q(".ovabrw-product-images .product-gallery").each(function(){var a=q(this),e=a.data("options")?a.data("options"):{},t={0:{items:e.items_mobile,autoWidth:!1,slideBy:1},768:{items:e.items_tablet,slideBy:1},1024:{items:e.items,slideBy:e.slideBy}};a.owlCarousel({items:e.items,autoWidth:e.autoWidth,slideBy:e.slideBy,margin:e.margin,autoplayHoverPause:e.autoplayHoverPause,loop:e.loop,autoplay:e.autoplay,autoplayTimeout:e.autoplayTimeout,smartSpeed:e.smartSpeed,rtl:e.rtl,nav:e.nav,dots:!1,center:!0,responsive:t})}),q(".ovabrw-product-images .gallery-fancybox").off("click").on("click",function(){var a=q(this),e=a.data("index"),a=a.closest(".ovabrw-product-images").find(".data-gallery").data("gallery");Fancybox.show(a,{Image:{Panzoom:{zoomFriction:.7,maxScale:function(){return 3}}},startIndex:e})})},loadingProductName:function(){q('.ovabrw_wd_search input[name="product_name"]').autocomplete({source:function(a,e){q.ajax({url:ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"ovabrw_load_name_product",security:ajax_object.security,keyword:a.term},success:function(a){e(a)}})},select:function(a,e){q(this).val(e.item.value),q(this).blur()},delay:0})},loadingProductTag:function(){q('.ovabrw_wd_search input[name="product_tag"]').autocomplete({source:function(a,e){q.ajax({url:ajax_object.ajax_url,type:"POST",dataType:"json",data:{action:"ovabrw_load_tag_product",security:ajax_object.security,keyword:a.term},success:function(a){e(a)}})},select:function(a,e){q(this).val(e.item.value),q(this).blur()},delay:0})},searchFields:function(){var e,a;function t(a=null){var e;a&&0<a.length&&(a.closest(".wrap_content").children(".s_field.ovabrw-value-attribute").css("display","none"),e=a.val())&&a.closest(".wrap_content").children(".s_field#"+e).css("display","inline-block")}"undefined"!=typeof ovabrwErrorMessages&&(e=ovabrwErrorMessages),q(document).find(".ovabrw_wd_search form.ovabrw_search").on("submit",function(a){q(this).find(".ovabrw-input-required").each(function(){if(!q(this).val())return a.preventDefault(),g(q(this),e.required),!1})}),q('.ovabrw_search select[name="attribute"]').each(function(){t(q(this)),q(this).on("change",function(){t(q(this))})}),q('.ovabrw_search select[name="cat"]').on("change",function(){d(q(this).closest("form"),q(this).val())}),q(".ovabrw_search").length&&d(q(".ovabrw_search"),""),q('.ovabrw_search select[name="cat"]').length&&(a=q('form.ovabrw_search select[name="cat"]').val())&&d(q("form.ovabrw_search"),a)},searchMap:async function(){const D=await Y();0<q(".wrap_search_map .show_taxonomy").length&&("yes"===q(".wrap_search_map .show_taxonomy").attr("data-show_taxonomy")?q(".wrap_search_map .wrap_search_taxonomies").hide():q(".wrap_search_map .wrap_search_taxonomies").show()),q('.wrap_search_map [name="map_address"]').on("change",function(){q(this).val()||(q(this).closest(".wrap_search_map").find(".wrap_search_radius").hide(),q(this).closest(".wrap_search_map").find('input[name="radius"]').val(""),q(this).closest(".wrap_search_map").find("#map_name").val(""),q(this).closest(".wrap_search_map").find("#map_address").val(""),q(this).closest(".wrap_search_map").find("#map_lat").val(""),q(this).closest(".wrap_search_map").find("#map_lng").val(""),r())}),q('.wrap_search_map [name="product_name"]').on("change",function(){r()}),q('.wrap_search_map [name="cat"]').on("change",function(){"yes"==q(".wrap_search_map .show_taxonomy").attr("data-show_taxonomy")?q(".wrap_search_map .wrap_search_taxonomies").hide():q(".wrap_search_map .wrap_search_taxonomies").show(),d(q(".wrap_search_map"),q(this).val()),r()}),q('.wrap_search_map [name="pickup_location"], .wrap_search_map [name="dropoff_location"]').on("change",function(){r()}),q('.wrap_search_map [name="pickup_date"], .wrap_search_map [name="dropoff_date"]').on("change",function(){r()}),q('.wrap_search_map [name="attribute"], .wrap_search_map .ovabrw-value-attribute select').on("change",function(){r()}),q('.wrap_search_map [name="quantity"]').on("change",function(){r()}),q('.wrap_search_map [name="product_tag"]').on("change",function(){r()});var O,a=q('.wrap_search_map [name="data_taxonomy_custom"]').val(),i=(a&&(O=JSON.parse(a),q.each(O,function(a,e){q('.wrap_search_map [name="'+a+'_name"]').on("change",function(){r()})})),q('.wrap_search_map [name="sort"]').on("change",function(){r()}),parseInt(q(document).find(".wrap_search_map .wrap_search .search_result").attr("data-zoom"))),t=q(document).find(".wrap_search_map .wrap_search .search_result").attr("data-default-location"),I=parseFloat(q(document).find(".wrap_search_map .wrap_search .search_result").attr("data-lat")),T=parseFloat(q(document).find(".wrap_search_map .wrap_search .search_result").attr("data-lng")),g=q(document).find(".wrap_search_map .wrap_search .search_result").attr("data-marker_option"),b=q(document).find(".wrap_search_map .wrap_search .search_result").attr("data-marker_icon"),a=(q(document).on("click",".wrap_search_map .ovabrw_pagination_ajax .page-numbers",function(a){a.preventDefault();a=q(this);q(".wrap_search_map .ovabrw_pagination_ajax .current").attr("data-paged")!=a.attr("data-paged")&&(q(window).scrollTop(0),q(".wrap_search_map .ovabrw_pagination_ajax .page-numbers").removeClass("current"),a.addClass("current"),r())}),q(".wrap_search_map .toggle_filters").off().on("click",function(){q(this).parents(".wrap_search_map").find(".form_search_map").slideToggle(300),q(this).find(".icon_down").toggle(300),q(this).find(".icon_up").toggle(300),q(this).toggleClass("active")}),q(".elementor_search_map .toggle_wrap span").on("click",function(){var a=q(this).attr("data-value");q(".wrap_search_map .wrap_search, .wrap_search_map .wrap_map").hide(),q("."+a).show(),q(".elementor_search_map .toggle_wrap span").removeClass("active"),q(this).addClass("active")}),q.fn.event_map=function(a){var e;a=q.extend({lat:I,lng:T,zoom:i},a),q("#pac-input").length?(e=[],q(".data_product").each(function(){e.push(JSON.parse(JSON.stringify({title:q(this).attr("data-title"),link:q(this).attr("data-link"),price:q(this).attr("data-price"),average_rating:q(this).attr("data-average-rating"),number_comment:q(this).attr("data-number-comment"),thumbnail:q(this).attr("data-thumbnail"),lat:q(this).attr("data-lat"),lng:q(this).attr("data-lng")})))}),0<q("#show_map").length&&(j(),s())):r()},q("#pac-input").length&&D&&s(),50),e=0,n=100,o=parseInt(q(document).find(".wrap_search_map .wrap_search_radius").attr("data-map_range_radius")),o=(void 0!==o&&(a=o),parseInt(q(document).find(".wrap_search_map .wrap_search_radius").attr("data-map_range_radius_min"))),o=(void 0!==o&&(e=o),parseInt(q(document).find(".wrap_search_map .wrap_search_radius").attr("data-map_range_radius_max")));function r(){var a,e,t,i,n,o,r,s,l,c,d,p,u,m,f,h,v,g,b,w,_,k,y,P,x=q(document).find(".wrap_search_map");x.length&&(P=x.find('[name="product_name"]').val(),a=x.find('[name="cat"]').val(),e=x.find('[name="sort"]').val(),t=x.find('[name="radius"]').val(),i=(i=x.find('[name="map_lat"]').val())||I,n=(n=x.find('[name="map_lng"]').val())||T,o=x.find('[name="pickup_location"]').val(),r=x.find('[name="dropoff_location"]').val(),s=x.find('[name="pickup_date"]').val(),l=x.find('[name="dropoff_date"]').val(),c=x.find(".search_result").attr("data-card"),d=x.find(".search_result").attr("data-column"),p=x.find(".search_result").attr("data-order"),u=x.find(".search_result").attr("data-orderby"),m=x.find(".search_result").attr("data-per_page"),f=x.find(".ovabrw_pagination_ajax .current").attr("data-paged"),h="",(v=x.find('[name="attribute"]').val())&&(h=x.find('[name="'+v+'"]').val()),g=x.find('[name="cat_include"]').val(),b=x.find('[name="cat_exclude"]').val(),w=x.find('[name="product_tag"]').val(),_=x.find('[name="quantity"]').val(),k=x.find(".search_result"),q(document).find(".wrap_search_map .wrap_load_more").show(),q(document).find(".wrap_search_map .ovabrw_product_archive").hide(),y={action:"ovabrw_search_map",security:ajax_object.security,product_name:P,cat:a,radius:t,map_lat:i,map_lng:n,pickup_location:o,dropoff_location:r,pickup_date:s,dropoff_date:l,sort:e,card:c,column:d,order:p,orderby:u,posts_per_page:m,paged:f,attribute:v,attribute_value:h,product_tag:w,quantity:_,timepicker:"false",cat_include:g,cat_exclude:b},(P=x.find('[name="data_taxonomy_custom"]').val())&&(y.taxonomies=P,O=JSON.parse(P),q.each(O,function(a,e){y[a]=x.find('[name="'+a+'_name"]').val()})),q.ajax({url:ajax_object.ajax_url,type:"POST",data:y,success:function(a){var e;a&&(a=JSON.parse(a),e=q(a.result).fadeOut(300).fadeIn(500),k.html(e),q(document).find(".wrap_search_filter_title .results_found").html(a.results_found),0<q("#show_map").length&&D&&j(),A.slideImage(),q(document).find(".wrap_search_map .wrap_load_more").hide())}}))}function s(){var t="",a=document.getElementById("pac-input");""!==(t=a?new google.maps.places.Autocomplete(a):t)&&t.addListener("place_changed",function(){var a,e=t.getPlace();e.geometry&&(q("#show_map").length&&new google.maps.Map(document.getElementById("show_map"),{center:{lat:parseFloat(e.geometry.location.lat()),lng:parseFloat(e.geometry.location.lng())},zoom:i,gestureHandling:"cooperative"}),q("#map_name").val(e.name),q("#map_address").val(e.formatted_address),q("#map_lat").val(e.geometry.location.lat()),q("#map_lng").val(e.geometry.location.lng()),e.geometry.location.lat(),e.geometry.location.lng(),q(document).find(".wrap_search_map .wrap_load_more").show(),q(document).find(".wrap_search_map .wrap_search_radius").show(),q(document).find(".wrap_search_map .ovabrw_product_archive").hide(),(e=q('input[name="radius"]')).val()||(a=(a=q(".wrap_search_radius").attr("data-map_range_radius"))||50,e.val(a)),r())})}function j(){var f,a=[],e=[],h=(q(document).find(".data_product").each(function(){a.push(JSON.parse(JSON.stringify({title:q(this).attr("data-title"),link:q(this).attr("data-link"),price:q(this).attr("data-price"),average_rating:q(this).attr("data-average-rating"),number_comment:q(this).attr("data-number-comment"),thumbnail:q(this).attr("data-thumbnail"),lat:parseFloat(q(this).attr("data-lat")),lng:parseFloat(q(this).attr("data-lng"))}))),e.push(JSON.parse(JSON.stringify({lat:parseFloat(q(this).attr("data-lat")),lng:parseFloat(q(this).attr("data-lng"))})))}),f="yes"===t||(e=function(e){if(1==e.length)return e[0];var a=e.length;let t=0,i=0,n=0;for(let a=0;a<e.length;a++){var o=e[a].lat*Math.PI/180,r=e[a].lng*Math.PI/180,s=Math.cos(o)*Math.cos(r),l=Math.cos(o)*Math.sin(r),c=Math.sin(o);t+=s,i+=l,n+=c}return t/=a,i/=a,n/=a,r=Math.atan2(i,t),a=Math.sqrt(t*t+i*i),{lat:180*(o=Math.atan2(n,a))/Math.PI,lng:180*r/Math.PI}}(e),isNaN(e.lat))||isNaN(e.lng)?new google.maps.Map(document.getElementById("show_map"),{center:{lat:parseFloat(I),lng:parseFloat(T)},zoom:i,gestureHandling:"cooperative"}):new google.maps.Map(document.getElementById("show_map"),{center:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},zoom:i,gestureHandling:"cooperative"}),new google.maps.InfoWindow),v=new OverlappingMarkerSpiderfier(f,{markersWontMove:!0,markersWontHide:!0,basicFormatEvents:!0});a.map(function(a,e){var t=parseFloat(a.lat),i=parseFloat(a.lng),n=a.average_rating,o=Math.floor(n),r=5-Math.ceil(n),s=a.number_comment,l="";if(0<o)for(var c=1;c<=o;c++)l+='<i class="fa fa-star"></i>';if(o!=Math.ceil(n)&&(l+='<i class="fa fa-star-half-alt"></i>'),0<r)for(var d=1;d<=r;d++)l+='<i class="fa fa-star-o"></i>';var p,u="",m=(0!=s&&(u+='<span class="number second_font">('+a.number_comment+")</span>"),'<div class="data_product_map"><a href="'+a.link+'"><img style="max-width: 100%; width: 280px;" src="'+a.thumbnail+'" ><h2 class="title"><a href="'+a.link+'">'+a.title+"</a></h2>"+a.price+'<div class="product_ratting"><span class="star">'+(l=n&&0!=n?l:"")+"</span> "+u+" </div></a></div>"),s=new google.maps.LatLng(t,i);"icon"===g&&(p=new google.maps.Marker({position:s,icon:b})),google.maps.event.addListener(p,"spider_click",function(a){h.setContent(m),h.open(f,p)}),v.addMarker(p)});window.map=f,window.oms=v}function l(a){var e,t=a.coords.latitude,a=a.coords.longitude,i=(q('[name="map_lat"]').attr("value",t),q('[name="map_lng"]').attr("value",a),q('input[name="radius"]'));i.val()||(e=(e=q(".wrap_search_radius").attr("data-map_range_radius"))||50,i.val(e)),(new google.maps.Geocoder).geocode({location:{lat:parseFloat(t),lng:parseFloat(a)}},function(a,e){"OK"===e?a[0]?(q('.wrap_search_map [name="map_address"]').val(a[0].formatted_address),q(document).find(".wrap_search_map .wrap_search_radius").show()):(window.alert("No results found"),q(document).find(".wrap_search_map .wrap_search_radius").hide(),i.val("")):(q(document).find(".wrap_search_map .wrap_search_radius").hide(),i.val(""),window.alert("Geocoder failed due to: "+e)),r()})}function c(){q(window).width()<1024?q(document).find(".wrap_search_map #show_map").css({height:"100%",width:"100%","min-height":"600px"}):q(document).find(".wrap_search_map #show_map").css({height:q(window).height(),width:"100%"})}void 0!==o&&(n=o),0<q("#wrap_pointer").length?q("#wrap_pointer").slider({min:e,max:n,step:1,value:a,change:function(a,e){q(this).parents(".wrap_search_map").find('[name="radius"]').val(e.value),q(this).parents(".wrap_search_map").find(".result_radius").html(e.value+"km"),r()}}):r(),q(document).on("click",".wrap_search_map .locate_me",function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(l):x.innerHTML="Geolocation is not supported by this browser."}),0<q("#show_map").length?(o=parseFloat(q("input#map_lat").val()?q("input#map_lat").val():I),e=parseFloat(q("input#map_lng").val()?q("input#map_lng").val():T),q("#show_map").css("height",q(window).height()),q("#pac-input").length&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(l,function(a){r()}),q("#show_map").event_map({lat:o,lng:e,zoom:i})):q("#pac-input").length&&navigator.geolocation?navigator.geolocation.getCurrentPosition(l,function(a){r()}):r(),c(),q(window).resize(function(){1024<=q(window).width()&&(q(document).find(".wrap_search_map .wrap_search").show(),q(document).find(".wrap_search_map .wrap_map").show()),c()}),q("#show_map").parents().filter(function(){"hidden"!=q(this).css("overflow")&&"hidden auto"!=q(this).css("overflow")||q(this).css("overflow","visible")})},searchAjax:function(){function e(a,e){var a=a.closest(".quantity-button").find('input[type="text"]'),t=parseInt(a.val()),i=(isNaN(t)&&(t=0),parseInt(a.attr("min"))),n=(isNaN(i)&&(i=0),parseInt(a.attr("max")));isNaN(n)&&(n=0),"sub"==e&&i<t&&a.val(t-1),"sum"==e&&(!n||t<n)&&a.val(t+1)}function t(i=null){var n=!0;return i&&0<i.length&&i.find(".ovabrw-input-required").each(function(){if("ovabrw_adults"==q(this).attr("name")||"ovabrw_children"==q(this).attr("name")||"ovabrw_babies"==q(this).attr("name")){var a=i.find('input[name="ovabrw_adults"]').val(),e=(void 0!==a&&a||(a=0),i.find('input[name="ovabrw_children"]').val()),t=(void 0!==e&&e||(e=0),i.find('input[name="ovabrw_babies"]').val());if(void 0!==t&&t||(t=0),parseInt(a)+parseInt(e)+parseInt(t)<=0)return n=!1}else if(!q(this).val())return n=!1}),n}function i(){var a,e,t,i,n,o,r,s,l,c,d,p,u,m,f,h,v,g,b,w,_,k,y,P,x,D,O,I,T=q(document).find(".ovabrw-product-search-ajax");T.length&&(O=T.find('[name="product_name"]').val(),I=T.find('[name="cat"]').val(),a=T.find('[name="sort"]').val(),e=T.find('[name="radius"]').val(),t=T.find('[name="map_lat"]').val(),i=T.find('[name="map_lng"]').val(),n=T.find('[name="pickup_location"]').val(),o=T.find('[name="dropoff_location"]').val(),r=T.find('[name="pickup_date"]').val(),s=T.find('[name="dropoff_date"]').val(),l=T.find('[name="package"]').val(),c=T.find(".search_result").attr("data-card"),d=T.find(".search_result").attr("data-column"),p=T.find(".search_result").attr("data-order"),u=T.find(".search_result").attr("data-orderby"),m=T.find(".search_result").attr("data-per_page"),f=T.find(".ovabrw_pagination_ajax .current").attr("data-paged"),v="",(h=T.find('[name="attribute"]').val())&&(v=T.find('[name="'+h+'"]').val()),g=T.find('[name="cat_include"]').val(),b=T.find('[name="cat_exclude"]').val(),w=T.find('[name="product_tag"]').val(),_=T.find('[name="quantity"]').val(),k=T.find('[name="adults"]').val(),y=T.find('[name="children"]').val(),P=T.find('[name="babies"]').val(),q(document).find(".wrap_search_result .wrap_load_more").show(),q(document).find(".wrap_search_result .ovabrw_product_archive").hide(),x=T.find(".search_result"),D={action:"ovabrw_search_map",security:ajax_object.security,product_name:O,cat:I,radius:e,map_lat:t,map_lng:i,pickup_location:n,dropoff_location:o,pickup_date:r,dropoff_date:s,sort:a,card:c,column:d,order:p,orderby:u,posts_per_page:m,paged:f,attribute:h,attribute_value:v,product_tag:w,quantity:_,adults:k,children:y,babies:P,cat_include:g,cat_exclude:b},l&&(D.package=l),O="",(I=T.find('[name="data_taxonomy_custom"]').val())&&(D.taxonomies=I,O=JSON.parse(I),q.each(O,function(a,e){D[a]=T.find('[name="'+a+'_name"]').val()})),q.ajax({url:ajax_object.ajax_url,type:"POST",data:D,success:function(a){var e;a&&(a=JSON.parse(a),e=q(a.result).fadeOut(300).fadeIn(500),x.html(e),q(document).find(".wrap_search_filter .results_found").html(a.results_found),q(document).find(".wrap_search_result .wrap_load_more").hide(),A.slideImage())}}))}q(".ova-quantity .minus").on("click",function(a){a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),e(q(this),"sub")}),q(".ova-quantity .plus").on("click",function(a){a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),e(q(this),"sum")}),0<q(".ovabrw-product-search-ajax .wrap_search_result").length&&i(),q(".ovabrw-product-search-ajax .ovabrw_btn_submit").on("click",function(a){a.preventDefault(),t(q(this).closest("form"))&&(i(),q("html, body").animate({scrollTop:q(".ovabrw-product-search-ajax #search_result").offset().top-300},500))}),q('.ovabrw-product-search-ajax #search_sort select[name="sort"]').on("change",function(a){a.preventDefault(),t(q(this).closest("form"))&&(i(),q("html, body").animate({scrollTop:q(".ovabrw-product-search-ajax #search_result").offset().top-300},500))}),0<q(".ovabrw-product-search-ajax .show_taxonomy").length&&("yes"===q(".ovabrw-product-search-ajax .show_taxonomy").attr("data-show_taxonomy")?q(".ovabrw-product-search-ajax .wrap_search_taxonomies").hide():q(".ovabrw-product-search-ajax .wrap_search_taxonomies").show()),q(document).on("click",".wrap_search_result .ovabrw_pagination_ajax .page-numbers",function(a){a.preventDefault();a=q(this);q(".wrap_search_result .ovabrw_pagination_ajax .current").attr("data-paged")!=a.attr("data-paged")&&(q(window).scrollTop(0),q(".wrap_search_result .ovabrw_pagination_ajax .page-numbers").removeClass("current"),a.addClass("current"),i())})},searchTaxi:function(){var e;function t(t=null){var e,i,a;0<t.length&&((e=t.find(".ovabrw-loader")).show(),i={action:"ovabrw_search_taxi_ajax",security:ajax_object.security,pickup_location:t.find('input[name="pickup_location"]').val(),dropoff_location:t.find('input[name="dropoff_location"]').val(),origin:t.find('input[name="origin"]').val(),destination:t.find('input[name="destination"]').val(),duration:t.find('input[name="duration"]').val(),distance:t.find('input[name="distance"]').val(),pickup_date:t.find('input[name="pickup_date"]').val(),cat:t.find('select[name="cat"]').val(),seats:t.find('input[name="seats"]').val(),quantity:t.find('input[name="quantity"]').val(),card:t.find('input[name="ovabrw-search-query"]').data("card-template"),posts_per_page:t.find('input[name="ovabrw-search-query"]').data("posts-per-page"),column:t.find('input[name="ovabrw-search-query"]').data("column"),term:t.find('input[name="ovabrw-search-query"]').data("term"),orderby:t.find('input[name="ovabrw-search-query"]').data("orderby"),order:t.find('input[name="ovabrw-search-query"]').data("order"),pagination:t.find('input[name="ovabrw-search-query"]').data("pagination"),paged:t.find(".page-numbers.current").data("paged"),cat_include:t.find('[name="incl_category"]').val(),cat_exclude:t.find('[name="excl_category"]').val()},(a=t.find('input[name="custom-taxonomies"]').val())&&(i.taxonomies=a,q.each(JSON.parse(a),function(a,e){i[a]=t.find('[name="'+a+'_name"]').val()})),q.ajax({url:ajax_object.ajax_url,type:"POST",data:i,success:function(a){a&&(a=JSON.parse(a),t.find(".ovabrw-search-taxi-results .ovabrw-product-list").empty(),t.find(".ovabrw-search-taxi-results .ovabrw-product-list").append(a.result).fadeOut(300).fadeIn(500),t.find(".ovabrw-pagination").empty(),t.find(".ovabrw-pagination").append(a.pagination).fadeOut(300).fadeIn(500),e.hide(),A.slideImage())}}))}"undefined"!=typeof ovabrwErrorMessages&&(e=ovabrwErrorMessages),q(document).find(".search-taxi-form").on("submit",function(a){q(this).find(".ovabrw-input-required").each(function(){if(!q(this).val())return"origin"==q(this).attr("name")||"destination"==q(this).attr("name")?g(q(this).closest(".search-field").find("input"),e.mapAPI,!1):g(q(this),e.required),a.preventDefault(),!1})}),q(document).find(".search-taxi-form").each(async function(){var a=await Y(),n=q(this),t=n.find("#pickup-location"),i=n.find("#dropoff-location");if(a&&t.length&&i.length){var a=n.find('input[name="search-taxi-options"]'),e={fields:["formatted_address","geometry"]},o=(a.data("distance-by"),a.data("map-types")),r=a.data("bounds"),s=a.data("bounds-lat"),l=a.data("bounds-lng"),c=a.data("bounds-radius"),a=a.data("restrictions");o&&(e.types=o),r&&s&&l&&c&&(o=new google.maps.Circle({center:new google.maps.LatLng(s,l),radius:c}),e.bounds=o.getBounds(),e.strictBounds=!0),a&&q.isArray(a)&&(e.componentRestrictions={country:a}),t.on("blur",function(){q(this).closest(".search-field").find('input[name="origin"]').val()||q(this).val("")}),i.on("blur",function(){q(this).closest(".search-field").find('input[name="destination"]').val()||q(this).val("")});const p=new google.maps.places.Autocomplete(t[0],e),u=(p.addListener("place_changed",function(){var a=p.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};t.closest(".search-field").find('input[name="origin"]').val(JSON.stringify(a)),t.closest(".search-taxi-fields").find('input[name="dropoff_location"]').focus(),d()}),new google.maps.places.Autocomplete(i[0],e));function d(){var a=n.find('input[name="origin"]').val(),e=n.find('input[name="destination"]').val();if(a&&e){let t=0,i=0;(new google.maps.DirectionsService).route({origin:a,destination:e,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING}).then(a=>{var e=a.routes[0];for(let a=0;a<e.legs.length;a++)i+=e.legs[a].duration.value,t+=e.legs[a].distance.value;i=i||0,t=t||0,n.find('input[name="duration"]').val(i),n.find('input[name="distance"]').val(t)}).catch(a=>window.alert("Directions request failed!"))}}u.addListener("place_changed",function(){var a=u.getPlace(),e=a.formatted_address,a={lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),formatted_address:e};i.closest(".search-field").find('input[name="destination"]').val(JSON.stringify(a)),d()})}}),q(document).find(".ovabrw-search-taxi-ajax").each(function(){t(q(this)),q(this).find("button.search-taxi-btn").on("click",function(a){a.preventDefault(),t(q(this).closest(".ovabrw-search-taxi-ajax"))})}),q(document).on("click",".ovabrw-search-taxi-ajax .page-numbers",function(a){a.preventDefault(),q(this).hasClass("current")||(q(this).closest(".ovabrw-search-taxi-ajax").find(".page-numbers").removeClass("current"),q(this).addClass("current"),t(q(this).closest(".ovabrw-search-taxi-ajax")))})},searchAjaxShortcode:function(){function n(t=null){var e,i,a;t&&0<t.length&&((e=t.find(".ovabrw-loader")).show(),i={action:"ovabrw_search_ajax_shortcode",security:ajax_object.security,lat:t.find('input[name="map_lat"]').val(),lng:t.find('input[name="map_lng"]').val(),sort:t.find('select[name="sort"]').val(),product_name:t.find('input[name="product_name"]').val(),pickup_location:t.find('select[name="pickup_location"]').val(),dropoff_location:t.find('select[name="dropoff_location"]').val(),pickup_date:t.find('input[name="pickup_date"]').val(),dropoff_date:t.find('input[name="dropoff_date"]').val(),cat:t.find('select[name="cat"]').val(),product_tag:t.find('input[name="product_tag"]').val(),quantity:t.find('input[name="quantity"]').val(),paged:t.find(".page-numbers.current").data("paged"),data_queries:t.find('input[name="ovabrw_search_queries"]').val()},(a=t.find('input[name="custom-taxonomies"]').val())&&(i.taxonomies=a,q.each(JSON.parse(a),function(a,e){i[a]=t.find('[name="'+a+'_name"]').val()})),q.ajax({url:ajax_object.ajax_url,type:"POST",data:i,success:function(a){a&&(a=JSON.parse(a),t.find(".results-found").empty().append(a.results_found).fadeOut(300).fadeIn(500),t.find(".ovabrw-product-list").empty().append(a.results).fadeOut(300).fadeIn(500),t.find(".ovabrw-pagination").empty().append(a.pagination).fadeOut(300).fadeIn(500),A.slideImage()),e.hide()}}))}function o(a){var e=a.coords.latitude,a=a.coords.longitude,t=q(".ovabrw-seach-ajax-shortcode");t.find('input[name="map_lat"]').attr("value",e),t.find('input[name="map_lng"]').attr("value",a),(new google.maps.Geocoder).geocode({location:{lat:parseFloat(e),lng:parseFloat(a)}},function(a,e){"OK"===e&&a[0]&&t.find('input[name="map_address"]').val(a[0].formatted_address),n(t)})}q(".ovabrw-seach-ajax-shortcode").each(async function(){var e,t,i=q(this),a=q(this).find('input[name="map_address"]');0<a.length&&await Y()?(navigator.geolocation.getCurrentPosition(o,function(a){n(i)}),(e=a[0])&&(t=new google.maps.places.Autocomplete(e)).addListener("place_changed",function(){var a=t.getPlace();a.geometry&&(q('.ovabrw-seach-ajax-shortcode input[name="map_address"]').val(a.formatted_address),q('.ovabrw-seach-ajax-shortcode input[name="map_lat"]').val(a.geometry.location.lat()),q('.ovabrw-seach-ajax-shortcode input[name="map_lng"]').val(a.geometry.location.lng()),n(q(e).closest(".ovabrw-seach-ajax-shortcode")))}),a.closest(".search-field").find(".locate_me").on("click",function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(o):x.innerHTML="Geolocation is not supported by this browser."})):n(i)}),q(".ovabrw-seach-ajax-shortcode form.search-ajax-form").on("change",function(a){"map_address"===q(a.target).attr("name")?q(a.target).val()||(q(a.target).closest(".search-field").find('input[name="map_lat"]').val(""),q(a.target).closest(".search-field").find('input[name="map_lng"]').val(""),n(q(this).closest(".ovabrw-seach-ajax-shortcode"))):n(q(this).closest(".ovabrw-seach-ajax-shortcode"))}),q('.ovabrw-seach-ajax-shortcode select[name="sort"]').on("change",function(){n(q(this).closest(".ovabrw-seach-ajax-shortcode"))}),q(document).on("click",".ovabrw-seach-ajax-shortcode .page-numbers",function(a){a.preventDefault(),q(this).hasClass("current")||(q(this).closest(".ovabrw-seach-ajax-shortcode").find(".page-numbers").removeClass("current"),q(this).addClass("current"),n(q(this).closest(".ovabrw-seach-ajax-shortcode")))})},tablePrice:function(){q(".ovabrw-according").off().on("click",function(a){a.preventDefault(),q(this).siblings(".ovabrw_collapse_content").slideToggle()}),q(".ovabrw_open_popup").off().on("click",function(a){a.preventDefault(),q(this).siblings(".popup").css("display","block")}),q(".popup-close").on("click",function(a){a.preventDefault(),q(this).parent(".popup-inner").parent(".popup").css("display","none")}),q(".popup-close-2").on("click",function(a){a.preventDefault(),q(this).parent(".close_discount").parent(".popup-inner").parent(".popup").css("display","none")})},modernTemplate:function(){q(".ovabrw-product-form-tabs .ovabrw-tab-head .item-tab").on("click",function(a){a.preventDefault(),q(this).hasClass("active")||(q(this).closest(".ovabrw-tab-head").find(".item-tab").removeClass("active"),q(this).addClass("active"),a=q(this).data("id"),q(this).closest(".ovabrw-product-form-tabs").find(".item-content").removeClass("active"),q(this).closest(".ovabrw-product-form-tabs").find("#"+a).addClass("active"))})},selectFields:function(){var a,e="#C3C3C3",t="#555555";function i(a){a&&(a.val()?a.css("color",t):a.css("color",e))}"undefined"!=typeof ovabrwErrorMessages&&((a=ovabrwErrorMessages).lightColor&&(e=a.lightColor),a.textColor)&&(t=a.textColor),q(document).find(".ovabrw-modern-product select, .ovabrw-search-modern select, .ovabrw_wd_search select").filter(":not(.ovabrw-search-hotel select)").each(function(){i(q(this)),q(this).on("change",function(){i(q(this))})})},productMap:async function(){await Y()&&q(".ovabrw-product-map").each(function(){var a=q(this).find(".ovabrw-data-product-map"),e=a.attr("latitude"),t=a.attr("longitude"),a=(a=a.data("zoom"))||17,i=new google.maps.Map(q("#ovabrw-show-map")[0],{center:{lat:parseFloat(e),lng:parseFloat(t)},zoom:a,gestureHandling:"cooperative"}),n=new google.maps.InfoWindow({content:q('input[name="pac-input"]').val()}),o=new google.maps.Marker({map:i,position:i.getCenter()});n.open(i,o),o.addListener("click",function(){n.close(),n.open(i,o)})})},addToCart:function(){q(document).on("click",".ovabrw-add-to-cart",function(){if(q(this).hasClass("ovabrw-loading"))return!1;q(this).addClass("ovabrw-loading");var a=q(this).attr("data-product-id"),e=q(this).attr("data-product-url"),t=(t=q(this).attr("cart-item-data"))&&JSON.parse(t);q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_add_to_cart",security:ajax_object.security,product_id:a,product_url:e,cart_item:t},success:function(a){a?window.location.href=a:window.location.reload()}})})}};function d(i,a){"undefined"!=typeof ovabrwTaxDependCat&&i.length&&("yes"===ovabrwTaxDependCat?i.find(".s_field_cus_tax").hide():i.find(".s_field_cus_tax").show()),a&&q.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_get_custom_taxonomies",security:ajax_object.security,cat_val:a},success:function(a){if(a){var e=a.split(",");if(e.length)for(var t=0;t<e.length;t++)0<i.find("."+e[t]).length?i.find("."+e[t]).show():i.find("."+e[t]).hide()}}})}function a(){function j(){q(document).find(".wrap_calendar .fc-event-title").each(function(){var a=q(this).text();(a=a&&a.replace(/\s+/g,""))||q(this).closest(".fc-daygrid-day-events").hide()}),q(document).find(".wrap_calendar .ovabrw-day-disabled, .wrap_calendar .ovabrw-day-booked").each(function(){q(this).find(".fc-daygrid-day-events").hide()})}q(document).find(".wrap_calendar").each(function(a){var e,t,l,c,i,n,o,d,p,u,m,f,h,v,g,b,w,_,k,r,s,y,P,x,D,O,I,T=q(this).find(".ovabrw_product_calendar")[0];T&&(e=(e=q(this).find('input[name="ovabrw-calendar-options"]').val())&&q.parseJSON(e),t=[],e.productID,l=e.dateFormat,c=e.timeFormat,i=e.firstDay,e.timeStep,n=e.lang,(r=e.customLocale)&&((o=r.moreLinkText)&&(r.moreLinkText=function(a){return o.replace(/\[number\]/g,a)}),FullCalendar.globalLocales.push(r),n=r.code),e.availableColor,e.availableBg,d=e.disabledColor,p=e.disabledBg,u=e.bookedColor,m=e.bookedBg,f=e.defaultStartTime,h=e.defaultEndTime,v=e.allowedDates,e.allowedDates,g=e.allowStartTimes,b=e.allowEndTimes,w=e.disableWeekDays,_=[],e.disabledDates&&(e.disabledDates.full_day.forEach(function(a){t.push({start:a,end:a,display:"background",allDay:!0,color:d,backgroundColor:p,borderColor:p,textColor:d}),_.push(a)}),e.disabledDates.part_day.forEach(function(a){t.push(a),_.push(a.start)})),k=[],e.bookedDates&&(e.bookedDates.full_day.forEach(function(a){t.push({start:a,end:a,display:"background",allDay:!0,color:u,backgroundColor:m,borderColor:m,textColor:u}),k.push(a)}),e.bookedDates.part_day.forEach(function(a){t.push(a),k.push(a.start)})),r=(r=e.nav)?"prev,next,today,"+r:"prev,next,today",s=e.defaultView,y=e.eventRows,(P=e.startDate)&&0!==P.length||(P=(new Date).toISOString().split("T")[0]),x=e.showTimeBooked,D="",e.regularPrice&&(D=e.regularPrice),O=[],e.dailyPrices&&(O=e.dailyPrices),I=[],e.specialPrices&&(I=e.specialPrices),new FullCalendar.Calendar(T,wp.hooks.applyFilters("ovabrwFullCalendar.options",{locale:n,height:"auto",initialView:s,events:t,firstDay:i,slotLabelInterval:e.slotLabelInterval,slotLabelFormat:e.slotLabelFormat,initialDate:P,headerToolbar:{left:r,right:"title"},dayMaxEventRows:y,dayCellDidMount:function(t){var e=t.el,a=t.date,r=q(e).closest(".fc-daygrid-day"),i=("yes"!==x&&(r.find(".fc-daygrid-day-events").hide(),q(this).find(".fc-event-title").hide()),new Date(a)),n=new Date,o=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())/1e3,n=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())/1e3;if(!(o<n)){n=C(i,"YYYY-MM-DD");q.isArray(v)&&0<v.length&&!v.includes(n)&&s(t.el,p,d,"ovabrw-day-disabled"),_.includes(n)&&s(t.el,p,d,"ovabrw-day-disabled"),k.includes(n)&&s(t.el,m,u,"ovabrw-day-booked"),w&&q.each(w,function(a,e){e==M(i)&&s(t.el,p,d,"ovabrw-day-disabled")}),O[M(a)]&&(D=O[M(a)]);for(const l of I)if(l.from<=o&&l.to>=o){D=l.price;break}D&&!["ovabrw-day-disabled","ovabrw-day-booked"].some(a=>e.classList.contains(a))&&((n=e.querySelector(".day-price")||document.createElement("span")).className="day-price",n.innerHTML=D,0<(a=r.find(".fc-daygrid-day-frame")).length)&&a.append(n)}function s(a,e,t,i="",n=!0,o=1){i&&a.classList.toggle(i,!0),Object.assign(a.style,{backgroundColor:e,opacity:o,pointerEvents:n?"none":"pointer"}),r.find(".fc-daygrid-day-number").css("color",t),r.find(".fc-daygrid-day-bg").css({"background-color":e,color:t}),r.find(".fc-daygrid-day-top").css("opacity",1)}},dateClick:function(a){var e=new Date(a.date),t=new Date,i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())/1e3,t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())/1e3;if(!(i<t)){var i=C(e,"YYYY-MM-DD"),t=!1,n=M(e);if(w.includes(n)||_.includes(i)||k.includes(i)||v.length&&!v.includes(i))return alert(notifiDisableWeekDays),!0;if(!t){n=q(document).find("form#booking_form");if(0<n.length){var i=n.find('input[name="ovabrw_pickup_date"]'),t=n.find('input[name="ovabrw_dropoff_date"]'),n=C(e,l),o=function(a,e="H:i"){if(!a||!L(a))return"";var a=new Date(a),t=a.getHours(),i=12<=t?"pm":"am";e.includes("A")&&(i=12<=t?"PM":"AM");e.includes("H")&&(t=String(a.getHours()).padStart(2,"0"));(e.includes("h")||e.includes("g"))&&(t=t%12||12,e.includes("h"))&&(t=String(t).padStart(2,"0"));a=String(a.getMinutes()).padStart(2,"0");return e.replace("h",t).replace("g",t).replace("H",t).replace("i",a).replace("a",i).replace("A",i)}(e,c),r=o,s=("dayGridMonth"==a.view.type?o=f:g.includes(o)||0<g.length&&(o=f),new Date(e));for(s.setDate(s.getDate()+1);0<w.length&&w.includes(M(s));)s.setDate(s.getDate()+1);for(;0<_.length&&_.includes(C(s,"Y-m-d"));)s.setDate(s.getDate()+1);e=C(s,l);"dayGridMonth"==a.view.type?r=h:b.includes(r)||(r=0<b.length?h:o),0<i.length&&(i.hasClass("ovabrw-datetimepicker")?(i.attr("data-date",n),i.attr("data-time",o)):i.val(n),0<t.length&&(t.hasClass("ovabrw-datetimepicker")?(t.attr("data-date",e),t.attr("data-time",r)):t.val(e)),i.trigger("ovabrwCalendarClickDate",{startDate:n,endDate:e}),i[0].scrollIntoView({behavior:"smooth",block:"center"}))}}}}}),e).render(),j(),q(this).find(".fc-button-group button.fc-button").on("click",function(){j()}))})}function C(a="",e="DD-MM-YYYY"){var t,i;return!(!a||!L(a))&&(t=("0"+(a=new Date(a)).getDate()).slice(-2),i=("0"+(a.getMonth()+1)).slice(-2),a=a.getFullYear(),e.replace("DD",t).replace("d",t).replace("MM",i).replace("m",i).replace("YYYY",a).replace("Y",a))}function L(a=""){if(a)return a=new Date(a),!isNaN(a.getTime())}function M(a){return a?[7,1,2,3,4,5,6][a.getDay()]:""}function g(e=null,t="",a=!0){if("function"==typeof tippy&&0<e.length)if(a){e.focus();const i=tippy(e[0],{trigger:"manual",content:'<span class="ovabrw-tippy">'+t+"</span>",animation:"scale",allowHTML:!0,arrow:!0,zIndex:999999});i.show(),setTimeout(function(){i.destroy()},5e3)}else q("html, body").animate({scrollTop:e.offset().top-q(window).height()/2},300,function(){const a=tippy(e[0],{trigger:"manual",content:'<span class="ovabrw-tippy">'+t+"</span>",animation:"scale",allowHTML:!0,arrow:!0,zIndex:999999});a.show(),setTimeout(function(){a.destroy()},5e3)});else alert(t)}function Y(){return new Promise(a=>{if(ajax_object.ggApiKey){const e=setInterval(()=>{try{"object"==typeof google&&"object"==typeof google.maps&&"object"==typeof google.maps.places&&(clearInterval(e),a(!0))}catch(a){}},100);setTimeout(()=>{clearInterval(e),a(!1)},1500)}else a(!1)})}q(document).ready(function(){A.init(),a()}),window.BrwFrontendJS=A,window.BrwCalendar=a}(jQuery);