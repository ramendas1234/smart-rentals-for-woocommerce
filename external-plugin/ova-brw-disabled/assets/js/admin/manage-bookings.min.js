!function(D){"use strict";var k={init:function(){this.datetimepicker(),this.ovabrwChangeOrderStatus()},ovabrwChangeOrderStatus:function(){D(document).on("change",".update_order_status",function(e){e.preventDefault();var t,a,r=D(this),e=(e=r.children("option:selected").html())&&D.trim(e),i=r.children("option:selected").val();1==confirm("Do you want to "+e+" Booking ?")&&""!=i&&(e=r.data("order_id"),i=i.replace("wc-",""),t=r.closest(".order_status").find(".ovabrw-order-status"),a=r.closest(".order_status").find(".ovabrw-order-status span"),e={action:"ovabrw_update_order_status",security:ajax_object.security,order_id:e,new_order_status:i},D.post(ajaxurl,e,function(e){"error_permission"===e?alert(r.data("error-per-msg")):"false"===e?alert(r.data("error-update-msg")):(t.attr("class",""),t.addClass("ovabrw-order-status tips status-"+i),a.html((e=i).charAt(0).toUpperCase()+e.slice(1).toLowerCase()))}))})},datetimepicker:function(){if("object"==typeof easepick){var r,g,u='<svg enable-background="new 0 0 512 512" viewBox="0 0 512 512" width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g><path d="m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.05 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"></path><circle cx="128.721" cy="383.279" r="15"></circle><circle cx="383.279" cy="128.721" r="15"></circle><path d="m118.114 118.114c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213c-5.857-5.858-15.355-5.858-21.213 0z"></path><path d="m372.673 372.673c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213-15.356-5.858-21.213 0z"></path><path d="m256 121c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"></path><path d="m256 391c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"></path><path d="m121 256c0-8.284-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15s6.716 15 15 15h30c8.284 0 15-6.716 15-15z"></path><path d="m391 256c0 8.284 6.716 15 15 15h30c8.284 0 15-6.716 15-15s-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15z"></path><path d="m271 249.787v-83.787c0-8.284-6.716-15-15-15s-15 6.716-15 15v90c0 3.978 1.581 7.793 4.394 10.607l90 90c5.857 5.857 15.355 5.858 21.213 0s5.858-15.355 0-21.213z"></path></g></svg>',e=D(document).find('input[name="ovabrw-datetimepicker-options"]').val();if(e&&(e=D.parseJSON(e),r=e.datepicker,g=e.timepicker),0<Object.keys(r).length&&0<Object.keys(g).length){var f=g.defaultStartTime,h=g.defaultEndTime,i=(g.allowStartTimes,g.allowEndTimes,r.PresetPlugin&&r.PresetPlugin.customPreset&&D.each(r.PresetPlugin.customPreset,function(a,e){D.isArray(e)&&D.each(e,function(e,t){r.PresetPlugin.customPreset[a][e]=new Date(t)})}),[]),s=(r.disableWeekDays&&(i=r.disableWeekDays),[]),n=(r.disableDates&&(s=r.disableDates),[]),l=(r.bookedDates&&(n=r.bookedDates),[]),c=(r.allowedDates&&(l=r.allowedDates),"");switch(r.format){case"d-m-Y":c="DD-MM-YYYY";break;case"m/d/Y":c="MM/DD/YYYY";break;case"Y/m/d":c="YYYY/MM/DD";break;case"Y-m-d":c="YYYY-MM-DD";break;default:c="DD-MM-YYYY"}var a="";r.startDate&&(a=r.startDate),D(document).find(".ovabrw-datetimepicker.start-date").each(function(){var p=D(this),t=p.attr("id"),m=p.closest("form").find(".ovabrw-datetimepicker.end-date"),e="";e=(e=0<m.length?m.attr("id"):e)?new easepick.create({element:"#"+t,css:r.css,firstDay:parseInt(r.firstDay),lang:r.lang,zIndex:parseInt(r.zIndex),grid:parseInt(r.grid),calendars:parseInt(r.calendars),format:c,readonly:r.readonly,header:r.header,autoApply:r.autoApply,AmpPlugin:r.AmpPlugin,locale:r.locale,RangePlugin:{elementEnd:"#"+e,repick:r.RangePlugin.repick,strict:r.RangePlugin.strict,tooltip:r.RangePlugin.tooltip,locale:r.RangePlugin.locale},LockPlugin:{minDate:r.LockPlugin.minDate,maxDate:r.LockPlugin.maxDate,minDays:r.LockPlugin.minDays,maxDays:r.LockPlugin.maxDays,selectForward:r.LockPlugin.selectForward,selectBackward:r.LockPlugin.selectBackward,presets:r.LockPlugin.presets,inseparable:r.LockPlugin.inseparable,filter(e,t){if(D.isArray(i)&&0<i.length){var a=e.getDay();if(-1!==D.inArray((a=0===a?7:a).toString(),i))return!0}return!!(D.isArray(s)&&0<s.length&&s.includes(e.format("DD-MM-YYYY")))||!!(D.isArray(n)&&0<n.length&&n.includes(e.format("DD-MM-YYYY")))||!(!(D.isArray(l)&&0<l.length)||l.includes(e.format("DD-MM-YYYY")))||void 0}},PresetPlugin:r.PresetPlugin,plugins:r.plugins,setup(o){o.on("render",e=>{var t=e.detail["view"];if("Container"==t){const d=D(e.target);d.hasClass("show")&&(k.datePickerResponse(d,o),D(window).resize(function(){k.datePickerResponse(d,o)}));var a=(a=o.startDate)||p.attr("data-date"),t=o.startTime;t=(t=t||o.startTimeChanged)||p.attr("data-time"),a&&t&&p.val(a+" "+t);var r,i,s,n,l=(l=o.endDate)||m.attr("data-date"),c=o.endTime,e=(c=(c=c||o.endTimeChanged)||m.attr("data-time"),l&&c&&m.val(l+" "+c),e.target.querySelectorAll(".time-plugin-container"));"function"==typeof D.fn.timepicker&&e&&(i=(i='<div class="timepicker-wrap pickup-time">')+u+'<span class="timepicker-label">'+g.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',n=(n='<div class="timepicker-wrap dropoff-time">')+u+'<span class="timepicker-label">'+g.lang.dropOff+'</span><span class="ovabrw-timepicker end-time"></span></div>',D(e).html(""),i&&D(e).append(i),n&&D(e).append(n),r=D(e).find(".ovabrw-timepicker.start-time"),(i=Object.assign({},g)).step=1,i.scrollSelect=t||f,r.timepicker(i),r.on("selectTime",function(){o.startTimeChanged=r.timepicker("getTimeString"),a&&l&&D(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}),s=D(e).find(".ovabrw-timepicker.end-time"),(n=Object.assign({},g)).step=1,n.scrollSelect=c||h,s.timepicker(n),s.on("selectTime",function(){o.endTimeChanged=s.timepicker("getTimeString"),a&&l&&D(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),o.on("show",e=>{o.currentInput=D(e.detail.target),o.calendarWrapper=D("#"+t).next(".easepick-wrapper");e=p.attr("data-date"),e&&(o.startDate=e),e=p.attr("data-time"),e&&(o.startTime=e),e=m.attr("data-date"),e&&(o.endDate=e),e=m.attr("data-time");e&&(o.endTime=e),o.renderAll()}),o.on("click",function(e){e.target.classList.contains("reset-button")&&(a?o.gotoDate(a):o.gotoDate(new Date),p.val(""),m.val(""),o.startDate="",o.endDate="",p.attr("data-date",""),m.attr("data-date",""),o.startTime="",o.endTime="",p.attr("data-time",""),m.attr("data-time",""),o.startTimeChanged="",o.endTimeChanged="",o.clear())}),o.on("select",e=>{var t,a=d(e.detail.start,c),a=(a&&(o.startDate=a,p.attr("data-date",a),(t=o.startTimeChanged)?(o.startTime=t,p.attr("data-time",o.startTime),o.startTimeChanged=""):o.startTime||(o.startTime=f,p.attr("data-time",o.startTime)),t=o.startTime,p.val(a+" "+t)),d(e.detail.end,c));a&&(o.endDate=a,m.attr("data-date",a),(t=o.endTimeChanged)?(o.endTime=t,m.attr("data-time",t),o.endTimeChanged=""):o.endTime||(o.endTime=h,m.attr("data-time",o.endTime)),e=o.endTime,m.val(a+" "+e))})}}):new easepick.create({element:"#"+t,css:r.css,firstDay:parseInt(r.firstDay),lang:r.lang,zIndex:parseInt(r.zIndex),grid:parseInt(r.grid),calendars:parseInt(r.calendars),format:c,readonly:r.readonly,header:r.header,autoApply:r.autoApply,AmpPlugin:r.AmpPlugin,locale:r.locale,LockPlugin:{minDate:r.LockPlugin.minDate,maxDate:r.LockPlugin.maxDate,minDays:r.LockPlugin.minDays,maxDays:r.LockPlugin.maxDays,selectForward:r.LockPlugin.selectForward,selectBackward:r.LockPlugin.selectBackward,presets:r.LockPlugin.presets,inseparable:r.LockPlugin.inseparable,filter(e,t){if(D.isArray(i)&&0<i.length){var a=e.getDay();if(-1!==D.inArray((a=0===a?7:a).toString(),i))return!0}return!!(D.isArray(s)&&0<s.length&&s.includes(e.format("DD-MM-YYYY")))||!!(D.isArray(n)&&0<n.length&&n.includes(e.format("DD-MM-YYYY")))||!(!(D.isArray(l)&&0<l.length)||l.includes(e.format("DD-MM-YYYY")))||void 0}},PresetPlugin:r.PresetPlugin,plugins:["AmpPlugin","LockPlugin","TimePlugin"],setup(s){s.on("render",e=>{var t,a,r,i=e.detail["view"];"Container"==i&&(t=(t=s.startDate)||p.attr("data-date"),i=(i=(i=s.startTime)||s.startTimeChanged)||p.attr("data-time"),t&&i&&p.val(t+" "+i),e=e.target.querySelectorAll(".time-plugin-container"),"function"==typeof D.fn.timepicker)&&e&&(r=(r='<div class="timepicker-wrap pickup-time">')+u+'<span class="timepicker-label">'+g.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',D(e).html(""),r&&D(e).append(r),a=D(e).find(".ovabrw-timepicker.start-time"),(r=Object.assign({},g)).step=1,r.scrollSelect=i||f,a.timepicker(r),a.on("selectTime",function(){s.startTimeChanged=a.timepicker("getTimeString"),t&&D(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}),s.on("show",e=>{var t=p.attr("data-date"),t=(t&&(s.startDate=t),p.attr("data-time"));t&&(s.startTime=t),s.renderAll()}),s.on("click",function(e){e.target.classList.contains("reset-button")&&(a?s.gotoDate(a):s.gotoDate(new Date),p.val(""),s.startDate="",p.attr("data-date",""),s.startTime="",p.attr("data-time",""),s.startTimeChanged="",s.clear())}),s.on("select",e=>{var t,e=d(e.detail.date,c);e&&(s.startDate=e,p.attr("data-date",e),(t=s.startTimeChanged)?(s.startTime=t,p.attr("data-time",s.startTime),s.startTimeChanged=""):s.startTime||(s.startTime=f,p.attr("data-time",s.startTime)),t=s.startTime,p.val(e+" "+t))})}}),a&&e.gotoDate(a)})}}function d(e="",t="DD-MM-YYYY"){var a,r;return!(!e||([r=""]=[e],!r)||(r=new Date(r),isNaN(r.getTime())))&&(e=("0"+(r=new Date(e)).getDate()).slice(-2),a=("0"+(r.getMonth()+1)).slice(-2),r=r.getFullYear(),t.replace("DD",e).replace("MM",a).replace("YYYY",r))}},datePickerResponse:function(e=null,t=null){var a,r,i,s=D(window).width();480<s&&e&&t&&(a=t.currentInput,t=t.calendarWrapper,a)&&0<a.length&&t&&0<t.length&&(r=a.outerWidth(),i=a.outerHeight(),i=a.offset().top-t.offset().top+i,e.css("top",i),i=a.offset().left-t.offset().left,e.css("left",i),810<(t=s-a.offset().left)?e.find(".calendars").removeClass("grid-1").addClass("grid-2"):(e.find(".calendars").removeClass("grid-2").addClass("grid-1"),t<485&&e.css("left",-r)))}};D(document).ready(function(){k.init()})}(jQuery);