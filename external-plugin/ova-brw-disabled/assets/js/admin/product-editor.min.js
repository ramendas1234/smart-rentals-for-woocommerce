!function(g){"use strict";var k={init:function(){this.ovabrwSortable(),this.select2Field(),this.productType(),this.timepicker(),this.datepicker(),this.datetimepicker(),this.timeSlots(),this.advancedSettings(),this.deposit(),this.manageStore(),this.packageType(),this.periodTime(),this.locations(),this.locationPrices(),this.specifications(),this.features(),this.globalDiscounts(),this.specialTimes(),this.taxi(),this.extraTime(),this.discountDistance(),this.specialTimeDistance(),this.resources(),this.services(),this.allowedDates(),this.disabledDates(),this.productMap(),this.taxonomies(),this.rentalType(),this.updateProduct()},select2Field:function(){"function"==typeof g.fn.select2&&g(document).find(".ovabrw-select2").select2({allowClear:!0})},ovabrwSortable:function(){g(document).find(".ovabrw-sortable").each(function(){g(this).sortable({opacity:.6,handle:".ovabrw-sort-icon"})})},productType:function(){function e(e){0<e.length&&"ovabrw_car_rental"===e.val()&&(e.closest("#woocommerce-product-data").find('input[name="_virtual"]').closest("label").addClass("show_if_ovabrw_car_rental").show(),0<e.closest("#woocommerce-product-data").find('input[name="_virtual"]:checked').length&&e.closest("#woocommerce-product-data").find(".product_data_tabs li.shipping_tab").hide(),e.closest("#woocommerce-product-data").find('input[name="_downloadable"]').closest("label").addClass("show_if_ovabrw_car_rental").show(),e.closest("#woocommerce-product-data").find(".product_data_tabs li").removeClass("active"),e.closest("#woocommerce-product-data").find(".product_data_tabs li.general_tab").addClass("active").show(),e.closest("#woocommerce-product-data").find(".product_data_tabs li.general_tab a").click())}g(document).find('#woocommerce-product-data select[name="product-type"]').each(function(){e(g(this)),g(this).on("change",function(){e(g(this))})})},timepicker:function(){var e,t,a;"function"==typeof g.fn.timepicker&&(a=(a=g(document).find('input[name="ovabrw-timepicker-options"]').val())?g.parseJSON(a):{},g(document).on("focus",".ovabrw-timepicker",function(){g(this).blur()}),g(document).on("input",".ovabrw-timepicker",function(){/^([0-9]?[0-9]):([0-9]?[0-9])$/.test(this.value)||(this.value=this.value.replace(/[^0-9:]/g,""))}),0<Object.keys(a).length)&&(e=Object.assign({},a),a.allowStartTimes&&(e.allowTimes=a.allowStartTimes),a.defaultStartTime&&(e.scrollDefault=a.defaultStartTime),t=Object.assign({},a),a.allowEndTimes&&(t.allowTimes=a.allowEndTimes),a.defaultEndTime&&(t.scrollDefault=a.defaultEndTime),g(document).find(".ovabrw-timepicker.start-time").each(function(){g(this).timepicker(e),a.autoPickTime&&g(this).on("change",function(){var e=g(this).closest("tr").find(".ovabrw-timepicker.end-time");0<e.length&&e.focus()})}),g(document).find(".ovabrw-timepicker.end-time").each(function(){g(this).timepicker(t)}),g(document).find(".ovabrw-timepicker").not(".start-time, .end-time").each(function(){g(this).timepicker(a)}))},datepicker:function(){if("object"==typeof easepick){var o=(o=g(document).find('input[name="ovabrw-datepicker-options"]').val())?g.parseJSON(o):{};if(0<Object.keys(o).length){o.PresetPlugin.customPreset&&g.each(o.PresetPlugin.customPreset,function(a,e){g.isArray(e)&&g.each(e,function(e,t){o.PresetPlugin.customPreset[a][e]=new Date(t)})});var n=[],s=(o.disableWeekDays&&(n=o.disableWeekDays),[]),r=(o.disableDates&&(s=o.disableDates),[]),c=(o.bookedDates&&(r=o.bookedDates),[]),l=(o.allowedDates&&(c=o.allowedDates),"");switch(o.format){case"d-m-Y":l="DD-MM-YYYY";break;case"m/d/Y":l="MM/DD/YYYY";break;case"Y/m/d":l="YYYY/MM/DD";break;case"Y-m-d":l="YYYY-MM-DD";break;default:l="DD-MM-YYYY"}var d="";o.startDate&&(d=o.startDate),g(document).find(".ovabrw-datepicker.start-date").each(function(){var t,e,a,i=g(this);0==i.closest("tr").find(".easepick-wrapper").length&&(t=i.attr("id"),e="",a=(e=0<(a=i.closest("tr").find(".ovabrw-datepicker.end-date")).length?a.attr("id"):e)?new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:parseInt(o.grid),calendars:parseInt(o.calendars),format:l,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,RangePlugin:{elementEnd:"#"+e,repick:o.RangePlugin.repick,strict:o.RangePlugin.strict,tooltip:o.RangePlugin.tooltip,locale:o.RangePlugin.locale},LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,minDays:o.LockPlugin.minDays,maxDays:o.LockPlugin.maxDays,selectForward:o.LockPlugin.selectForward,selectBackward:o.LockPlugin.selectBackward,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(e,t){if(g.isArray(n)&&0<n.length){var a=e.getDay();if(-1!==g.inArray((a=0===a?7:a).toString(),n))return!0}return!!(g.isArray(s)&&0<s.length&&s.includes(e.format("DD-MM-YYYY")))||!!(g.isArray(r)&&0<r.length&&r.includes(e.format("DD-MM-YYYY")))||!(!(g.isArray(c)&&0<c.length)||c.includes(e.format("DD-MM-YYYY")))||void 0}},PresetPlugin:o.PresetPlugin,plugins:o.plugins,setup(o){o.on("render",e=>{var t=e.detail["view"];if("Container"==t){const a=g(e.target);a.hasClass("show")&&(k.datePickerResponse(a,o),g(window).resize(function(){k.datePickerResponse(a,o)}))}}),o.on("show",e=>{o.currentInput=g(e.detail.target),o.calendarWrapper=g("#"+t).next(".easepick-wrapper"),o.renderAll(),i.closest("td").find(".easepick-wrapper").css("visibility","visible")}),o.on("hide",e=>{i.closest("td").find(".easepick-wrapper").css("visibility","hidden")}),o.on("click",function(e){e.target.classList.contains("reset-button")&&(d?o.gotoDate(d):o.gotoDate(new Date))})}}):new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:parseInt(o.grid),calendars:parseInt(o.calendars),format:l,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,minDays:o.LockPlugin.minDays,maxDays:o.LockPlugin.maxDays,selectForward:o.LockPlugin.selectForward,selectBackward:o.LockPlugin.selectBackward,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(e,t){if(g.isArray(n)&&0<n.length){var a=e.getDay();if(-1!==g.inArray((a=0===a?7:a).toString(),n))return!0}return!!(g.isArray(s)&&0<s.length&&s.includes(e.format("DD-MM-YYYY")))||!!(g.isArray(r)&&0<r.length&&r.includes(e.format("DD-MM-YYYY")))||!(!(g.isArray(c)&&0<c.length)||c.includes(e.format("DD-MM-YYYY")))||void 0}},plugins:["AmpPlugin","LockPlugin"],setup(t){t.on("show",e=>{i.closest("td").find(".easepick-wrapper").css("visibility","visible")}),t.on("hide",e=>{i.closest("td").find(".easepick-wrapper").css("visibility","hidden")}),t.on("click",function(e){e.target.classList.contains("reset-button")&&(d?t.gotoDate(d):t.gotoDate(new Date))})}}),d)&&a.gotoDate(d)})}}},datetimepicker:function(){if("object"==typeof easepick){var o,p,v='<svg enable-background="new 0 0 512 512" viewBox="0 0 512 512" width="14" height="14" xmlns="http://www.w3.org/2000/svg"><g><path d="m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.05 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"></path><circle cx="128.721" cy="383.279" r="15"></circle><circle cx="383.279" cy="128.721" r="15"></circle><path d="m118.114 118.114c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213c-5.857-5.858-15.355-5.858-21.213 0z"></path><path d="m372.673 372.673c-5.858 5.858-5.858 15.355 0 21.213s15.355 5.858 21.213 0 5.858-15.355 0-21.213-15.356-5.858-21.213 0z"></path><path d="m256 121c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"></path><path d="m256 391c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"></path><path d="m121 256c0-8.284-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15s6.716 15 15 15h30c8.284 0 15-6.716 15-15z"></path><path d="m391 256c0 8.284 6.716 15 15 15h30c8.284 0 15-6.716 15-15s-6.716-15-15-15h-30c-8.284 0-15 6.716-15 15z"></path><path d="m271 249.787v-83.787c0-8.284-6.716-15-15-15s-15 6.716-15 15v90c0 3.978 1.581 7.793 4.394 10.607l90 90c5.857 5.857 15.355 5.858 21.213 0s5.858-15.355 0-21.213z"></path></g></svg>',e=g(document).find('input[name="ovabrw-datetimepicker-options"]').val();if(e&&(e=g.parseJSON(e),o=e.datepicker,p=e.timepicker),0<Object.keys(o).length&&0<Object.keys(p).length){var w=p.defaultStartTime,b=p.defaultEndTime,_=p.allowStartTimes,h=p.allowEndTimes,i=(o.PresetPlugin&&o.PresetPlugin.customPreset&&g.each(o.PresetPlugin.customPreset,function(a,e){g.isArray(e)&&g.each(e,function(e,t){o.PresetPlugin.customPreset[a][e]=new Date(t)})}),[]),n=(o.disableWeekDays&&(i=o.disableWeekDays),[]),s=(o.disableDates&&(n=o.disableDates),[]),r=(o.bookedDates&&(s=o.bookedDates),[]),c=(o.allowedDates&&(r=o.allowedDates),"");switch(o.format){case"d-m-Y":c="DD-MM-YYYY";break;case"m/d/Y":c="MM/DD/YYYY";break;case"Y/m/d":c="YYYY/MM/DD";break;case"Y-m-d":c="YYYY-MM-DD";break;default:c="DD-MM-YYYY"}var a="";o.startDate&&(a=o.startDate),g(document).find(".ovabrw-datetimepicker.start-date").each(function(){var t,f,e,u=g(this),m=p.step;(0<u.closest(".ovabrw-unavailable-time").length||0<u.closest(".ovabrw-special-time-item").length)&&(m=1),0==u.closest("tr").find(".easepick-wrapper").length&&(t=u.attr("id"),e="",e=(e=0<(f=u.closest("tr").find(".ovabrw-datetimepicker.end-date")).length?f.attr("id"):e)?new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:parseInt(o.grid),calendars:parseInt(o.calendars),format:c,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,RangePlugin:{elementEnd:"#"+e,repick:o.RangePlugin.repick,strict:o.RangePlugin.strict,tooltip:o.RangePlugin.tooltip,locale:o.RangePlugin.locale},LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,minDays:o.LockPlugin.minDays,maxDays:o.LockPlugin.maxDays,selectForward:o.LockPlugin.selectForward,selectBackward:o.LockPlugin.selectBackward,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(e,t){if(g.isArray(i)&&0<i.length){var a=e.getDay();if(-1!==g.inArray((a=0===a?7:a).toString(),i))return!0}return!!(g.isArray(n)&&0<n.length&&n.includes(e.format("DD-MM-YYYY")))||!!(g.isArray(s)&&0<s.length&&s.includes(e.format("DD-MM-YYYY")))||!(!(g.isArray(r)&&0<r.length)||r.includes(e.format("DD-MM-YYYY")))||void 0}},PresetPlugin:o.PresetPlugin,plugins:o.plugins,setup(d){d.on("render",e=>{var t=e.detail["view"];if("Container"==t){const l=g(e.target);l.hasClass("show")&&(k.datePickerResponse(l,d),g(window).resize(function(){k.datePickerResponse(l,d)}));var a=(a=d.startDate)||u.attr("data-date"),t=d.startTime;t=(t=t||d.startTimeChanged)||u.attr("data-time"),a&&t&&u.val(a+" "+t);var o,i,n,s,r=(r=d.endDate)||f.attr("data-date"),c=d.endTime,e=(c=(c=c||d.endTimeChanged)||f.attr("data-time"),r&&c&&f.val(r+" "+c),e.target.querySelectorAll(".time-plugin-container"));"function"==typeof g.fn.timepicker&&e&&(i=(i='<div class="timepicker-wrap pickup-time">')+v+'<span class="timepicker-label">'+p.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',s=(s='<div class="timepicker-wrap dropoff-time">')+v+'<span class="timepicker-label">'+p.lang.dropOff+'</span><span class="ovabrw-timepicker end-time"></span></div>',g(e).html(""),i&&g(e).append(i),s&&g(e).append(s),o=g(e).find(".ovabrw-timepicker.start-time"),(i=Object.assign({},p)).step=m,0==u.closest(".ovabrw-unavailable-time").length&&0==u.closest(".ovabrw-special-time-item").length&&_&&(i.allowTimes=_),i.scrollSelect=t||w,o.timepicker(i),o.on("selectTime",function(){d.startTimeChanged=o.timepicker("getTimeString"),a&&r&&g(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}),n=g(e).find(".ovabrw-timepicker.end-time"),(s=Object.assign({},p)).step=m,0==f.closest(".ovabrw-unavailable-time").length&&0==f.closest(".ovabrw-special-time-item").length&&h&&(s.allowTimes=h),s.scrollSelect=c||b,n.timepicker(s),n.on("selectTime",function(){d.endTimeChanged=n.timepicker("getTimeString"),a&&r&&g(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}}),d.on("show",e=>{d.currentInput=g(e.detail.target),d.calendarWrapper=g("#"+t).next(".easepick-wrapper");e=u.attr("data-date"),e&&(d.startDate=e),e=u.attr("data-time"),e&&(d.startTime=e),e=f.attr("data-date"),e&&(d.endDate=e),e=f.attr("data-time");e&&(d.endTime=e),d.renderAll(),u.closest("td").find(".easepick-wrapper").css("visibility","visible")}),d.on("click",function(e){e.target.classList.contains("reset-button")&&(a?d.gotoDate(a):d.gotoDate(new Date),u.val(""),f.val(""),d.startDate="",d.endDate="",u.attr("data-date",""),f.attr("data-date",""),d.startTime="",d.endTime="",u.attr("data-time",""),f.attr("data-time",""),d.startTimeChanged="",d.endTimeChanged="",d.clear())}),d.on("select",e=>{var t,a=l(e.detail.start,c),a=(a&&(d.startDate=a,u.attr("data-date",a),(t=d.startTimeChanged)?(d.startTime=t,u.attr("data-time",d.startTime),d.startTimeChanged=""):d.startTime||(d.startTime=w,u.attr("data-time",d.startTime)),t=d.startTime,u.val(a+" "+t)),l(e.detail.end,c));a&&(d.endDate=a,f.attr("data-date",a),(t=d.endTimeChanged)?(d.endTime=t,f.attr("data-time",t),d.endTimeChanged=""):d.endTime||(d.endTime=b,f.attr("data-time",d.endTime)),e=d.endTime,f.val(a+" "+e))}),d.on("hide",e=>{u.closest("td").find(".easepick-wrapper").css("visibility","hidden")})}}):new easepick.create({element:"#"+t,css:o.css,firstDay:parseInt(o.firstDay),lang:o.lang,zIndex:parseInt(o.zIndex),grid:parseInt(o.grid),calendars:parseInt(o.calendars),format:c,readonly:o.readonly,header:o.header,autoApply:o.autoApply,AmpPlugin:o.AmpPlugin,locale:o.locale,LockPlugin:{minDate:o.LockPlugin.minDate,maxDate:o.LockPlugin.maxDate,minDays:o.LockPlugin.minDays,maxDays:o.LockPlugin.maxDays,selectForward:o.LockPlugin.selectForward,selectBackward:o.LockPlugin.selectBackward,presets:o.LockPlugin.presets,inseparable:o.LockPlugin.inseparable,filter(e,t){if(g.isArray(i)&&0<i.length){var a=e.getDay();if(-1!==g.inArray((a=0===a?7:a).toString(),i))return!0}return!!(g.isArray(n)&&0<n.length&&n.includes(e.format("DD-MM-YYYY")))||!!(g.isArray(s)&&0<s.length&&s.includes(e.format("DD-MM-YYYY")))||!(!(g.isArray(r)&&0<r.length)||r.includes(e.format("DD-MM-YYYY")))||void 0}},plugins:["AmpPlugin","LockPlugin","TimePlugin"],setup(n){n.on("render",e=>{var t,a,o,i=e.detail["view"];"Container"==i&&(t=(t=n.startDate)||u.attr("data-date"),i=(i=(i=n.startTime)||n.startTimeChanged)||u.attr("data-time"),t&&i&&u.val(t+" "+i),e=e.target.querySelectorAll(".time-plugin-container"),"function"==typeof g.fn.timepicker)&&e&&(o=(o='<div class="timepicker-wrap pickup-time">')+v+'<span class="timepicker-label">'+p.lang.pickUp+'</span><span class="ovabrw-timepicker start-time"></span></div>',g(e).html(""),o&&g(e).append(o),a=g(e).find(".ovabrw-timepicker.start-time"),(o=Object.assign({},p)).step=m,0==u.closest(".ovabrw-unavailable-time").length&&0==u.closest(".ovabrw-special-time-item").length&&_&&(o.allowTimes=_),o.scrollSelect=i||w,a.timepicker(o),a.on("selectTime",function(){n.startTimeChanged=a.timepicker("getTimeString"),t&&g(this).closest(".easepick-container").find("button.apply-button").prop("disabled",!1)}))}),n.on("show",e=>{var t=u.attr("data-date"),t=(t&&(n.startDate=t),u.attr("data-time"));t&&(n.startTime=t),n.renderAll(),u.closest("td").find(".easepick-wrapper").css("visibility","visible")}),n.on("click",function(e){e.target.classList.contains("reset-button")&&(a?n.gotoDate(a):n.gotoDate(new Date),u.val(""),n.startDate="",u.attr("data-date",""),n.startTime="",u.attr("data-time",""),n.startTimeChanged="",n.clear())}),n.on("select",e=>{var t,e=l(e.detail.date,c);e&&(n.startDate=e,u.attr("data-date",e),(t=n.startTimeChanged)?(n.startTime=t,u.attr("data-time",n.startTime),n.startTimeChanged=""):n.startTime||(n.startTime=w,u.attr("data-time",n.startTime)),t=n.startTime,u.val(e+" "+t))}),n.on("hide",e=>{u.closest("td").find(".easepick-wrapper").css("visibility","hidden")})}}),a)&&e.gotoDate(a)})}}},datePickerResponse:function(e=null,t=null){var a,o,i,n=g(window).width();480<n&&e&&t&&(a=t.currentInput,t=t.calendarWrapper,a)&&0<a.length&&t&&0<t.length&&(o=a.outerWidth(),i=a.outerHeight(),i=a.offset().top-t.offset().top+i,e.css("top",i),i=a.offset().left-t.offset().left,e.css("left",i),810<(t=n-a.offset().left)?e.find(".calendars").removeClass("grid-1").addClass("grid-2"):(e.find(".calendars").removeClass("grid-2").addClass("grid-1"),t<485&&e.css("left",-o)))},timeSlots:function(){function e(e=null){e&&0<e.length&&(e.prop("checked")?(e.closest("#ovabrw-time-slots").find("table thead .heading-timeslot-location").show(),e.closest("#ovabrw-time-slots").find("table tbody .timeslot-location").show(),e.closest("#ovabrw-time-slots").find("table tbody .timeslot-location select").addClass("ovabrw-input-required"),e.closest("#ovabrw-time-slots").find("table tfoot th").attr("colspan",8)):(e.closest("#ovabrw-time-slots").find("table thead .heading-timeslot-location").hide(),e.closest("#ovabrw-time-slots").find("table tbody .timeslot-location").hide(),e.closest("#ovabrw-time-slots").find("table tbody .timeslot-location select").removeClass("ovabrw-input-required"),e.closest("#ovabrw-time-slots").find("table tfoot th").attr("colspan",7)))}g("#ovabrw-rental").find('input[name="ovabrw_use_location"]').each(function(){e(g(this)),g(this).on("change",function(){e(g(this))})}),g("#ovabrw-rental").on("click","button.ovabrw-add-time-slot",function(e){e.preventDefault();e=g(this).closest("table").find('input[name="ovabrw-day-of-week"]').val(),e=g(this).closest("#ovabrw-time-slots").find('input[name="ovabrw-time-slots-row"]').data("row").replace(/dayOfWeek/g,e);g(this).closest("table").find("tbody").append(e),g(this).closest("table").find("tbody tr:last td.timeslot-label input").focus(),g(this).closest("#ovabrw-time-slots").find('input[name="ovabrw_use_location"]:checked').val()?(g(this).closest("table").find("td.timeslot-location").show(),g(this).closest("table").find("td.timeslot-location select").addClass("ovabrw-input-required")):(g(this).closest("table").find("td.timeslot-location").hide(),g(this).closest("table").find("td.timeslot-location select").removeClass("ovabrw-input-required")),k.timepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-time-slot",function(e){e.preventDefault(),g(this).closest("tr").remove()})},advancedSettings:function(){function e(e=null){var t;0<e.length&&(t=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_product_custom_checkout_field"]'),"new"==e.val()?(t.closest(".form-field").show(),t.addClass("ovabrw-input-required")):(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required")))}function t(e){var t,a,o,i,n,s,r,c;0<e.length&&(t=e.closest("#general_product_data").find('select[name="ovabrw_manage_time_book_start"]'),a=e.closest("#general_product_data").find('textarea[name="ovabrw_product_time_to_book_start"]'),o=e.closest("#general_product_data").find('select[name="ovabrw_manage_default_hour_start"]'),i=e.closest("#general_product_data").find('input[name="ovabrw_product_default_hour_start"]'),n=e.closest("#general_product_data").find('select[name="ovabrw_manage_time_book_end"]'),s=e.closest("#general_product_data").find('textarea[name="ovabrw_product_time_to_book_end"]'),r=e.closest("#general_product_data").find('select[name="ovabrw_manage_default_hour_end"]'),c=e.closest("#general_product_data").find('input[name="ovabrw_product_default_hour_end"]'),"hotel"==e.val()?(t.closest(".form-field").hide(),a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required"),n.closest(".form-field").hide(),s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required"),r.closest(".form-field").hide(),c.closest(".form-field").hide(),c.removeClass("ovabrw-input-required")):(t.closest(".form-field").show(),"no"==t.val()?(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required")):("new_time"==t.val()?(a.closest(".form-field").show(),a.addClass("ovabrw-input-required")):(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required")),o.closest(".form-field").show(),"new_time"==o.val()?(i.closest(".form-field").show(),i.addClass("ovabrw-input-required")):(i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required"))),n.closest(".form-field").show(),"no"==n.val()?(s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required"),r.closest(".form-field").hide(),c.closest(".form-field").hide(),c.removeClass("ovabrw-input-required")):("new_time"==n.val()?(s.closest(".form-field").show(),s.addClass("ovabrw-input-required")):(s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required")),r.closest(".form-field").show(),"new_time"==r.val()?(c.closest(".form-field").show(),c.addClass("ovabrw-input-required")):(c.closest(".form-field").hide(),c.removeClass("ovabrw-input-required")))))}function a(e){var t,a,o;0<e.length&&(t=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_product_time_to_book_start"]'),a=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_default_hour_start"]'),o=e.closest(".ovabrw-form-field").find('input[name="ovabrw_product_default_hour_start"]'),"no"==e.val()?(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required"),a.closest(".form-field").hide(),o.closest(".form-field").hide(),o.removeClass("ovabrw-input-required")):("new_time"==e.val()?(t.closest(".form-field").show(),t.addClass("ovabrw-input-required")):(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required")),a.closest(".form-field").show(),"new_time"==a.val()?(o.closest(".form-field").show(),o.addClass("ovabrw-input-required")):(o.closest(".form-field").hide(),o.removeClass("ovabrw-input-required"))))}function o(e=null){var t,a;0<e.length&&(t=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_time_book_start"]'),a=e.closest(".ovabrw-form-field").find('input[name="ovabrw_product_default_hour_start"]'),"no"!=t.val()&&"new_time"==e.val()?(a.closest(".form-field").show(),a.addClass("ovabrw-input-required")):(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required")))}function i(e=null){var t;0<e.length&&(t=e.closest(".ovabrw-form-field").find('input[name="ovabrw_new_pickup_date_product"]'),"new"==e.val()?(t.closest(".form-field").show(),t.addClass("ovabrw-input-required")):(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required")))}function n(e){var t,a,o,i,n,s,r;0<e.length&&(t=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_time_book_end"]'),a=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_product_time_to_book_end"]'),o=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_default_hour_end"]'),i=e.closest(".ovabrw-form-field").find('input[name="ovabrw_product_default_hour_end"]'),n=e.closest(".ovabrw-form-field").find('select[name="ovabrw_label_dropoff_date_product"]'),s=e.closest(".ovabrw-form-field").find('input[name="ovabrw_new_dropoff_date_product"]'),"no"==e.val()?(t.closest(".form-field").hide(),a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required"),n.closest(".form-field").hide(),s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required")):(r=e.closest("#ovabrw-rental").find('select[name="ovabrw_price_type"]').val(),e=e.closest("#ovabrw-rental").find('select[name="ovabrw_define_1_day"]').val(),"day"==r&&"hotel"==e?(t.closest(".form-field").hide(),a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required")):(t.closest(".form-field").show(),"no"==t.val()?(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required")):("new_time"==t.val()?(a.closest(".form-field").show(),a.addClass("ovabrw-input-required")):(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required")),o.closest(".form-field").show(),"new_time"==o.val()?(i.closest(".form-field").show(),i.addClass("ovabrw-input-required")):(i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required")))),n.closest(".form-field").show(),"new"==n.val()?(s.closest(".form-field").show(),s.addClass("ovabrw-input-required")):(s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required"))))}function s(e){var t,a,o,i;0<e.length&&(t=e.closest(".ovabrw-form-field").find('select[name="ovabrw_show_pickoff_date_product"]'),a=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_product_time_to_book_end"]'),o=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_default_hour_end"]'),i=e.closest(".ovabrw-form-field").find('input[name="ovabrw_product_default_hour_end"]'),"no"==e.val()?(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required")):"no"!=t.val()&&("new_time"==e.val()?(a.closest(".form-field").show(),a.addClass("ovabrw-input-required")):(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required")),o.closest(".form-field").show(),"new_time"==o.val()?(i.closest(".form-field").show(),i.addClass("ovabrw-input-required")):(i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required"))))}function r(e=null){var t,a,o;0<e.length&&(t=e.closest(".ovabrw-form-field").find('select[name="ovabrw_show_pickoff_date_product"]'),a=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_time_book_end"]'),o=e.closest(".ovabrw-form-field").find('input[name="ovabrw_product_default_hour_end"]'),"no"!=t.val()&&"no"!=a.val()&&"new_time"==e.val()?(o.closest(".form-field").show(),o.addClass("ovabrw-input-required")):(o.closest(".form-field").hide(),o.removeClass("ovabrw-input-required")))}function c(e=null){var t,a;0<e.length&&(t=e.closest(".ovabrw-form-field").find('select[name="ovabrw_show_pickoff_date_product"]'),a=e.closest(".ovabrw-form-field").find('input[name="ovabrw_new_dropoff_date_product"]'),"no"!=t.val()&&"new"==e.val()?(a.closest(".form-field").show(),a.addClass("ovabrw-input-required")):(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required")))}function l(e){0<e.length&&("no"==e.val()?e.closest(".ovabrw-form-field").find(".ovabrw_show_other_location_pickup_product_field").hide():e.closest(".ovabrw-form-field").find(".ovabrw_show_other_location_pickup_product_field").show())}function d(e){0<e.length&&("no"==e.val()?e.closest(".ovabrw-form-field").find(".ovabrw_show_other_location_dropoff_product_field").hide():e.closest(".ovabrw-form-field").find(".ovabrw_show_other_location_dropoff_product_field").show())}function f(e){var t,a,o,i,n,s;0<e.length&&(t=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_time_book_end"]'),a=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_product_time_to_book_end"]'),o=e.closest(".ovabrw-form-field").find('select[name="ovabrw_manage_default_hour_end"]'),i=e.closest(".ovabrw-form-field").find('input[name="ovabrw_product_default_hour_end"]'),n=e.closest(".ovabrw-form-field").find('select[name="ovabrw_label_dropoff_date_product"]'),s=e.closest(".ovabrw-form-field").find('input[name="ovabrw_new_dropoff_date_product"]'),"yes"==e.val()?(t.closest(".form-field").show(),"no"==t.val()?(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required")):("new_time"==t.val()?(a.closest(".form-field").show(),a.addClass("ovabrw-input-required")):(a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required")),o.closest(".form-field").show(),"new_time"==o.val()?(i.closest(".form-field").show(),i.addClass("ovabrw-input-required")):(i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required"))),n.closest(".form-field").show(),"new"==n.val()?(s.closest(".form-field").show(),s.addClass("ovabrw-input-required")):(s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required"))):(t.closest(".form-field").hide(),a.closest(".form-field").hide(),a.removeClass("ovabrw-input-required"),o.closest(".form-field").hide(),i.closest(".form-field").hide(),i.removeClass("ovabrw-input-required"),n.closest(".form-field").hide(),s.closest(".form-field").hide(),s.removeClass("ovabrw-input-required")))}function u(e=null){var t;0<e.length&&(t=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_extra_tab_shortcode"]'),"new_form"==e.val()?(t.closest(".form-field").show(),t.addClass("ovabrw-input-required")):(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required")))}function m(e){var t;0<e.length&&(t=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_single_price_new_format"]'),"new"==e.val()?(t.closest(".form-field").show(),t.addClass("ovabrw-input-required")):(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required")))}function p(e){var t;0<e.length&&(t=e.closest(".ovabrw-form-field").find('textarea[name="ovabrw_archive_price_new_format"]'),"new"==e.val()?(t.closest(".form-field").show(),t.addClass("ovabrw-input-required")):(t.closest(".form-field").hide(),t.removeClass("ovabrw-input-required")))}"function"==typeof g.fn.select2&&g(".ovabrw-specifications-select2").each(function(){g(this).select2()}),g(document).off("click").on("click",".ovabrw-advanced-settings .advanced-header",function(){g(this).toggleClass("active"),g(this).closest(".ovabrw-advanced-settings").find(".advanced-content").slideToggle(300)}),g(document).find('select[name="ovabrw_manage_custom_checkout_field"]').each(function(){e(g(this)),g(this).on("change",function(){e(g(this))})}),g(document).find('select[name="ovabrw_define_1_day"]').each(function(){t(g(this)),g(this).on("change",function(){t(g(this))})}),g(document).find('select[name="ovabrw_manage_time_book_start"]').each(function(){a(g(this)),g(this).on("change",function(){a(g(this))})}),g(document).find('select[name="ovabrw_manage_default_hour_start"]').each(function(){o(g(this)),g(this).on("change",function(){o(g(this))})}),g(document).find('select[name="ovabrw_label_pickup_date_product"]').each(function(){i(g(this)),g(this).on("change",function(){i(g(this))})}),g(document).find('select[name="ovabrw_show_pickoff_date_product"]').each(function(){n(g(this)),g(this).on("change",function(){n(g(this))})}),g(document).find('select[name="ovabrw_manage_time_book_end"]').each(function(){s(g(this)),g(this).on("change",function(){s(g(this))})}),g(document).find('select[name="ovabrw_manage_default_hour_end"]').each(function(){r(g(this)),g(this).on("change",function(){r(g(this))})}),g(document).find('select[name="ovabrw_label_dropoff_date_product"]').each(function(){c(g(this)),g(this).on("change",function(){c(g(this))})}),g(document).find('select[name="ovabrw_show_pickup_location_product"]').each(function(){l(g(this)),g(this).on("change",function(){l(g(this))})}),g(document).find('select[name="ovabrw_show_pickoff_location_product"]').each(function(){d(g(this)),g(this).on("change",function(){d(g(this))})}),g(document).find('select[name="ovabrw_dropoff_date_by_setting"]').each(function(){f(g(this)),g(this).on("change",function(){f(g(this))})}),g(document).find('select[name="ovabrw_manage_extra_tab"]').each(function(){u(g(this)),g(this).on("change",function(){u(g(this))})}),g(document).find('select[name="ovabrw_single_price_format"]').each(function(){m(g(this)),g(this).on("change",function(){m(g(this))})}),g(document).find('select[name="ovabrw_archive_price_format"]').each(function(){p(g(this)),g(this).on("change",function(){p(g(this))})})},deposit:function(){function e(e=null){0<e.length&&("yes"==e.val()?(e.closest(".ovabrw-form-field").find(".ovabrw_force_deposit_field").show(),e.closest(".ovabrw-form-field").find(".ovabrw_type_deposit_field").show(),e.closest(".ovabrw-form-field").find(".ovabrw_amount_deposit_field").show(),e.closest(".ovabrw-form-field").find('input[name="ovabrw_amount_deposit"]').addClass("ovabrw-input-required")):(e.closest(".ovabrw-form-field").find(".ovabrw_force_deposit_field").hide(),e.closest(".ovabrw-form-field").find(".ovabrw_type_deposit_field").hide(),e.closest(".ovabrw-form-field").find(".ovabrw_amount_deposit_field").hide(),e.closest(".ovabrw-form-field").find('input[name="ovabrw_amount_deposit"]').removeClass("ovabrw-input-required")))}function t(e){var t,a;0<e.length&&(t=e.closest(".advanced-content").find('input[name="ovabrw_amount_deposit"]'),a="",a="percent"==e.closest(".advanced-content").find('select[name="ovabrw_type_deposit"]').val()?t.data("percent-unit"):t.data("fixed-unit"),e.closest(".advanced-content").find(".ovabrw-deposit-unit").text("("+a+")"))}g(document).find('select[name="ovabrw_enable_deposit"]').each(function(){e(g(this)),g(this).on("change",function(){e(g(this))})}),g(document).find('select[name="ovabrw_type_deposit"]').each(function(){g(this).closest(".advanced-content").find(".ovabrw_amount_deposit_field label").after('<span class="ovabrw-deposit-unit ovabrw-required"></span>'),t(g(this)),g(this).on("change",function(){t(g(this))})})},manageStore:function(){function e(e=null){0<e.length&&("store"==e.val()?(e.closest(".ovabrw-form-field").find(".ovabrw_car_count_field").show(),e.closest(".ovabrw-form-field").find('input[name="ovabrw_car_count"]').addClass("ovabrw-input-required"),e.closest(".ovabrw-form-field").find(".ovabrw-vehicle-ids").hide(),e.closest(".ovabrw-form-field").find('select[name="ovabrw_id_vehicles[]"]').removeClass("ovabrw-input-required")):(e.closest(".ovabrw-form-field").find(".ovabrw_car_count_field").hide(),e.closest(".ovabrw-form-field").find('input[name="ovabrw_car_count"]').removeClass("ovabrw-input-required"),e.closest(".ovabrw-form-field").find(".ovabrw-vehicle-ids").show(),e.closest(".ovabrw-form-field").find('select[name="ovabrw_id_vehicles[]"]').addClass("ovabrw-input-required")))}g(document).find('select[name="ovabrw_manage_store"]').each(function(){e(g(this)),g(this).on("change",function(){e(g(this))})})},packageType:function(){var i=g(document).find('select[name="ovabrw_unfixed_time"]').val();g(document).find('select[name="ovabrw_package_type[]"]').each(function(){var e=g(this).closest("td").find('input[name="ovabrw_petime_days[]"]'),t=g(this).closest("td").find('input[name="ovabrw_pehour_unfixed[]"]'),a=g(this).closest("td").find('input[name="ovabrw_pehour_start_time[]"]'),o=g(this).closest("td").find('input[name="ovabrw_pehour_end_time[]"]');"inday"==g(this).val()?(e.hide(),e.removeClass("ovabrw-input-required"),("yes"!=i?(t.hide(),t.removeClass("ovabrw-input-required"),a.show(),a.addClass("ovabrw-input-required"),o.show(),o):(a.hide(),a.removeClass("ovabrw-input-required"),o.hide(),o.removeClass("ovabrw-input-required"),t.show(),t)).addClass("ovabrw-input-required")):"other"==g(this).val()&&(a.hide(),a.removeClass("ovabrw-input-required"),o.hide(),o.removeClass("ovabrw-input-required"),t.hide(),t.removeClass("ovabrw-input-required"),e.show(),e.addClass("ovabrw-input-required"))})},periodTime:function(){function o(){g(document).find(".ovabrw-period-time tbody.ovabrw-period-time-item > tr").each(function(e){g(this).find(".ovabrw-period-discounts input.ovabrw-period-discount-price").attr("name","ovabrw_petime_discount["+e+"][price][]"),g(this).find(".ovabrw-period-discounts input.start-date").attr("name","ovabrw_petime_discount["+e+"][start_time][]"),g(this).find(".ovabrw-period-discounts input.end-date").attr("name","ovabrw_petime_discount["+e+"][end_time][]")})}g("#ovabrw-rental").on("change",'select[name="ovabrw_unfixed_time"]',function(){k.packageType()}),g("#ovabrw-rental").on("change",'select[name="ovabrw_package_type[]"]',function(){k.packageType()}),g("#ovabrw-rental").on("click","button.ovabrw-add-package",function(e){e.preventDefault();var e=g(this).data("add-new"),t=function(e=null){if(0<e.length){for(var t=[],a=(e.closest(".ovabrw-period-time").find('input[name="ovabrw_petime_id[]"]').each(function(){-1===g.inArray(g(this).val(),t)&&t.push(g(this).val())}),1);-1!==g.inArray("package_"+a,t);)a=parseInt(a+1);return"package_"+a}}(g(this));t&&(e=e.replace(/\[packageID\]/g,t)),g(this).closest("table").find("tbody.ovabrw-period-time-item").append(e),g(this).closest("table").find("tbody.ovabrw-period-time-item > tr:last td:first input").focus(),k.packageType(),k.timepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-package",function(e){e.preventDefault(),g(this).closest("tr").remove(),o()}),g("#ovabrw-rental").on("click","button.ovabrw-add-pt-discount",function(e){e.preventDefault();var e=i("ovabrw_period_from"),t=i("ovabrw_period_to"),a=(a=(a=g(this).closest(".ovabrw-period-time").find("button.ovabrw-add-package").data("add-new-discount")).replace(/periodFromUniqueID/g,e)).replace(/periodToUniqueID/g,t);g(this).closest("table").find("tbody").append(a),g(this).closest("table").find("tbody tr:last td:first input").focus(),o(),k.datetimepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-pt-discount",function(e){e.preventDefault(),g(this).closest("tr").remove()})},locations:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-location",function(e){e.preventDefault(),g(this).closest("table").find("tbody").append(g(this).data("add-new")),g(this).closest("table").find("tbody tr:last td:first select").focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-location",function(e){e.preventDefault(),g(this).closest("tr").remove()}),g("#ovabrw-rental").on("change",'select[name="ovabrw_st_pickup_loc[]"]',function(){var e=g(this),t=e.closest("tr").find('select[name="ovabrw_st_dropoff_loc[]"]');e.val()?(t.prop("disabled",!1),t.val("")):t.prop("disabled",!0)}),g("#ovabrw-rental").on("click",'select[name="ovabrw_st_dropoff_loc[]"]',function(){var t=g(this),a=t.closest("tr").find('select[name="ovabrw_st_pickup_loc[]"]'),o=a.val(),i=(o?t.prop("disabled",!1):t.prop("disabled",!0),t.find("option").prop("disabled",!1),[]);g("#ovabrw-rental").find('select[name="ovabrw_st_pickup_loc[]"]').each(function(e){var t=g(this).not(a).val();o==t&&(t=g(this).closest("tr").find('select[name="ovabrw_st_dropoff_loc[]"]').val(),i.push(t))}),i&&i.forEach(function(e){e&&(e=e.replace(" ","\\ "),t.find("option[value="+e+"]").prop("disabled",!0))})})},locationPrices:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-location-price",function(e){e.preventDefault(),g(this).closest("table").find("tbody").append(g(this).data("add-new")),g(this).closest("table").find("tbody tr:last td:first select").focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-location-price",function(e){e.preventDefault(),g(this).closest("tr").remove()}),g("#ovabrw-rental").on("change",'select[name="ovabrw_pickup_location[]"]',function(){var e=g(this),t=e.closest("tr").find('select[name="ovabrw_dropoff_location[]"]');e.val()?(t.prop("disabled",!1),t.val("")):t.prop("disabled",!0)}),g("#ovabrw-rental").on("click",'select[name="ovabrw_dropoff_location[]"]',function(){var t=g(this),a=t.closest("tr").find('select[name="ovabrw_pickup_location[]"]'),o=a.val(),i=(o?t.prop("disabled",!1):t.prop("disabled",!0),t.find("option").prop("disabled",!1),[]);g("#ovabrw-rental").find('select[name="ovabrw_pickup_location[]"]').each(function(e){var t=g(this).not(a).val();o==t&&(t=g(this).closest("tr").find('select[name="ovabrw_dropoff_location[]"]').val(),i.push(t))}),i&&i.forEach(function(e){e&&(e=e.replace(" ","\\ "),t.find("option[value="+e+"]").prop("disabled",!0))})})},specifications:function(){g("#ovabrw-rental").on("click",".specification-add-file",function(e){e.preventDefault();var t=g(this),a=wp.media.frames.fileFrame=wp.media({title:g(this).data("uploader-title"),button:{text:g(this).data("uploader-title")},states:[new wp.media.controller.Library({title:g(this).data("uploader-title"),filterable:"all",multiple:!1})]});a.on("select",function(){var e=a.state().get("selection").first().toJSON();e.id&&((0<t.closest("td").find("input.attachment-id").length?t.closest("td").find("input.attachment-id"):t.closest("td").find('input[name="default"]')).val(e.id),t.closest("td").find(".file-default a").attr("href",e.editLink),t.closest("td").find(".file-default a").text(e.filename),t.closest("td").find(".file-default").show())}),a.open()}),g("#ovabrw-rental").on("click",".ovabrw-specifications .file-default button.btn",function(e){e.preventDefault(),g(this).closest(".file-default").hide(),g(this).closest(".file-default a").attr("href",""),g(this).closest(".file-default a").text(""),g(this).closest("td").find("input.attachment-id").val("")})},features:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-feature",function(e){e.preventDefault(),g(this).closest("table").find("tbody").append(g(this).data("add-new")),g(this).closest("table").find("tbody tr:last td:first input").focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-feature",function(e){e.preventDefault(),g(this).closest("tr").remove()})},globalDiscounts:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-gb-discount",function(e){e.preventDefault(),g(this).closest("table").find("tbody").append(g(this).data("add-new")),g(this).closest("table").find("tbody tr:last td:first input").focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-gb-discount",function(e){e.preventDefault(),g(this).closest("tr").remove()})},specialTimes:function(){function t(){g(document).find(".ovabrw-special-time tbody.ovabrw-special-time-item > tr").each(function(e){g(this).find(".ovabrw-special-discounts input.ovabrw-special-discount-price").attr("name","ovabrw_rt_discount["+e+"][price][]"),g(this).find(".ovabrw-special-discounts input.ovabrw-special-discount-min").attr("name","ovabrw_rt_discount["+e+"][min][]"),g(this).find(".ovabrw-special-discounts input.ovabrw-special-discount-max").attr("name","ovabrw_rt_discount["+e+"][max][]"),g(this).find(".ovabrw-special-discounts select.ovabrw-special-discount-duration").attr("name","ovabrw_rt_discount["+e+"][duration_type][]")})}g("#ovabrw-rental").on("click","button.ovabrw-add-special-time",function(e){e.preventDefault();var e=i("ovabrw_special_from"),t=i("ovabrw_special_to"),a=(a=(a=g(this).data("add-new")).replace(/specialFromUniqueID/g,e)).replace(/specialToUniqueID/g,t);g(this).closest("table").find("tbody.ovabrw-special-time-item").append(a),g(this).closest("table").find("tbody.ovabrw-special-time-item > tr:last td:first input").focus(),k.datepicker(),k.datetimepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-special-time",function(e){e.preventDefault(),g(this).closest("tr").remove(),t()}),g("#ovabrw-rental").on("click","button.ovabrw-add-st-discount",function(e){e.preventDefault();e=g(this).closest(".ovabrw-special-time").find("button.ovabrw-add-special-time").data("add-new-discount");g(this).closest("table").find("tbody").append(e),g(this).closest("table").find("tbody tr:last td:first input").focus(),t()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-st-discount",function(e){e.preventDefault(),g(this).closest("tr").remove()}),g("#ovabrw-rental").on("click","button.ovabrw-appointment-add-special-time",function(e){e.preventDefault();var e=i("special_startdate"),t=i("special_enddate"),a=(a=(a=g(this).data("add-new")).replace(/specialStartDateUniqueID/g,e)).replace(/specialEndDateUniqueID/g,t);g(this).closest("table").find("tbody").append(a),g(this).closest("table").find("tbody tr:last td:first input").focus(),k.datetimepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-appointment-remove-special-time",function(e){e.preventDefault(),g(this).closest("tr").remove()})},taxi:function(){function e(){g('.ovabrw_waypoint_field input[name="ovabrw_waypoint"]:checked').val()?g(".ovabrw_waypoint_field .max_waypoint").show():g(".ovabrw_waypoint_field .max_waypoint").hide()}function t(){g('.ovabrw_bounds_field input[name="ovabrw_bounds"]:checked').val()?g(".ovabrw_bounds_field .coordinates").css("display","block"):g(".ovabrw_bounds_field .coordinates").hide()}e(),g('.ovabrw_waypoint_field input[name="ovabrw_waypoint"]').on("change",function(){e()}),t(),g('.ovabrw_bounds_field input[name="ovabrw_bounds"]').on("change",function(){t()}),g('.ovabrw_restrictions_field select[name="ovabrw_restrictions[]"]').length&&g('.ovabrw_restrictions_field select[name="ovabrw_restrictions[]"]').select2({maximumSelectionLength:5,allowClear:!0})},extraTime:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-extra-time",function(e){e.preventDefault(),g(this).closest("table").find("tbody").append(g(this).data("add-new")),g(this).closest("table").find("tbody tr:last td:first input").focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-extra-time",function(e){e.preventDefault(),g(this).closest("tr").remove()})},discountDistance:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-discount-distance",function(e){e.preventDefault(),g(this).closest("table").find("tbody").append(g(this).data("add-new")),g(this).closest("table").find("tbody tr:last td:first input").focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-discount-distance",function(e){e.preventDefault(),g(this).closest("tr").remove()})},specialTimeDistance:function(){function t(){g(document).find(".ovabrw-special-distance tbody.ovabrw-special-distance-item > tr").each(function(e){g(this).find(".ovabrw-special-distance-discount input.ovabrw-special-distance-discount-from").attr("name","ovabrw_st_discount_distance["+e+"][from][]"),g(this).find(".ovabrw-special-distance-discount input.ovabrw-special-distance-discount-to").attr("name","ovabrw_st_discount_distance["+e+"][to][]"),g(this).find(".ovabrw-special-distance-discount input.ovabrw-special-distance-discount-price").attr("name","ovabrw_st_discount_distance["+e+"][price][]")})}g("#ovabrw-rental").on("click","button.ovabrw-add-st-distance",function(e){e.preventDefault();var e=i("ovabrw_special_from"),t=i("ovabrw_special_to"),a=(a=(a=g(this).data("add-new")).replace(/specialFromUniqueID/g,e)).replace(/specialToUniqueID/g,t);g(this).closest("table").find("tbody.ovabrw-special-distance-item").append(a),g(this).closest("table").find("tbody.ovabrw-special-distance-item > tr:last td:first input").focus(),k.datetimepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-st-distance",function(e){e.preventDefault(),g(this).closest("tr").remove(),t()}),g("#ovabrw-rental").on("click","button.ovabrw-add-st-discount-distance",function(e){e.preventDefault();e=g(this).closest(".ovabrw-special-distance").find("button.ovabrw-add-st-distance").data("add-new-discount");g(this).closest("table").find("tbody").append(e),g(this).closest("table").find("tbody tr:last td:first input").focus(),t()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-st-discount-distance",function(e){e.preventDefault(),g(this).closest("tr").remove()})},resources:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-resource",function(e){e.preventDefault();var e=g(this).data("add-new"),t=function(e=null){if(0<e.length){for(var t=[],a=(e.closest(".ovabrw-resources").find('input[name="ovabrw_resource_id[]"]').each(function(){-1===g.inArray(g(this).val(),t)&&t.push(g(this).val())}),1);-1!==g.inArray("option_"+a,t);)a=parseInt(a+1);return"option_"+a}}(g(this)),a=(t&&(e=e.replace(/\[resourceID\]/g,t)),g(this).closest("table").find("tbody").append(e),g(this).closest("table").find("tbody tr:last td:first input"));a.focus(function(){var e=a.val().length;setTimeout(function(){a[0].setSelectionRange(e,e)},1)}).focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-resource",function(e){e.preventDefault(),g(this).closest("tr").remove()})},services:function(){function o(){g(document).find(".ovabrw-services .ovabrw-service-item").each(function(e){g(this).find("input.ovabrw-service-id").attr("name","ovabrw_service_id["+e+"][]"),g(this).find("input.ovabrw-service-name").attr("name","ovabrw_service_name["+e+"][]"),g(this).find("input.ovabrw-service-price").attr("name","ovabrw_service_price["+e+"][]"),g(this).find("input.ovabrw-service-qty").attr("name","ovabrw_service_qty["+e+"][]"),g(this).find("select.ovabrw-service-duration").attr("name","ovabrw_service_duration_type["+e+"][]")})}g("#ovabrw-rental").on("click","button.ovabrw-add-service",function(e){e.preventDefault();var e=g(this).data("add-new"),t=function(e=null){if(0<e.length){for(var t=[],a=(e.closest(".ovabrw-services").find('input[name="ovabrw_label_service[]"]').each(function(){-1===g.inArray(g(this).val(),t)&&t.push(g(this).val())}),1);-1!==g.inArray("Service "+a,t);)a=parseInt(a+1);return"Service "+a}}(g(this)),a=(t&&(e=e.replace(/\[serviceName\]/g,t)),g(this).closest(".ovabrw-services").find(".ovabrw-service-items").append(e),g(this).closest(".ovabrw-services").find(".ovabrw-service-item").last().find('input[name="ovabrw_label_service[]"]').focus(),g(this).closest(".ovabrw-services").find(".ovabrw-service-item").last().find('input[name="ovabrw_label_service[]"]'));a.focus(function(){var e=a.val().length;setTimeout(function(){a[0].setSelectionRange(e,e)},1)}).focus()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-service-group",function(e){e.preventDefault(),g(this).closest(".ovabrw-service-item").remove(),o()}),g("#ovabrw-rental").on("click","button.ovabrw-add-service-group",function(e){e.preventDefault();var e=g(this).closest(".ovabrw-services").find("button.ovabrw-add-service").data("add-new-option"),t=function(e=null){if(0<e.length){for(var t=[],a=(e.closest(".ovabrw-services").find("input.ovabrw-service-id").each(function(){-1===g.inArray(g(this).val(),t)&&t.push(g(this).val())}),1);-1!==g.inArray("option_"+a,t);)a=parseInt(a+1);return"option_"+a}}(g(this)),a=(t&&(e=e.replace(/\[serviceOptionID\]/g,t)),g(this).closest("table").find("tbody").append(e),g(this).closest("table").find("tbody tr:last td:first input"));a.focus(function(){var e=a.val().length;setTimeout(function(){a[0].setSelectionRange(e,e)},1)}).focus(),o()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-service-option",function(e){e.preventDefault(),g(this).closest("tr").remove()})},allowedDates:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-allowed-date",function(e){e.preventDefault();var e=i("ovabrw_allowed_startdate"),t=i("ovabrw_allowed_enddate"),a=(a=(a=g(this).data("add-new")).replace(/allowedStartUniqueID/g,e)).replace(/allowedEndUniqueID/g,t);g(this).closest("table").find("tbody").append(a),g(this).closest("table").find("tbody tr:last td:first input").focus(),k.datepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-allowed-date",function(e){e.preventDefault(),g(this).closest("tr").remove()})},disabledDates:function(){g("#ovabrw-rental").on("click","button.ovabrw-add-disabled-date",function(e){e.preventDefault();var e=i("ovabrw_disabled_from"),t=i("ovabrw_disabled_to"),a=(a=(a=g(this).data("add-new")).replace(/disabledFromUniqueID/g,e)).replace(/disabledToUniqueID/g,t);g(this).closest("table").find("tbody").append(a),g(this).closest("table").find("tbody tr:last td:first input").focus(),k.datepicker(),k.datetimepicker()}),g("#ovabrw-rental").on("click","button.ovabrw-remove-disabled-date",function(e){e.preventDefault(),g(this).closest("tr").remove()})},productMap:function(){var a=0;let o=setInterval(function(){var e,t;"object"==typeof google&&"object"==typeof google.maps.places?(clearInterval(o),g.fn.product_map=function(e){e=g.extend({lat:-33.8688,lng:151.2195,zoom:17},e);var t=new google.maps.Map(document.getElementById("admin_show_map"),{center:{lat:e.lat,lng:e.lng},zoom:e.zoom,gestureHandling:"cooperative"}),e=document.getElementById("pac-input"),a=new google.maps.places.Autocomplete(e),e=(a.bindTo("bounds",t),t.controls[google.maps.ControlPosition.TOP_LEFT].push(e),g("#pac-input").val()),o=new google.maps.InfoWindow({content:e}),i=new google.maps.Marker({map:t,position:t.getCenter()});i.addListener("click",function(){o.open(t,i)}),a.addListener("place_changed",function(){o.close();var e=a.getPlace();g("#map_info #ovabrw_address").val(g("input#pac-input").val()),e.geometry&&(e.geometry.viewport?t.fitBounds(e.geometry.viewport):(t.setCenter(e.geometry.location),t.setZoom(17)),i.setPlace({placeId:e.place_id,location:e.geometry.location}),i.setVisible(!0),g("#map_info #ovabrw_address").val(e.formatted_address),g("#map_info #ovabrw_latitude").val(e.geometry.location.lat()),g("#map_info #ovabrw_longitude").val(e.geometry.location.lng()),o.setContent(e.formatted_address),o.open(t,i))})},0<g("#admin_show_map").length&&(e=parseFloat(g("input#ovabrw_latitude").val()),t=parseFloat(g("input#ovabrw_longitude").val()),g("#admin_show_map").product_map({lat:e,lng:t,zoom:17}))):10<++a&&clearInterval(o)},100)},taxonomies:function(){function e(){var e;"undefined"!=typeof ovabrwTaxonomies&&(e=ovabrwTaxonomies.split(","),g.each(e,function(e,t){0<g("#"+t+"div").length&&g("#"+t+"div").hide(),0<g("#"+t).length&&g("#"+t).closest(".wcfm_product_taxonomy_"+t).hide()}),g(document).find('input[name="tax_input[product_cat][]"]').prop("disabled",!0),0<(e=function(){var e=[];0<g(document).find("#product_catchecklist").length?g(document).find('#product_catchecklist input[name="tax_input[product_cat][]"]:checked').each(function(){e.push(g(this).val())}):g(document).find("#product_cats_checklist")&&g(document).find('#product_cats_checklist input[name="product_cats[]"]:checked').each(function(){e.push(g(this).val())});return e}()).length?g.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_get_custom_tax_in_cat",security:ajax_object.security,term_ids:e},success:function(e){e&&(e=e.split(","),g.each(e,function(e,t){0<g("#"+t+"div").length&&g("#"+t+"div").show(),0<g("#"+t).length&&g("#"+t).closest(".wcfm_product_taxonomy_"+t).show()})),g(document).find('input[name="tax_input[product_cat][]"]').prop("disabled",!1)}}):g(document).find('input[name="tax_input[product_cat][]"]').prop("disabled",!1))}e(),g(document).find('#product_catchecklist input[name="tax_input[product_cat][]"]').on("change",function(){e()}),g(document).find('#product_cats_checklist input[name="product_cats[]"]').on("change",function(){e()})},rentalType:function(){g(document).on("change",'select[name="ovabrw_price_type"]',function(){var t=g(this),e=t.closest('form[name="post"]').find('input[name="post_ID"]').val(),a=t.closest("#general_product_data"),o=t.val(),e=e||t.closest("form").find('input[name="pro_id"]').val();a.find(".ovabrw-rental-type-loading").css("display","flex"),g.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"ovabrw_change_rental_type",security:ajax_object.security,product_id:e,rental_type:o},success:function(e){a.find("#ovabrw-rental").remove(),a.append(e),k.ovabrwSortable(),k.select2Field(),k.timepicker(),k.datepicker(),k.datetimepicker(),k.deposit(),k.manageStore(),"period_time"===o&&(k.packageType(),k.periodTime()),"taxi"===o&&(k.taxi(),k.extraTime(),k.discountDistance(),k.specialTimeDistance()),k.timeSlots(),k.locations(),k.locationPrices(),k.specifications(),k.features(),k.globalDiscounts(),k.specialTimes(),k.resources(),k.services(),k.allowedDates(),k.disabledDates(),k.productMap(),k.taxonomies(),k.advancedSettings(),"function"==typeof g.fn.tipTip&&g(".tips, .help_tip, .woocommerce-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200,keepAlive:!0}),wp.hooks.doAction("ovabrwProductEditor.afterChangeRentalType",e,t)}})})},updateProduct:function(){var c;function s(e=null){var t="";return t=0<e.length?(t=e.find('select[name="product-type"]').val())||e.find('select[name="product_type"]').val():t}function r(e=null){var a=!0;return 0<e.length&&e.find(".ovabrw-input-required").each(function(){var e,t;return g(this).val()&&0!==g(this).val().length?"number"==g(this).attr("type")?(e=parseInt(g(this).val()),isNaN(e)?(d(g(this),c.digits,!1),a=!1):(t=parseInt(g(this).data("min")),!isNaN(t)&&e<t?(d(g(this),c.min.replace(/\[number\]/g,t),!1),a=!1):(t=parseInt(g(this).data("max")),!isNaN(t)&&t<e?(d(g(this),c.max.replace(/\[number\]/g,t),!1),a=!1):void 0))):void 0:(d(g(this),c.required),a=!1)}),a}function l(e=null){var o=!0;if(0<e.length){var i=e.find('input[name="ovabrw_use_location"]:checked').val(),t=(e.find(".ovabrw-time-slots .ovabrw-daily").each(function(){var a=[];if(g(this).find("table tbody tr").each(function(){if(i){var e=g(this).find(".timeslot-location select").val(),t=g(this).find("input.start-time").val();if(-1!==g.inArray(e+"-"+t,a))return d(g(this).find("input.start-time"),c.duplicateTime),o=!1;a.push(e+"-"+t)}else{t=g(this).find("input.start-time").val(),e=g(this).find("input.end-time").val();if(-1!==g.inArray(t+"-"+e,a))return d(g(this).find("input.start-time"),c.duplicateTime),o=!1;a.push(t+"-"+e)}}),!o)return!1}),[]);if(e.find('.ovabrw-period-time input[name="ovabrw_petime_id[]"]').each(function(){if(-1!==g.inArray(g(this).val(),t))return d(g(this),c.duplicateID),o=!1;t.push(g(this).val())}),!o)return o;var a=[];if(e.find('.ovabrw-resources input[name="ovabrw_resource_id[]"]').each(function(){if(-1!==g.inArray(g(this).val(),a))return d(g(this),c.duplicateID),o=!1;a.push(g(this).val())}),!o)return o;var n=[];if(e.find('.ovabrw-services input[name="ovabrw_label_service[]"]').each(function(){if(-1!==g.inArray(g(this).val(),n))return d(g(this),c.duplicateID),o=!1;n.push(g(this).val())}),!o)return o;var s=[];if(e.find(".ovabrw-services input.ovabrw-service-id").each(function(){if(-1!==g.inArray(g(this).val(),s))return d(g(this),c.duplicateID),o=!1;s.push(g(this).val())}),!o)return o;var r=[];if(e.find(".ovabrw-unavailable-time table tbody tr").each(function(){var e=g(this).find("input.start-date"),t=g(this).find("input.end-date");if(-1!==g.inArray(e.val()+"_"+t.val(),r))return d(e,c.duplicateDate),o=!1;r.push(e.val()+"_"+t.val())}),!o);}return o}function d(t=null,a="",e=!0){if(t&&0<t.length){var o=t.closest(".advanced-content");if(0<o.length&&o.is(":hidden")&&(o.closest(".ovabrw-advanced-settings").find(".advanced-header").click(),g("html, body").animate({scrollTop:t.offset().top-g(window).height()/2},500)),e){o=t.val();t.val(""),t.val(o).focus();const i=tippy(t[0],{trigger:"manual",content:'<span class="ovabrw-tippy">'+a+"</span>",animation:"scale",allowHTML:!0,arrow:!0,zIndex:999999});i.show(),setTimeout(function(){i.destroy()},5e3)}else g("html, body").animate({scrollTop:t.offset().top-g(window).height()/2},500,function(){const e=tippy(t[0],{trigger:"manual",content:'<span class="ovabrw-tippy">'+a+"</span>",animation:"scale",allowHTML:!0,arrow:!0,zIndex:999999});e.show(),setTimeout(function(){e.destroy()},5e3)})}}function f(e){product_form_is_valid=!0,g(".wcfm-message").html("").removeClass("wcfm-error").removeClass("wcfm-success").slideUp();var t=g.trim(g("#wcfm_products_manage_form").find("#pro_title").val());return g("#wcfm_products_manage_form").find("#pro_title").removeClass("wcfm_validation_failed").addClass("wcfm_validation_success"),0==t.length&&(g("#wcfm_products_manage_form").find("#pro_title").removeClass("wcfm_validation_success").addClass("wcfm_validation_failed"),product_form_is_valid=!1,g("#wcfm_products_manage_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+wcfm_products_manage_messages.no_title).addClass("wcfm-error").slideDown(),wcfm_notification_sound.play()),0<g(".wcfm_custom_field_editor").length&&g(".wcfm_custom_field_editor").each(function(){(($wcfm_custom_field_editor=g(this)).hasClass("rich_editor")||$wcfm_custom_field_editor.hasClass("wcfm_wpeditor"))&&g("#"+$wcfm_custom_field_editor.attr("id")).val(getWCFMEditorContent($wcfm_custom_field_editor.attr("id")))}),e&&(g(document.body).trigger("wcfm_products_manage_form_validate",g("#wcfm_products_manage_form")),$wcfm_is_valid_form=product_form_is_valid,g(document.body).trigger("wcfm_form_validate",g("#wcfm_products_manage_form")),product_form_is_valid=$wcfm_is_valid_form),product_form_is_valid}"undefined"!=typeof ovabrwErrorMessages&&(c=ovabrwErrorMessages),g(document).find("#ovabrw-rental").closest("form").each(function(){var n=g(this),e=n.find('input[name="submit-data"]'),t=n.find('input[name="draft-data"]');0<e.length||0<t?(e.off("click").on("click",function(e){var t,a,o,i;e.preventDefault(),"ovabrw_car_rental"==s(n)&&r(n)&&l(n)&&(g(".wcfm_submit_button").hide(),i=getWCFMEditorContent("excerpt"),t=getWCFMEditorContent("description"),a=getWCFMEditorContent("_ticket_content"),o=getWCFMEditorContent("_ticket_email_html"),f(!0)?(g("#wcfm_products_manage_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),i={action:"wcfm_ajax_controller",controller:"wcfm-products-manage",wcfm_products_manage_form:g("#wcfm_products_manage_form").serialize(),excerpt:i,description:t,status:"submit",removed_variations:removed_variations,removed_person_types:removed_person_types,ticket_content:a,ticket_email_html:o,product_manage_from_popup:product_manage_from_popup,variation_auto_generate:product_variation_auto_generate,wcfm_ajax_nonce:wcfm_params.wcfm_ajax_nonce},g.post(wcfm_params.ajax_url,i,function(e){var t;e&&(t=g.parseJSON(e),g(".wcfm-message").html("").removeClass("wcfm-error").removeClass("wcfm-success").slideUp(),wcfm_notification_sound.play(),t.status?g("#wcfm_products_manage_form .wcfm-message").html('<span class="wcicon-status-completed"></span>'+t.message).addClass("wcfm-success").slideDown("slow",function(){t.redirect&&(window.location=t.redirect)}):g("#wcfm_products_manage_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+t.message).addClass("wcfm-error").slideDown(),t.id&&g("#pro_id").val(t.id),g("#wcfm_products_manage_form").unblock(),g(".wcfm_submit_button").show())})):g(".wcfm_submit_button").show()),wp.hooks.doAction("ovabrwProductEditor.afterWcfmSubmitClick",e,n)}),t.off("click").on("click",function(e){var t,a,o,i;e.preventDefault(),"ovabrw_car_rental"==s(n)&&r(n)&&l(n)&&(g(".wcfm_submit_button").hide(),i=getWCFMEditorContent("excerpt"),t=getWCFMEditorContent("description"),a=getWCFMEditorContent("_ticket_content"),o=getWCFMEditorContent("_ticket_email_html"),f(!1)?(g("#wcfm_products_manage_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),i={action:"wcfm_ajax_controller",controller:"wcfm-products-manage",wcfm_products_manage_form:g("#wcfm_products_manage_form").serialize(),excerpt:i,description:t,status:"draft",removed_variations:removed_variations,removed_person_types:removed_person_types,ticket_content:a,ticket_email_html:o,product_manage_from_popup:product_manage_from_popup,variation_auto_generate:product_variation_auto_generate,wcfm_ajax_nonce:wcfm_params.wcfm_ajax_nonce},g.post(wcfm_params.ajax_url,i,function(e){var t;e&&(t=g.parseJSON(e),g(".wcfm-message").html("").removeClass("wcfm-error").removeClass("wcfm-success").slideUp(),wcfm_notification_sound.play(),t.status?g("#wcfm_products_manage_form .wcfm-message").html('<span class="wcicon-status-completed"></span>'+t.message).addClass("wcfm-success").slideDown("slow",function(){t.redirect&&(window.location=t.redirect)}):g("#wcfm_products_manage_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+t.message).addClass("wcfm-error").slideDown(),t.id&&g("#pro_id").val(t.id),wcfmMessageHide(),g("#wcfm_products_manage_form").unblock(),g(".wcfm_submit_button").show())})):g(".wcfm_submit_button").show()),wp.hooks.doAction("ovabrwProductEditor.afterWcfmDraftClick",e,n)})):n.submit(function(e){"ovabrw_car_rental"==s(n)&&(r(n)&&l(n)||e.preventDefault(),wp.hooks.doAction("ovabrwProductEditor.updateProduct",e,n))})})}};function i(e=""){return e+"_"+Date.now()+"_"+(e=0,t=Math.floor(Math.random()*(Math.pow(2,31)-1)),Math.floor(Math.random()*(t-e+1))+e);var t}function l(e="",t="DD-MM-YYYY"){var a,o;return!(!e||([o=""]=[e],!o)||(o=new Date(o),isNaN(o.getTime())))&&(e=("0"+(o=new Date(e)).getDate()).slice(-2),a=("0"+(o.getMonth()+1)).slice(-2),o=o.getFullYear(),t.replace("DD",e).replace("MM",a).replace("YYYY",o))}g(document).ready(function(){k.init()})}(jQuery);